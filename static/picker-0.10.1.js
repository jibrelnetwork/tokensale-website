!function(){function e(e){return void 0===e||null===e}function t(e){return void 0!==e&&null!==e}function i(e){return!0===e}function n(e){return!1===e}function r(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function o(e){return null!==e&&"object"==typeof e}function a(e){return"[object Object]"===wr.call(e)}function s(e){return"[object RegExp]"===wr.call(e)}function c(e){var t=parseFloat(e);return t>=0&&Math.floor(t)===t&&isFinite(e)}function l(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function u(e){var t=parseFloat(e);return isNaN(t)?e:t}function d(e,t){for(var i=Object.create(null),n=e.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}function f(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}function p(e,t){return Ar.call(e,t)}function h(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}function m(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function g(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n}function v(e,t){for(var i in t)e[i]=t[i];return e}function _(e){for(var t={},i=0;i<e.length;i++)e[i]&&v(t,e[i]);return t}function y(e,t,i){}function b(e,t){if(e===t)return!0;var i=o(e),n=o(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every(function(e,i){return b(e,t[i])});if(r||a)return!1;var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every(function(i){return b(e[i],t[i])})}catch(e){return!1}}function w(e,t){for(var i=0;i<e.length;i++)if(b(e[i],t))return i;return-1}function C(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function A(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function S(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function E(e){if(!Ur.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}function x(e,t,i){if(Mr.errorHandler)Mr.errorHandler.call(null,e,t,i);else{if(!zr||"undefined"==typeof console)throw e;console.error(e)}}function F(e){return"function"==typeof e&&/native code/.test(e.toString())}function k(e){no.target&&ro.push(no.target),no.target=e}function I(){no.target=ro.pop()}function O(e,t,i){e.__proto__=t}function T(e,t,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];S(e,o,t[o])}}function D(e,t){if(o(e)){var i;return p(e,"__ob__")&&e.__ob__ instanceof lo?i=e.__ob__:co.shouldConvert&&!Zr()&&(Array.isArray(e)||a(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new lo(e)),t&&i&&i.vmCount++,i}}function L(e,t,i,n,r){var o=new no,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set,l=!r&&D(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):i;return no.target&&(o.depend(),l&&l.dep.depend(),Array.isArray(t)&&U(t)),t},set:function(t){var n=s?s.call(e):i;t===n||t!==t&&n!==n||(c?c.call(e,t):i=t,l=!r&&D(t),o.notify())}})}}function M(e,t,i){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(p(e,t))return e[t]=i,i;var n=e.__ob__;return e._isVue||n&&n.vmCount?i:n?(L(n.value,t,i),n.dep.notify(),i):(e[t]=i,i)}function R(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||p(e,t)&&(delete e[t],i&&i.dep.notify())}}function U(e){for(var t=void 0,i=0,n=e.length;i<n;i++)(t=e[i])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&U(t)}function N(e,t){if(!t)return e;for(var i,n,r,o=Object.keys(t),s=0;s<o.length;s++)n=e[i=o[s]],r=t[i],p(e,i)?a(n)&&a(r)&&N(n,r):M(e,i,r);return e}function P(e,t,i){return i?e||t?function(){var n="function"==typeof t?t.call(i):t,r="function"==typeof e?e.call(i):void 0;return n?N(n,r):r}:void 0:t?e?function(){return N("function"==typeof t?t.call(this):t,"function"==typeof e?e.call(this):e)}:t:e}function z(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function B(e,t){var i=Object.create(e||null);return t?v(i,t):i}function $(e){var t=e.props;if(t){var i,n,r={};if(Array.isArray(t))for(i=t.length;i--;)"string"==typeof(n=t[i])&&(r[Er(n)]={type:null});else if(a(t))for(var o in t)n=t[o],r[Er(o)]=a(n)?n:{type:n};e.props=r}}function j(e){var t=e.inject;if(Array.isArray(t))for(var i=e.inject={},n=0;n<t.length;n++)i[t[n]]=t[n]}function W(e){var t=e.directives;if(t)for(var i in t){var n=t[i];"function"==typeof n&&(t[i]={bind:n,update:n})}}function H(e,t,i){function n(n){var r=uo[n]||fo;c[n]=r(e[n],t[n],i,n)}"function"==typeof t&&(t=t.options),$(t),j(t),W(t);var r=t.extends;if(r&&(e=H(e,r,i)),t.mixins)for(var o=0,a=t.mixins.length;o<a;o++)e=H(e,t.mixins[o],i);var s,c={};for(s in e)n(s);for(s in t)p(e,s)||n(s);return c}function G(e,t,i,n){if("string"==typeof i){var r=e[t];if(p(r,i))return r[i];var o=Er(i);if(p(r,o))return r[o];var a=xr(o);if(p(r,a))return r[a];var s=r[i]||r[o]||r[a];return s}}function V(e,t,i,n){var r=t[e],o=!p(i,e),a=i[e];if(X(Boolean,r.type)&&(o&&!p(r,"default")?a=!1:X(String,r.type)||""!==a&&a!==kr(e)||(a=!0)),void 0===a){a=Y(n,r,e);var s=co.shouldConvert;co.shouldConvert=!0,D(a),co.shouldConvert=s}return a}function Y(e,t,i){if(p(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"==typeof n&&"Function"!==q(t.type)?n.call(e):n}}function q(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function X(e,t){if(!Array.isArray(t))return q(t)===q(e);for(var i=0,n=t.length;i<n;i++)if(q(t[i])===q(e))return!0;return!1}function Q(e){return new po(void 0,void 0,void 0,String(e))}function K(e){var t=new po(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.isCloned=!0,t}function Z(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=K(e[n]);return i}function J(e){function t(){var e=arguments,i=t.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=i.slice(),r=0;r<n.length;r++)n[r].apply(null,e)}return t.fns=e,t}function ee(t,i,n,r,o){var a,s,c,l;for(a in t)s=t[a],c=i[a],l=vo(a),e(s)||(e(c)?(e(s.fns)&&(s=t[a]=J(s)),n(l.name,s,l.once,l.capture,l.passive)):s!==c&&(c.fns=s,t[a]=c));for(a in i)e(t[a])&&r((l=vo(a)).name,i[a],l.capture)}function te(n,r,o){function a(){o.apply(this,arguments),f(s.fns,a)}var s,c=n[r];e(c)?s=J([a]):t(c.fns)&&i(c.merged)?(s=c).fns.push(a):s=J([c,a]),s.merged=!0,n[r]=s}function ie(i,n,r){var o=n.options.props;if(!e(o)){var a={},s=i.attrs,c=i.props;if(t(s)||t(c))for(var l in o){var u=kr(l);ne(a,c,l,u,!0)||ne(a,s,l,u,!1)}return a}}function ne(e,i,n,r,o){if(t(i)){if(p(i,n))return e[n]=i[n],o||delete i[n],!0;if(p(i,r))return e[n]=i[r],o||delete i[r],!0}return!1}function re(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function oe(e){return r(e)?[Q(e)]:Array.isArray(e)?se(e):void 0}function ae(e){return t(e)&&t(e.text)&&n(e.isComment)}function se(n,o){var a,s,c,l=[];for(a=0;a<n.length;a++)e(s=n[a])||"boolean"==typeof s||(c=l[l.length-1],Array.isArray(s)?l.push.apply(l,se(s,(o||"")+"_"+a)):r(s)?ae(c)?c.text+=String(s):""!==s&&l.push(Q(s)):ae(s)&&ae(c)?l[l.length-1]=Q(c.text+s.text):(i(n._isVList)&&t(s.tag)&&e(s.key)&&t(o)&&(s.key="__vlist"+o+"_"+a+"__"),l.push(s)));return l}function ce(e,t){return e.__esModule&&e.default&&(e=e.default),o(e)?t.extend(e):e}function le(e,t,i,n,r){var o=go();return o.asyncFactory=e,o.asyncMeta={data:t,context:i,children:n,tag:r},o}function ue(n,r,a){if(i(n.error)&&t(n.errorComp))return n.errorComp;if(t(n.resolved))return n.resolved;if(i(n.loading)&&t(n.loadingComp))return n.loadingComp;if(!t(n.contexts)){var s=n.contexts=[a],c=!0,l=function(){for(var e=0,t=s.length;e<t;e++)s[e].$forceUpdate()},u=C(function(e){n.resolved=ce(e,r),c||l()}),d=C(function(e){t(n.errorComp)&&(n.error=!0,l())}),f=n(u,d);return o(f)&&("function"==typeof f.then?e(n.resolved)&&f.then(u,d):t(f.component)&&"function"==typeof f.component.then&&(f.component.then(u,d),t(f.error)&&(n.errorComp=ce(f.error,r)),t(f.loading)&&(n.loadingComp=ce(f.loading,r),0===f.delay?n.loading=!0:setTimeout(function(){e(n.resolved)&&e(n.error)&&(n.loading=!0,l())},f.delay||200)),t(f.timeout)&&setTimeout(function(){e(n.resolved)&&d(null)},f.timeout))),c=!1,n.loading?n.loadingComp:n.resolved}n.contexts.push(a)}function de(e){if(Array.isArray(e))for(var i=0;i<e.length;i++){var n=e[i];if(t(n)&&t(n.componentOptions))return n}}function fe(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&me(e,t)}function pe(e,t,i){i?mo.$once(e,t):mo.$on(e,t)}function he(e,t){mo.$off(e,t)}function me(e,t,i){mo=e,ee(t,i||{},pe,he,e)}function ge(e,t){var i={};if(!e)return i;for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];if(a.context!==t&&a.functionalContext!==t||!a.data||null==a.data.slot)n.push(a);else{var s=a.data.slot,c=i[s]||(i[s]=[]);"template"===a.tag?c.push.apply(c,a.children):c.push(a)}}return n.every(ve)||(i.default=n),i}function ve(e){return e.isComment||" "===e.text}function _e(e,t){t=t||{};for(var i=0;i<e.length;i++)Array.isArray(e[i])?_e(e[i],t):t[e[i].key]=e[i].fn;return t}function ye(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function be(e,t,i){e.$el=t,e.$options.render||(e.$options.render=go),Ee(e,"beforeMount");var n;return n=function(){e._update(e._render(),i)},e._watcher=new xo(e,n,y),i=!1,null==e.$vnode&&(e._isMounted=!0,Ee(e,"mounted")),e}function we(e,t,i,n,r){var o=!!(r||e.$options._renderChildren||n.data.scopedSlots||e.$scopedSlots!==Rr);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=r,e.$attrs=n.data&&n.data.attrs,e.$listeners=i,t&&e.$options.props){co.shouldConvert=!1;for(var a=e._props,s=e.$options._propKeys||[],c=0;c<s.length;c++){var l=s[c];a[l]=V(l,e.$options.props,t,e)}co.shouldConvert=!0,e.$options.propsData=t}if(i){var u=e.$options._parentListeners;e.$options._parentListeners=i,me(e,i,u)}o&&(e.$slots=ge(r,n.context),e.$forceUpdate())}function Ce(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ae(e,t){if(t){if(e._directInactive=!1,Ce(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Ae(e.$children[i]);Ee(e,"activated")}}function Se(e,t){if(!(t&&(e._directInactive=!0,Ce(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Se(e.$children[i]);Ee(e,"deactivated")}}function Ee(e,t){var i=e.$options[t];if(i)for(var n=0,r=i.length;n<r;n++)try{i[n].call(e)}catch(i){x(i,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function xe(){So=yo.length=bo.length=0,wo={},Co=Ao=!1}function Fe(){Ao=!0;var e,t;for(yo.sort(function(e,t){return e.id-t.id}),So=0;So<yo.length;So++)t=(e=yo[So]).id,wo[t]=null,e.run();var i=bo.slice(),n=yo.slice();xe(),Oe(i),ke(n),Jr&&Mr.devtools&&Jr.emit("flush")}function ke(e){for(var t=e.length;t--;){var i=e[t],n=i.vm;n._watcher===i&&n._isMounted&&Ee(n,"updated")}}function Ie(e){e._inactive=!1,bo.push(e)}function Oe(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ae(e[t],!0)}function Te(e){var t=e.id;if(null==wo[t]){if(wo[t]=!0,Ao){for(var i=yo.length-1;i>So&&yo[i].id>e.id;)i--;yo.splice(i+1,0,e)}else yo.push(e);Co||(Co=!0,to(Fe))}}function De(e){Fo.clear(),Le(e,Fo)}function Le(e,t){var i,n,r=Array.isArray(e);if((r||o(e))&&Object.isExtensible(e)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(r)for(i=e.length;i--;)Le(e[i],t);else for(i=(n=Object.keys(e)).length;i--;)Le(e[n[i]],t)}}function Me(e,t,i){ko.get=function(){return this[t][i]},ko.set=function(e){this[t][i]=e},Object.defineProperty(e,i,ko)}function Re(e){e._watchers=[];var t=e.$options;t.props&&Ue(e,t.props),t.methods&&je(e,t.methods),t.data?Ne(e):D(e._data={},!0),t.computed&&ze(e,t.computed),t.watch&&t.watch!==Yr&&We(e,t.watch)}function Ue(e,t){var i=e.$options.propsData||{},n=e._props={},r=e.$options._propKeys=[],o=!e.$parent;co.shouldConvert=o;for(var a in t)!function(o){r.push(o);var a=V(o,t,i,e);L(n,o,a),o in e||Me(e,"_props",o)}(a);co.shouldConvert=!0}function Ne(e){var t=e.$options.data;a(t=e._data="function"==typeof t?Pe(t,e):t||{})||(t={});for(var i=Object.keys(t),n=e.$options.props,r=(e.$options.methods,i.length);r--;){var o=i[r];n&&p(n,o)||A(o)||Me(e,"_data",o)}D(t,!0)}function Pe(e,t){try{return e.call(t)}catch(e){return x(e,t,"data()"),{}}}function ze(e,t){var i=e._computedWatchers=Object.create(null);for(var n in t){var r=t[n],o="function"==typeof r?r:r.get;i[n]=new xo(e,o||y,y,Io),n in e||Be(e,n,r)}}function Be(e,t,i){"function"==typeof i?(ko.get=$e(t),ko.set=y):(ko.get=i.get?!1!==i.cache?$e(t):i.get:y,ko.set=i.set?i.set:y),Object.defineProperty(e,t,ko)}function $e(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),no.target&&t.depend(),t.value}}function je(e,t){e.$options.props;for(var i in t)e[i]=null==t[i]?y:m(t[i],e)}function We(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)He(e,i,n[r]);else He(e,i,n)}}function He(e,t,i,n){return a(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,n)}function Ge(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function Ve(e){var t=Ye(e.$options.inject,e);t&&(co.shouldConvert=!1,Object.keys(t).forEach(function(i){L(e,i,t[i])}),co.shouldConvert=!0)}function Ye(e,t){if(e){for(var i=Object.create(null),n=eo?Reflect.ownKeys(e):Object.keys(e),r=0;r<n.length;r++)for(var o=n[r],a=e[o],s=t;s;){if(s._provided&&a in s._provided){i[o]=s._provided[a];break}s=s.$parent}return i}}function qe(e,i,n,r,o){var a={},s=e.options.props;if(t(s))for(var c in s)a[c]=V(c,s,i||{});else t(n.attrs)&&Xe(a,n.attrs),t(n.props)&&Xe(a,n.props);var l=Object.create(r),u=e.options.render.call(null,function(e,t,i,n){return tt(l,e,t,i,n,!0)},{data:n,props:a,children:o,parent:r,listeners:n.on||{},injections:Ye(e.options.inject,r),slots:function(){return ge(o,r)}});return u instanceof po&&(u.functionalContext=r,u.functionalOptions=e.options,n.slot&&((u.data||(u.data={})).slot=n.slot)),u}function Xe(e,t){for(var i in t)e[Er(i)]=t[i]}function Qe(n,r,a,s,c){if(!e(n)){var l=a.$options._base;if(o(n)&&(n=l.extend(n)),"function"==typeof n){var u;if(e(n.cid)&&(u=n,void 0===(n=ue(u,l,a))))return le(u,r,a,s,c);r=r||{},gt(n),t(r.model)&&et(n.options,r);var d=ie(r,n,c);if(i(n.options.functional))return qe(n,d,r,a,s);var f=r.on;if(r.on=r.nativeOn,i(n.options.abstract)){var p=r.slot;r={},p&&(r.slot=p)}Ze(r);var h=n.options.name||c;return new po("vue-component-"+n.cid+(h?"-"+h:""),r,void 0,void 0,void 0,a,{Ctor:n,propsData:d,listeners:f,tag:c,children:s},u)}}}function Ke(e,i,n,r){var o=e.componentOptions,a={_isComponent:!0,parent:i,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:r||null},s=e.data.inlineTemplate;return t(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new o.Ctor(a)}function Ze(e){e.hook||(e.hook={});for(var t=0;t<To.length;t++){var i=To[t],n=e.hook[i],r=Oo[i];e.hook[i]=n?Je(r,n):r}}function Je(e,t){return function(i,n,r,o){e(i,n,r,o),t(i,n,r,o)}}function et(e,i){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(i.props||(i.props={}))[n]=i.model.value;var o=i.on||(i.on={});t(o[r])?o[r]=[i.model.callback].concat(o[r]):o[r]=i.model.callback}function tt(e,t,n,o,a,s){return(Array.isArray(n)||r(n))&&(a=o,o=n,n=void 0),i(s)&&(a=Lo),it(e,t,n,o,a)}function it(e,i,n,r,o){if(t(n)&&t(n.__ob__))return go();if(t(n)&&t(n.is)&&(i=n.is),!i)return go();Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),o===Lo?r=oe(r):o===Do&&(r=re(r));var a,s;if("string"==typeof i){var c;s=Mr.getTagNamespace(i),a=Mr.isReservedTag(i)?new po(Mr.parsePlatformTagName(i),n,r,void 0,void 0,e):t(c=G(e.$options,"components",i))?Qe(c,n,e,r,i):new po(i,n,r,void 0,void 0,e)}else a=Qe(i,n,e,r);return t(a)?(s&&nt(a,s),a):go()}function nt(i,n){if(i.ns=n,"foreignObject"!==i.tag&&t(i.children))for(var r=0,o=i.children.length;r<o;r++){var a=i.children[r];t(a.tag)&&e(a.ns)&&nt(a,n)}}function rt(e,i){var n,r,a,s,c;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,a=e.length;r<a;r++)n[r]=i(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=i(r+1,r);else if(o(e))for(s=Object.keys(e),n=new Array(s.length),r=0,a=s.length;r<a;r++)c=s[r],n[r]=i(e[c],c,r);return t(n)&&(n._isVList=!0),n}function ot(e,t,i,n){var r=this.$scopedSlots[e];if(r)return i=i||{},n&&(i=v(v({},n),i)),r(i)||t;var o=this.$slots[e];return o||t}function at(e){return G(this.$options,"filters",e,!0)||Or}function st(e,t,i){var n=Mr.keyCodes[t]||i;return Array.isArray(n)?-1===n.indexOf(e):n!==e}function ct(e,t,i,n,r){if(i)if(o(i)){Array.isArray(i)&&(i=_(i));var a;for(var s in i)!function(o){if("class"===o||"style"===o||Cr(o))a=e;else{var s=e.attrs&&e.attrs.type;a=n||Mr.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}o in a||(a[o]=i[o],r&&((e.on||(e.on={}))["update:"+o]=function(e){i[o]=e}))}(s)}else;return e}function lt(e,t){var i=this._staticTrees[e];return i&&!t?Array.isArray(i)?Z(i):K(i):(i=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),dt(i,"__static__"+e,!1),i)}function ut(e,t,i){return dt(e,"__once__"+t+(i?"_"+i:""),!0),e}function dt(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&ft(e[n],t+"_"+n,i);else ft(e,t,i)}function ft(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function pt(e,t){if(t)if(a(t)){var i=e.on=e.on?v({},e.on):{};for(var n in t){var r=i[n],o=t[n];i[n]=r?[].concat(o,r):o}}else;return e}function ht(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,i=t&&t.context;e.$slots=ge(e.$options._renderChildren,i),e.$scopedSlots=Rr,e._c=function(t,i,n,r){return tt(e,t,i,n,r,!1)},e.$createElement=function(t,i,n,r){return tt(e,t,i,n,r,!0)};var n=t&&t.data;L(e,"$attrs",n&&n.attrs,null,!0),L(e,"$listeners",e.$options._parentListeners,null,!0)}function mt(e,t){var i=e.$options=Object.create(e.constructor.options);i.parent=t.parent,i.propsData=t.propsData,i._parentVnode=t._parentVnode,i._parentListeners=t._parentListeners,i._renderChildren=t._renderChildren,i._componentTag=t._componentTag,i._parentElm=t._parentElm,i._refElm=t._refElm,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function gt(e){var t=e.options;if(e.super){var i=gt(e.super);if(i!==e.superOptions){e.superOptions=i;var n=vt(e);n&&v(e.extendOptions,n),(t=e.options=H(i,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function vt(e){var t,i=e.options,n=e.extendOptions,r=e.sealedOptions;for(var o in i)i[o]!==r[o]&&(t||(t={}),t[o]=_t(i[o],n[o],r[o]));return t}function _t(e,t,i){if(Array.isArray(e)){var n=[];i=Array.isArray(i)?i:[i],t=Array.isArray(t)?t:[t];for(var r=0;r<e.length;r++)(t.indexOf(e[r])>=0||i.indexOf(e[r])<0)&&n.push(e[r]);return n}return e}function yt(e){this._init(e)}function bt(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=g(arguments,1);return i.unshift(this),"function"==typeof e.install?e.install.apply(e,i):"function"==typeof e&&e.apply(null,i),t.push(e),this}}function wt(e){e.mixin=function(e){return this.options=H(this.options,e),this}}function Ct(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var o=e.name||i.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=H(i.options,e),a.super=i,a.options.props&&At(a),a.options.computed&&St(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,Dr.forEach(function(e){a[e]=i[e]}),o&&(a.options.components[o]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=v({},a.options),r[n]=a,a}}function At(e){var t=e.options.props;for(var i in t)Me(e.prototype,"_props",i)}function St(e){var t=e.options.computed;for(var i in t)Be(e.prototype,i,t[i])}function Et(e){Dr.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&a(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"==typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}function xt(e){return e&&(e.Ctor.options.name||e.tag)}function Ft(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!s(e)&&e.test(t)}function kt(e,t,i){for(var n in e){var r=e[n];if(r){var o=xt(r.componentOptions);o&&!i(o)&&(r!==t&&It(r),e[n]=null)}}}function It(e){e&&e.componentInstance.$destroy()}function Ot(e){for(var i=e.data,n=e,r=e;t(r.componentInstance);)(r=r.componentInstance._vnode).data&&(i=Tt(r.data,i));for(;t(n=n.parent);)n.data&&(i=Tt(i,n.data));return Dt(i.staticClass,i.class)}function Tt(e,i){return{staticClass:Lt(e.staticClass,i.staticClass),class:t(e.class)?[e.class,i.class]:i.class}}function Dt(e,i){return t(e)||t(i)?Lt(e,Mt(i)):""}function Lt(e,t){return e?t?e+" "+t:e:t||""}function Mt(e){return Array.isArray(e)?Rt(e):o(e)?Ut(e):"string"==typeof e?e:""}function Rt(e){for(var i,n="",r=0,o=e.length;r<o;r++)t(i=Mt(e[r]))&&""!==i&&(n&&(n+=" "),n+=i);return n}function Ut(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}function Nt(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Pt(e,t){var i=e.data.ref;if(i){var n=e.context,r=e.componentInstance||e.elm,o=n.$refs;t?Array.isArray(o[i])?f(o[i],r):o[i]===r&&(o[i]=void 0):e.data.refInFor?Array.isArray(o[i])?o[i].indexOf(r)<0&&o[i].push(r):o[i]=[r]:o[i]=r}}function zt(n,r){return n.key===r.key&&(n.tag===r.tag&&n.isComment===r.isComment&&t(n.data)===t(r.data)&&Bt(n,r)||i(n.isAsyncPlaceholder)&&n.asyncFactory===r.asyncFactory&&e(r.asyncFactory.error))}function Bt(e,i){if("input"!==e.tag)return!0;var n;return(t(n=e.data)&&t(n=n.attrs)&&n.type)===(t(n=i.data)&&t(n=n.attrs)&&n.type)}function $t(e,i,n){var r,o,a={};for(r=i;r<=n;++r)t(o=e[r].key)&&(a[o]=r);return a}function jt(e,t){(e.data.directives||t.data.directives)&&Wt(e,t)}function Wt(e,t){var i,n,r,o=e===ea,a=t===ea,s=Ht(e.data.directives,e.context),c=Ht(t.data.directives,t.context),l=[],u=[];for(i in c)n=s[i],r=c[i],n?(r.oldValue=n.value,Vt(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(Vt(r,"bind",t,e),r.def&&r.def.inserted&&l.push(r));if(l.length){var d=function(){for(var i=0;i<l.length;i++)Vt(l[i],"inserted",t,e)};o?te(t.data.hook||(t.data.hook={}),"insert",d):d()}if(u.length&&te(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var i=0;i<u.length;i++)Vt(u[i],"componentUpdated",t,e)}),!o)for(i in s)c[i]||Vt(s[i],"unbind",e,e,a)}function Ht(e,t){var i=Object.create(null);if(!e)return i;var n,r;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=na),i[Gt(r)]=r,r.def=G(t.$options,"directives",r.name,!0);return i}function Gt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Vt(e,t,i,n,r){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,n,r)}catch(n){x(n,i.context,"directive "+e.name+" "+t+" hook")}}function Yt(i,n){var r=n.componentOptions;if(!(t(r)&&!1===r.Ctor.options.inheritAttrs||e(i.data.attrs)&&e(n.data.attrs))){var o,a,s=n.elm,c=i.data.attrs||{},l=n.data.attrs||{};t(l.__ob__)&&(l=n.data.attrs=v({},l));for(o in l)a=l[o],c[o]!==a&&qt(s,o,a);jr&&l.value!==c.value&&qt(s,"value",l.value);for(o in c)e(l[o])&&(Ho(o)?s.removeAttributeNS(Wo,Go(o)):$o(o)||s.removeAttribute(o))}}function qt(e,t,i){jo(t)?Vo(i)?e.removeAttribute(t):e.setAttribute(t,t):$o(t)?e.setAttribute(t,Vo(i)||"false"===i?"false":"true"):Ho(t)?Vo(i)?e.removeAttributeNS(Wo,Go(t)):e.setAttributeNS(Wo,t,i):Vo(i)?e.removeAttribute(t):e.setAttribute(t,i)}function Xt(i,n){var r=n.elm,o=n.data,a=i.data;if(!(e(o.staticClass)&&e(o.class)&&(e(a)||e(a.staticClass)&&e(a.class)))){var s=Ot(n),c=r._transitionClasses;t(c)&&(s=Lt(s,Mt(c))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}function Qt(e){var i;t(e[sa])&&(e[i=$r?"change":"input"]=[].concat(e[sa],e[i]||[]),delete e[sa]),t(e[ca])&&(e[i=Vr?"click":"change"]=[].concat(e[ca],e[i]||[]),delete e[ca])}function Kt(e,t,i,n,r){if(i){var o=t,a=No;t=function(i){null!==(1===arguments.length?o(i):o.apply(null,arguments))&&Zt(e,t,n,a)}}No.addEventListener(e,t,qr?{capture:n,passive:r}:n)}function Zt(e,t,i,n){(n||No).removeEventListener(e,t,i)}function Jt(t,i){if(!e(t.data.on)||!e(i.data.on)){var n=i.data.on||{},r=t.data.on||{};No=i.elm,Qt(n),ee(n,r,Kt,Zt,i.context)}}function ei(i,n){if(!e(i.data.domProps)||!e(n.data.domProps)){var r,o,a=n.elm,s=i.data.domProps||{},c=n.data.domProps||{};t(c.__ob__)&&(c=n.data.domProps=v({},c));for(r in s)e(c[r])&&(a[r]="");for(r in c)if(o=c[r],"textContent"!==r&&"innerHTML"!==r||(n.children&&(n.children.length=0),o!==s[r]))if("value"===r){a._value=o;var l=e(o)?"":String(o);ti(a,n,l)&&(a.value=l)}else a[r]=o}}function ti(e,t,i){return!e.composing&&("option"===t.tag||ii(e,i)||ni(e,i))}function ii(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}function ni(e,i){var n=e.value,r=e._vModifiers;return t(r)&&r.number?u(n)!==u(i):t(r)&&r.trim?n.trim()!==i.trim():n!==i}function ri(e){var t=oi(e.style);return e.staticStyle?v(e.staticStyle,t):t}function oi(e){return Array.isArray(e)?_(e):"string"==typeof e?da(e):e}function ai(e,t){var i,n={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode).data&&(i=ri(r.data))&&v(n,i);(i=ri(e.data))&&v(n,i);for(var o=e;o=o.parent;)o.data&&(i=ri(o.data))&&v(n,i);return n}function si(i,n){var r=n.data,o=i.data;if(!(e(r.staticStyle)&&e(r.style)&&e(o.staticStyle)&&e(o.style))){var a,s,c=n.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},d=l||u,f=oi(n.data.style)||{};n.data.normalizedStyle=t(f.__ob__)?v({},f):f;var p=ai(n,!0);for(s in d)e(p[s])&&ha(c,s,"");for(s in p)(a=p[s])!==d[s]&&ha(c,s,null==a?"":a)}}function ci(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function li(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";i.indexOf(n)>=0;)i=i.replace(n," ");(i=i.trim())?e.setAttribute("class",i):e.removeAttribute("class")}}function ui(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&v(t,_a(e.name||"v")),v(t,e),t}return"string"==typeof e?_a(e):void 0}}function di(e){xa(function(){xa(e)})}function fi(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),ci(e,t))}function pi(e,t){e._transitionClasses&&f(e._transitionClasses,t),li(e,t)}function hi(e,t,i){var n=mi(e,t),r=n.type,o=n.timeout,a=n.propCount;if(!r)return i();var s=r===ba?Aa:Ea,c=0,l=function(){e.removeEventListener(s,u),i()},u=function(t){t.target===e&&++c>=a&&l()};setTimeout(function(){c<a&&l()},o+1),e.addEventListener(s,u)}function mi(e,t){var i,n=window.getComputedStyle(e),r=n[Ca+"Delay"].split(", "),o=n[Ca+"Duration"].split(", "),a=gi(r,o),s=n[Sa+"Delay"].split(", "),c=n[Sa+"Duration"].split(", "),l=gi(s,c),u=0,d=0;return t===ba?a>0&&(i=ba,u=a,d=o.length):t===wa?l>0&&(i=wa,u=l,d=c.length):d=(i=(u=Math.max(a,l))>0?a>l?ba:wa:null)?i===ba?o.length:c.length:0,{type:i,timeout:u,propCount:d,hasTransform:i===ba&&Fa.test(n[Ca+"Property"])}}function gi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return vi(t)+vi(e[i])}))}function vi(e){return 1e3*Number(e.slice(0,-1))}function _i(i,n){var r=i.elm;t(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=ui(i.data.transition);if(!e(a)&&!t(r._enterCb)&&1===r.nodeType){for(var s=a.css,c=a.type,l=a.enterClass,d=a.enterToClass,f=a.enterActiveClass,p=a.appearClass,h=a.appearToClass,m=a.appearActiveClass,g=a.beforeEnter,v=a.enter,_=a.afterEnter,y=a.enterCancelled,b=a.beforeAppear,w=a.appear,A=a.afterAppear,S=a.appearCancelled,E=a.duration,x=_o,F=_o.$vnode;F&&F.parent;)x=(F=F.parent).context;var k=!x._isMounted||!i.isRootInsert;if(!k||w||""===w){var I=k&&p?p:l,O=k&&m?m:f,T=k&&h?h:d,D=k?b||g:g,L=k&&"function"==typeof w?w:v,M=k?A||_:_,R=k?S||y:y,U=u(o(E)?E.enter:E),N=!1!==s&&!jr,P=wi(L),z=r._enterCb=C(function(){N&&(pi(r,T),pi(r,O)),z.cancelled?(N&&pi(r,I),R&&R(r)):M&&M(r),r._enterCb=null});i.data.show||te(i.data.hook||(i.data.hook={}),"insert",function(){var e=r.parentNode,t=e&&e._pending&&e._pending[i.key];t&&t.tag===i.tag&&t.elm._leaveCb&&t.elm._leaveCb(),L&&L(r,z)}),D&&D(r),N&&(fi(r,I),fi(r,O),di(function(){fi(r,T),pi(r,I),z.cancelled||P||(bi(U)?setTimeout(z,U):hi(r,c,z))})),i.data.show&&(n&&n(),L&&L(r,z)),N||P||z()}}}function yi(i,n){function r(){S.cancelled||(i.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[i.key]=i),h&&h(a),b&&(fi(a,d),fi(a,p),di(function(){fi(a,f),pi(a,d),S.cancelled||w||(bi(A)?setTimeout(S,A):hi(a,l,S))})),m&&m(a,S),b||w||S())}var a=i.elm;t(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var s=ui(i.data.transition);if(e(s))return n();if(!t(a._leaveCb)&&1===a.nodeType){var c=s.css,l=s.type,d=s.leaveClass,f=s.leaveToClass,p=s.leaveActiveClass,h=s.beforeLeave,m=s.leave,g=s.afterLeave,v=s.leaveCancelled,_=s.delayLeave,y=s.duration,b=!1!==c&&!jr,w=wi(m),A=u(o(y)?y.leave:y),S=a._leaveCb=C(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[i.key]=null),b&&(pi(a,f),pi(a,p)),S.cancelled?(b&&pi(a,d),v&&v(a)):(n(),g&&g(a)),a._leaveCb=null});_?_(r):r()}}function bi(e){return"number"==typeof e&&!isNaN(e)}function wi(i){if(e(i))return!1;var n=i.fns;return t(n)?wi(Array.isArray(n)?n[0]:n):(i._length||i.length)>1}function Ci(e,t){!0!==t.data.show&&_i(t)}function Ai(e,t,i){var n=t.value,r=e.multiple;if(!r||Array.isArray(n)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],r)o=w(n,Si(a))>-1,a.selected!==o&&(a.selected=o);else if(b(Si(a),n))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Si(e){return"_value"in e?e._value:e.value}function Ei(e){e.target.composing=!0}function xi(e){e.target.composing&&(e.target.composing=!1,Fi(e.target,"input"))}function Fi(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function ki(e){return!e.componentInstance||e.data&&e.data.transition?e:ki(e.componentInstance._vnode)}function Ii(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Ii(de(t.children)):e}function Oi(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var r=i._parentListeners;for(var o in r)t[Er(o)]=r[o];return t}function Ti(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Di(e){for(;e=e.parent;)if(e.data.transition)return!0}function Li(e,t){return t.key===e.key&&t.tag===e.tag}function Mi(e){return e.isComment&&e.asyncFactory}function Ri(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ui(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ni(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,r=t.top-i.top;if(n||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}function Pi(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function zi(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Bi(e){Ga&&(e._devtoolHook=Ga,Ga.emit("vuex:init",e),Ga.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){Ga.emit("vuex:mutation",e,t)}))}function $i(e,t){Object.keys(e).forEach(function(i){return t(e[i],i)})}function ji(e){return null!==e&&"object"==typeof e}function Wi(e){return e&&"function"==typeof e.then}function Hi(e,t){if(!e)throw new Error("[vuex] "+t)}function Gi(e,t){if(e.update(t),t.modules)for(var i in t.modules){if(!e.getChild(i))return void console.warn("[vuex] trying to add a new module '"+i+"' on hot reloading, manual reload is needed");Gi(e.getChild(i),t.modules[i])}}function Vi(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;qi(e,i,[],e._modules.root,!0),Yi(e,i,t)}function Yi(e,t,i){var n=e._vm;e.getters={};var r={};$i(e._wrappedGetters,function(t,i){r[i]=function(){return t(e)},Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})});var o=Xa.config.silent;Xa.config.silent=!0,e._vm=new Xa({data:{$$state:t},computed:r}),Xa.config.silent=o,e.strict&&en(e),n&&(i&&e._withCommit(function(){n._data.$$state=null}),Xa.nextTick(function(){return n.$destroy()}))}function qi(e,t,i,n,r){var o=!i.length,a=e._modules.getNamespace(i);if(n.namespaced&&(e._modulesNamespaceMap[a]=n),!o&&!r){var s=tn(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit(function(){Xa.set(s,c,n.state)})}var l=n.context=Xi(e,a,i);n.forEachMutation(function(t,i){Ki(e,a+i,t,l)}),n.forEachAction(function(t,i){Zi(e,a+i,t,l)}),n.forEachGetter(function(t,i){Ji(e,a+i,t,l)}),n.forEachChild(function(n,o){qi(e,t,i.concat(o),n,r)})}function Xi(e,t,i){var n=""===t,r={dispatch:n?e.dispatch:function(i,n,r){var o=nn(i,n,r),a=o.payload,s=o.options,c=o.type;if(s&&s.root||(c=t+c,e._actions[c]))return e.dispatch(c,a);console.error("[vuex] unknown local action type: "+o.type+", global type: "+c)},commit:n?e.commit:function(i,n,r){var o=nn(i,n,r),a=o.payload,s=o.options,c=o.type;s&&s.root||(c=t+c,e._mutations[c])?e.commit(c,a,s):console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+c)}};return Object.defineProperties(r,{getters:{get:n?function(){return e.getters}:function(){return Qi(e,t)}},state:{get:function(){return tn(e.state,i)}}}),r}function Qi(e,t){var i={},n=t.length;return Object.keys(e.getters).forEach(function(r){if(r.slice(0,n)===t){var o=r.slice(n);Object.defineProperty(i,o,{get:function(){return e.getters[r]},enumerable:!0})}}),i}function Ki(e,t,i,n){(e._mutations[t]||(e._mutations[t]=[])).push(function(e){i(n.state,e)})}function Zi(e,t,i,n){(e._actions[t]||(e._actions[t]=[])).push(function(t,r){var o=i({dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t,r);return Wi(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):o})}function Ji(e,t,i,n){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return i(n.state,n.getters,e.state,e.getters)}}function en(e){e._vm.$watch(function(){return this._data.$$state},function(){Hi(e._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function tn(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function nn(e,t,i){return ji(e)&&e.type&&(i=t,t=e,e=e.type),Hi("string"==typeof e,"Expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:i}}function rn(e){Xa?console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):Ha(Xa=e)}function on(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function an(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function sn(e,t,i){var n=e._modulesNamespaceMap[i];return n||console.error("[vuex] module namespace not found in "+t+"(): "+i),n}function cn(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function ln(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function un(e,t){return cn(t,function(t){return e[t]})}function dn(e,t){var i=Os(e)||mn(e)?ln(e.length,String):[],n=i.length,r=!!n;for(var o in e)!t&&!xs.call(e,o)||r&&("length"==o||pn(o,n))||i.push(o);return i}function fn(e){if(!hn(e))return Is(e);var t=[];for(var i in Object(e))xs.call(e,i)&&"constructor"!=i&&t.push(i);return t}function pn(e,t){return!!(t=null==t?bs:t)&&("number"==typeof e||Ss.test(e))&&e>-1&&e%1==0&&e<t}function hn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Es)}function mn(e){return vn(e)&&xs.call(e,"callee")&&(!ks.call(e,"callee")||Fs.call(e)==ws)}function gn(e){return null!=e&&yn(e.length)&&!_n(e)}function vn(e){return wn(e)&&gn(e)}function _n(e){var t=bn(e)?Fs.call(e):"";return t==Cs||t==As}function yn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=bs}function bn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function wn(e){return!!e&&"object"==typeof e}function Cn(e){return gn(e)?dn(e):fn(e)}function An(e,t){var i=new Error(e);return i.code=t,i}function Sn(e){this.data=e;var t=String.fromCharCode.apply(null,e.subarray(0,4));if("II*\0"!==t&&"MM\0*"!==t)throw An("invalid TIFF signature","EBADDATA");this.big_endian="M"===t[0]}function En(e){if(!(this instanceof En))return new En(e);e=e||{},this.output=[],this._state=Zs,this._removeICC=e.removeICC,this._removeExif=e.removeExif,this._filter=e.filter,this._removeComments=e.removeComments,this._removeImage=e.removeImage,this._comment=e.comment,this._maxEntrySize=e.maxEntrySize,this._onIFDEntry=e.onIFDEntry,this._markerCode=0,this._bytesLeft=0,this._segmentLength=0,this._app1buffer=null,this._app1pos=0,this._bytesRead=0,this._BufferConstructor=null,this._bufferUseAlloc=!1,this._bufferUseFrom=!1}function xn(e){for(var t=e.toString(16).toUpperCase(),i=2-t.length;i>0;i-=1)t="0"+t;return"0x"+t}function Fn(e,t,i){return e.slice&&e.copy&&e.writeDoubleBE?e.slice(t,i):e.subarray(t,i)}function kn(e,t,i){if(e.length+i>t.length)throw new Error("buffer is too small");e.copy?e.copy(t,i):t.set(e,i)}function In(e){return Rc.call(e).slice(8,-1).toLowerCase()}function On(e){return"number"==typeof e&&!isNaN(e)}function Tn(e){return void 0===e}function Dn(e){return"object"===(void 0===e?"undefined":wc(e))&&null!==e}function Ln(e){if(!Dn(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&Uc.call(i,"isPrototypeOf")}catch(e){return!1}}function Mn(e){return"function"===In(e)}function Rn(e){return Array.isArray?Array.isArray(e):"array"===In(e)}function Un(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace(Oc,"$1")),e}function Nn(e,t){if(e&&Mn(t)){var i=void 0;if(Rn(e)||On(e.length)){var n=e.length;for(i=0;i<n&&!1!==t.call(e,e[i],i,e);i++);}else Dn(e)&&Object.keys(e).forEach(function(i){t.call(e,e[i],i,e)})}return e}function Pn(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(Dn(e)&&i.length>0){if(Object.assign)return Object.assign.apply(Object,[e].concat(i));i.forEach(function(t){Dn(t)&&Object.keys(t).forEach(function(i){e[i]=t[i]})})}return e}function zn(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.apply(t,n.concat(r))}}function Bn(e,t){var i=e.style;Nn(t,function(e,t){Ic.test(t)&&On(e)&&(e+="px"),i[t]=e})}function $n(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function jn(e,t){if(t)if(On(e.length))Nn(e,function(e){jn(e,t)});else if(e.classList)e.classList.add(t);else{var i=Un(e.className);i?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t}}function Wn(e,t){t&&(On(e.length)?Nn(e,function(e){Wn(e,t)}):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Hn(e,t,i){t&&(On(e.length)?Nn(e,function(e){Hn(e,t,i)}):i?jn(e,t):Wn(e,t))}function Gn(e){return e.replace(xc,"$1-$2").toLowerCase()}function Vn(e,t){return Dn(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+Gn(t))}function Yn(e,t,i){Dn(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+Gn(t),i)}function qn(e,t){if(Dn(e[t]))delete e[t];else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=null}else e.removeAttribute("data-"+Gn(t))}function Xn(e,t,i){var n=Un(t).split(kc);n.length>1?Nn(n,function(t){Xn(e,t,i)}):e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function Qn(e,t,i,n){var r=Un(t).split(kc),o=i;r.length>1?Nn(r,function(t){Qn(e,t,i)}):(n&&(i=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return Xn(e,t,i),o.apply(e,r)}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i))}function Kn(e,t,i){if(e.dispatchEvent){var n=void 0;return Mn(Event)&&Mn(CustomEvent)?n=Tn(i)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):Tn(i)?(n=document.createEvent("Event")).initEvent(t,!0,!0):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}return!e.fireEvent||e.fireEvent("on"+t)}function Zn(e){var t=e||window.event;if(t.target||(t.target=t.srcElement||document),!On(t.pageX)&&On(t.clientX)){var i=e.target.ownerDocument||document,n=i.documentElement,r=i.body;t.pageX=t.clientX+((n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0)),t.pageY=t.clientY+((n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0))}return t}function Jn(e){var t=document.documentElement,i=e.getBoundingClientRect();return{left:i.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:i.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function er(e,t){return e.getElementsByTagName(t)}function tr(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function ir(e){return document.createElement(e)}function nr(e,t){e.appendChild(t)}function rr(e){e.parentNode&&e.parentNode.removeChild(e)}function or(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ar(e){var t=e.match(Fc);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function sr(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function cr(e,t){if(!e.naturalWidth||Lc){var i=ir("img");i.onload=function(){t(this.width,this.height)},i.src=e.src}else t(e.naturalWidth,e.naturalHeight)}function lr(e){var t=[],i=e.translateX,n=e.translateY,r=e.rotate,o=e.scaleX,a=e.scaleY;On(i)&&0!==i&&t.push("translateX("+i+"px)"),On(n)&&0!==n&&t.push("translateY("+n+"px)"),On(r)&&0!==r&&t.push("rotate("+r+"deg)"),On(o)&&1!==o&&t.push("scaleX("+o+")"),On(a)&&1!==a&&t.push("scaleY("+a+")");var s=t.length?t.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ur(e,t){var i=Math.abs(e.degree)%180,n=(i>90?180-i:i)*Math.PI/180,r=Math.sin(n),o=Math.cos(n),a=e.width,s=e.height,c=e.aspectRatio,l=void 0,u=void 0;return t?u=(l=a/(o+r/c))/c:(l=a*o+s*r,u=a*r+s*o),{width:l,height:u}}function dr(e,t,i){var n=ir("canvas"),r=n.getContext("2d"),o=0,a=0,s=t.naturalWidth,c=t.naturalHeight,l=t.rotate,u=t.scaleX,d=t.scaleY,f=On(u)&&On(d)&&(1!==u||1!==d),p=On(l)&&0!==l,h=p||f,m=s*Math.abs(u||1),g=c*Math.abs(d||1),v=void 0,_=void 0,y=void 0;return f&&(v=m/2,_=g/2),p&&(v=(m=(y=ur({width:m,height:g,degree:l})).width)/2,_=(g=y.height)/2),n.width=m,n.height=g,i.fillColor&&(r.fillStyle=i.fillColor,r.fillRect(0,0,m,g)),h&&(o=-s/2,a=-c/2,r.save(),r.translate(v,_)),p&&r.rotate(l*Math.PI/180),f&&r.scale(u,d),r.imageSmoothingEnabled=!!i.imageSmoothingEnabled,i.imageSmoothingQuality&&(r.imageSmoothingQuality=i.imageSmoothingQuality),r.drawImage(e,Math.floor(o),Math.floor(a),Math.floor(s),Math.floor(c)),h&&r.restore(),n}function fr(e,t,i){var n="",r=t;for(i+=t;r<i;r++)n+=Nc(e.getUint8(r));return n}function pr(e){var t=new DataView(e),i=t.byteLength,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<i;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){c=u;break}u++}if(c&&(r=c+10,"Exif"===fr(t,c+4,4)&&((a=18761===(s=t.getUint16(r)))||19789===s)&&42===t.getUint16(r+2,a)&&(o=t.getUint32(r+4,a))>=8&&(l=r+o)),l)for(i=t.getUint16(l,a),d=0;d<i;d++)if(u=l+12*d+2,274===t.getUint16(u,a)){u+=8,n=t.getUint16(u,a),Lc&&t.setUint16(u,1,a);break}return n}function hr(e){var t=e.replace(Ec,""),i=atob(t),n=i.length,r=new ArrayBuffer(n),o=new Uint8Array(r),a=void 0;for(a=0;a<n;a++)o[a]=i.charCodeAt(a);return r}function mr(e){var t=new Uint8Array(e),i=t.length,n="",r=void 0;for(r=0;r<i;r++)n+=Nc(t[r]);return"data:image/jpeg;base64,"+btoa(n)}function gr(e,t){var i=e.pageX,n=e.pageY,r={endX:i,endY:n};return t?r:Pn({startX:i,startY:n},r)}function vr(e){var t=Pn({},e),i=[];return Nn(e,function(e,n){delete t[n],Nn(t,function(t){var n=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+r*r),c=(Math.sqrt(o*o+a*a)-s)/s;i.push(c)})}),i.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),i[0]}function _r(e){var t=0,i=0,n=0;return Nn(e,function(e){var r=e.startX,o=e.startY;t+=r,i+=o,n+=1}),t/=n,i/=n,{pageX:t,pageY:i}}var yr={css:{main:"https://static.filestackapi.com/picker/v3/0.10.1/main.css"},vendor:{opentok:"https://static.filestackapi.com/picker/v3/0.10.1/assets/scripts/opentok.js"},authRelay:"https://static.filestackapi.com/picker/v3/0.10.1/auth/auth_relay.html"},br=window.Vue;window.Vue=null;var wr=Object.prototype.toString,Cr=(d("slot,component",!0),d("key,ref,slot,is")),Ar=Object.prototype.hasOwnProperty,Sr=/-(\w)/g,Er=h(function(e){return e.replace(Sr,function(e,t){return t?t.toUpperCase():""})}),xr=h(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Fr=/([^-])([A-Z])/g,kr=h(function(e){return e.replace(Fr,"$1-$2").replace(Fr,"$1-$2").toLowerCase()}),Ir=function(e,t,i){return!1},Or=function(e){return e},Tr="data-server-rendered",Dr=["component","directive","filter"],Lr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],Mr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ir,isReservedAttr:Ir,isUnknownElement:Ir,getTagNamespace:y,parsePlatformTagName:Or,mustUseProp:Ir,_lifecycleHooks:Lr},Rr=Object.freeze({}),Ur=/[^\w.$]/,Nr=y,Pr="__proto__"in{},zr="undefined"!=typeof window,Br=zr&&window.navigator.userAgent.toLowerCase(),$r=Br&&/msie|trident/.test(Br),jr=Br&&Br.indexOf("msie 9.0")>0,Wr=Br&&Br.indexOf("edge/")>0,Hr=Br&&Br.indexOf("android")>0,Gr=Br&&/iphone|ipad|ipod|ios/.test(Br),Vr=Br&&/chrome\/\d+/.test(Br)&&!Wr,Yr={}.watch,qr=!1;if(zr)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){qr=!0}}),window.addEventListener("test-passive",null,Xr)}catch(e){}var Qr,Kr,Zr=function(){return void 0===Qr&&(Qr=!zr&&"undefined"!=typeof global&&"server"===global.process.env.VUE_ENV),Qr},Jr=zr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,eo="undefined"!=typeof Symbol&&F(Symbol)&&"undefined"!=typeof Reflect&&F(Reflect.ownKeys),to=function(){function e(){n=!1;var e=i.slice(0);i.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,i=[],n=!1;if("undefined"!=typeof Promise&&F(Promise)){var r=Promise.resolve(),o=function(e){console.error(e)};t=function(){r.then(e).catch(o),Gr&&setTimeout(y)}}else if("undefined"==typeof MutationObserver||!F(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var a=1,s=new MutationObserver(e),c=document.createTextNode(String(a));s.observe(c,{characterData:!0}),t=function(){a=(a+1)%2,c.data=String(a)}}return function(e,r){var o;if(i.push(function(){if(e)try{e.call(r)}catch(e){x(e,r,"nextTick")}else o&&o(r)}),n||(n=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){o=e})}}();Kr="undefined"!=typeof Set&&F(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var io=0,no=function(){this.id=io++,this.subs=[]};no.prototype.addSub=function(e){this.subs.push(e)},no.prototype.removeSub=function(e){f(this.subs,e)},no.prototype.depend=function(){no.target&&no.target.addDep(this)},no.prototype.notify=function(){for(var e=this.subs.slice(),t=0,i=e.length;t<i;t++)e[t].update()},no.target=null;var ro=[],oo=Array.prototype,ao=Object.create(oo);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=oo[e];S(ao,e,function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,o=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var so=Object.getOwnPropertyNames(ao),co={shouldConvert:!0},lo=function(e){this.value=e,this.dep=new no,this.vmCount=0,S(e,"__ob__",this),Array.isArray(e)?((Pr?O:T)(e,ao,so),this.observeArray(e)):this.walk(e)};lo.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)L(e,t[i],e[t[i]])},lo.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)D(e[t])};var uo=Mr.optionMergeStrategies;uo.data=function(e,t,i){return i?P(e,t,i):t&&"function"!=typeof t?e:P.call(this,e,t)},Lr.forEach(function(e){uo[e]=z}),Dr.forEach(function(e){uo[e+"s"]=B}),uo.watch=function(e,t){if(e===Yr&&(e=void 0),t===Yr&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};v(i,e);for(var n in t){var r=i[n],o=t[n];r&&!Array.isArray(r)&&(r=[r]),i[n]=r?r.concat(o):Array.isArray(o)?o:[o]}return i},uo.props=uo.methods=uo.inject=uo.computed=function(e,t){if(!e)return t;var i=Object.create(null);return v(i,e),t&&v(i,t),i},uo.provide=P;var fo=function(e,t){return void 0===t?e:t},po=function(e,t,i,n,r,o,a,s){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ho={child:{}};ho.child.get=function(){return this.componentInstance},Object.defineProperties(po.prototype,ho);var mo,go=function(e){void 0===e&&(e="");var t=new po;return t.text=e,t.isComment=!0,t},vo=h(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),n="!"===(e=i?e.slice(1):e).charAt(0);return e=n?e.slice(1):e,{name:e,once:i,capture:n,passive:t}}),_o=null,yo=[],bo=[],wo={},Co=!1,Ao=!1,So=0,Eo=0,xo=function(e,t,i,n){this.vm=e,e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Eo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Kr,this.newDepIds=new Kr,this.expression="","function"==typeof t?this.getter=t:(this.getter=E(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};xo.prototype.get=function(){k(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;x(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&De(e),I(),this.cleanupDeps()}return e},xo.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},xo.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var i=e.deps[t];e.newDepIds.has(i.id)||i.removeSub(e)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},xo.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Te(this)},xo.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||o(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){x(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},xo.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},xo.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},xo.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||f(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var Fo=new Kr,ko={enumerable:!0,configurable:!0,get:y,set:y},Io={lazy:!0},Oo={init:function(e,t,i,n){if(!e.componentInstance||e.componentInstance._isDestroyed)(e.componentInstance=Ke(e,_o,i,n)).$mount(t?e.elm:void 0,t);else if(e.data.keepAlive){var r=e;Oo.prepatch(r,r)}},prepatch:function(e,t){var i=t.componentOptions;we(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Ee(i,"mounted")),e.data.keepAlive&&(t._isMounted?Ie(i):Ae(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Se(t,!0):t.$destroy())}},To=Object.keys(Oo),Do=1,Lo=2,Mo=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Mo++,t._isVue=!0,e&&e._isComponent?mt(t,e):t.$options=H(gt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,ye(t),fe(t),ht(t),Ee(t,"beforeCreate"),Ve(t),Re(t),Ge(t),Ee(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(yt),function(e){var t={};t.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=M,e.prototype.$delete=R,e.prototype.$watch=function(e,t,i){var n=this;if(a(t))return He(n,e,t,i);(i=i||{}).user=!0;var r=new xo(n,e,t,i);return i.immediate&&t.call(n,r.value),function(){r.teardown()}}}(yt),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this,r=this;if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)n.$on(e[o],i);else(r._events[e]||(r._events[e]=[])).push(i),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function i(){n.$off(e,i),t.apply(n,arguments)}var n=this;return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var i=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)i.$off(e[r],t);return n}var a=n._events[e];if(!a)return n;if(1===arguments.length)return n._events[e]=null,n;for(var s,c=a.length;c--;)if((s=a[c])===t||s.fn===t){a.splice(c,1);break}return n},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?g(i):i;for(var n=g(arguments,1),r=0,o=i.length;r<o;r++)try{i[r].apply(t,n)}catch(i){x(i,t,'event handler for "'+e+'"')}}return t}}(yt),function(e){e.prototype._update=function(e,t){var i=this;i._isMounted&&Ee(i,"beforeUpdate");var n=i.$el,r=i._vnode,o=_o;_o=i,i._vnode=e,r?i.$el=i.__patch__(r,e):(i.$el=i.__patch__(i.$el,e,t,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),_o=o,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ee(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||f(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ee(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null)}}}(yt),function(e){e.prototype.$nextTick=function(e){return to(e,this)},e.prototype._render=function(){var e=this,t=e.$options,i=t.render,n=t.staticRenderFns,r=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=Z(e.$slots[o]);e.$scopedSlots=r&&r.data.scopedSlots||Rr,n&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=r;var a;try{a=i.call(e._renderProxy,e.$createElement)}catch(t){x(t,e,"render function"),a=e._vnode}return a instanceof po||(a=go()),a.parent=r,a},e.prototype._o=ut,e.prototype._n=u,e.prototype._s=l,e.prototype._l=rt,e.prototype._t=ot,e.prototype._q=b,e.prototype._i=w,e.prototype._m=lt,e.prototype._f=at,e.prototype._k=st,e.prototype._b=ct,e.prototype._v=Q,e.prototype._e=go,e.prototype._u=_e,e.prototype._g=pt}(yt);var Ro=[String,RegExp,Array],Uo={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ro,exclude:Ro},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)It(e.cache[t])},watch:{include:function(e){kt(this.cache,this._vnode,function(t){return Ft(e,t)})},exclude:function(e){kt(this.cache,this._vnode,function(t){return!Ft(e,t)})}},render:function(){var e=de(this.$slots.default),t=e&&e.componentOptions;if(t){var i=xt(t);if(i&&(this.include&&!Ft(this.include,i)||this.exclude&&Ft(this.exclude,i)))return e;var n=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[n]?e.componentInstance=this.cache[n].componentInstance:this.cache[n]=e,e.data.keepAlive=!0}return e}}};!function(e){var t={};t.get=function(){return Mr},Object.defineProperty(e,"config",t),e.util={warn:Nr,extend:v,mergeOptions:H,defineReactive:L},e.set=M,e.delete=R,e.nextTick=to,e.options=Object.create(null),Dr.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,v(e.options.components,Uo),bt(e),wt(e),Ct(e),Et(e)}(yt),Object.defineProperty(yt.prototype,"$isServer",{get:Zr}),Object.defineProperty(yt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),yt.version="2.4.2";var No,Po,zo=d("style,class"),Bo=d("input,textarea,option,select"),$o=d("contenteditable,draggable,spellcheck"),jo=d("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wo="http://www.w3.org/1999/xlink",Ho=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Go=function(e){return Ho(e)?e.slice(6,e.length):""},Vo=function(e){return null==e||!1===e},Yo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},qo=d("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xo=d("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qo=function(e){return qo(e)||Xo(e)},Ko=Object.create(null),Zo=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(e,t){return document.createElementNS(Yo[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setAttribute:function(e,t,i){e.setAttribute(t,i)}}),Jo={create:function(e,t){Pt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Pt(e,!0),Pt(t))},destroy:function(e){Pt(e,!0)}},ea=new po("",{},[]),ta=["create","activate","update","remove","destroy"],ia={create:jt,update:jt,destroy:function(e){jt(e,ea)}},na=Object.create(null),ra=[Jo,ia],oa={create:Yt,update:Yt},aa={create:Xt,update:Xt},sa="__r",ca="__c",la={create:Jt,update:Jt},ua={create:ei,update:ei},da=h(function(e){var t={},i=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(i).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}),fa=/^--/,pa=/\s*!important$/,ha=function(e,t,i){if(fa.test(t))e.style.setProperty(t,i);else if(pa.test(i))e.style.setProperty(t,i.replace(pa,""),"important");else{var n=ga(t);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)e.style[n]=i[r];else e.style[n]=i}},ma=["Webkit","Moz","ms"],ga=h(function(e){if(Po=Po||document.createElement("div").style,"filter"!==(e=Er(e))&&e in Po)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<ma.length;i++){var n=ma[i]+t;if(n in Po)return n}}),va={create:si,update:si},_a=h(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ya=zr&&!jr,ba="transition",wa="animation",Ca="transition",Aa="transitionend",Sa="animation",Ea="animationend";ya&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ca="WebkitTransition",Aa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Sa="WebkitAnimation",Ea="webkitAnimationEnd"));var xa=zr&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,Fa=/\b(transform|all)(,|$)/,ka=function(n){function o(e){return new po(O.tagName(e).toLowerCase(),{},[],void 0,e)}function a(e,t){function i(){0==--i.listeners&&s(e)}return i.listeners=t,i}function s(e){var i=O.parentNode(e);t(i)&&O.removeChild(i,e)}function c(e,n,r,o,a){if(e.isRootInsert=!a,!l(e,n,r,o)){var s=e.data,c=e.children,u=e.tag;t(u)?(e.elm=e.ns?O.createElementNS(e.ns,u):O.createElement(u,e),v(e),h(e,c,n),t(s)&&g(e,n),p(r,e.elm,o)):i(e.isComment)?(e.elm=O.createComment(e.text),p(r,e.elm,o)):(e.elm=O.createTextNode(e.text),p(r,e.elm,o))}}function l(e,n,r,o){var a=e.data;if(t(a)){var s=t(e.componentInstance)&&a.keepAlive;if(t(a=a.hook)&&t(a=a.init)&&a(e,!1,r,o),t(e.componentInstance))return u(e,n),i(s)&&f(e,n,r,o),!0}}function u(e,i){t(e.data.pendingInsert)&&(i.push.apply(i,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(g(e,i),v(e)):(Pt(e),i.push(e))}function f(e,i,n,r){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,t(o=a.data)&&t(o=o.transition)){for(o=0;o<k.activate.length;++o)k.activate[o](ea,a);i.push(a);break}p(n,e.elm,r)}function p(e,i,n){t(e)&&(t(n)?n.parentNode===e&&O.insertBefore(e,i,n):O.appendChild(e,i))}function h(e,t,i){if(Array.isArray(t))for(var n=0;n<t.length;++n)c(t[n],i,e.elm,null,!0);else r(e.text)&&O.appendChild(e.elm,O.createTextNode(e.text))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return t(e.tag)}function g(e,i){for(var n=0;n<k.create.length;++n)k.create[n](ea,e);t(x=e.data.hook)&&(t(x.create)&&x.create(ea,e),t(x.insert)&&i.push(e))}function v(e){for(var i,n=e;n;)t(i=n.context)&&t(i=i.$options._scopeId)&&O.setAttribute(e.elm,i,""),n=n.parent;t(i=_o)&&i!==e.context&&t(i=i.$options._scopeId)&&O.setAttribute(e.elm,i,"")}function _(e,t,i,n,r,o){for(;n<=r;++n)c(i[n],o,e,t)}function y(e){var i,n,r=e.data;if(t(r))for(t(i=r.hook)&&t(i=i.destroy)&&i(e),i=0;i<k.destroy.length;++i)k.destroy[i](e);if(t(i=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}function b(e,i,n,r){for(;n<=r;++n){var o=i[n];t(o)&&(t(o.tag)?(w(o),y(o)):s(o.elm))}}function w(e,i){if(t(i)||t(e.data)){var n,r=k.remove.length+1;for(t(i)?i.listeners+=r:i=a(e.elm,r),t(n=e.componentInstance)&&t(n=n._vnode)&&t(n.data)&&w(n,i),n=0;n<k.remove.length;++n)k.remove[n](e,i);t(n=e.data.hook)&&t(n=n.remove)?n(e,i):i()}else s(e.elm)}function C(i,n,r,o,a){for(var s,l,u,d=0,f=0,p=n.length-1,h=n[0],m=n[p],g=r.length-1,v=r[0],y=r[g],w=!a;d<=p&&f<=g;)e(h)?h=n[++d]:e(m)?m=n[--p]:zt(h,v)?(A(h,v,o),h=n[++d],v=r[++f]):zt(m,y)?(A(m,y,o),m=n[--p],y=r[--g]):zt(h,y)?(A(h,y,o),w&&O.insertBefore(i,h.elm,O.nextSibling(m.elm)),h=n[++d],y=r[--g]):zt(m,v)?(A(m,v,o),w&&O.insertBefore(i,m.elm,h.elm),m=n[--p],v=r[++f]):(e(s)&&(s=$t(n,d,p)),e(l=t(v.key)?s[v.key]:null)?(c(v,o,i,h.elm),v=r[++f]):zt(u=n[l],v)?(A(u,v,o),n[l]=void 0,w&&O.insertBefore(i,u.elm,h.elm),v=r[++f]):(c(v,o,i,h.elm),v=r[++f]));d>p?_(i,e(r[g+1])?null:r[g+1].elm,r,f,g,o):f>g&&b(i,n,d,p)}function A(n,r,o,a){if(n!==r){var s=r.elm=n.elm;if(i(n.isAsyncPlaceholder))t(r.asyncFactory.resolved)?E(n.elm,r,o):r.isAsyncPlaceholder=!0;else if(i(r.isStatic)&&i(n.isStatic)&&r.key===n.key&&(i(r.isCloned)||i(r.isOnce)))r.componentInstance=n.componentInstance;else{var c,l=r.data;t(l)&&t(c=l.hook)&&t(c=c.prepatch)&&c(n,r);var u=n.children,d=r.children;if(t(l)&&m(r)){for(c=0;c<k.update.length;++c)k.update[c](n,r);t(c=l.hook)&&t(c=c.update)&&c(n,r)}e(r.text)?t(u)&&t(d)?u!==d&&C(s,u,d,o,a):t(d)?(t(n.text)&&O.setTextContent(s,""),_(s,null,d,0,d.length-1,o)):t(u)?b(s,u,0,u.length-1):t(n.text)&&O.setTextContent(s,""):n.text!==r.text&&O.setTextContent(s,r.text),t(l)&&t(c=l.hook)&&t(c=c.postpatch)&&c(n,r)}}}function S(e,n,r){if(i(r)&&t(e.parent))e.parent.data.pendingInsert=n;else for(var o=0;o<n.length;++o)n[o].data.hook.insert(n[o])}function E(e,n,r){if(i(n.isComment)&&t(n.asyncFactory))return n.elm=e,n.isAsyncPlaceholder=!0,!0;n.elm=e;var o=n.tag,a=n.data,s=n.children;if(t(a)&&(t(x=a.hook)&&t(x=x.init)&&x(n,!0),t(x=n.componentInstance)))return u(n,r),!0;if(t(o)){if(t(s))if(e.hasChildNodes()){for(var c=!0,l=e.firstChild,d=0;d<s.length;d++){if(!l||!E(l,s[d],r)){c=!1;break}l=l.nextSibling}if(!c||l)return!1}else h(n,s,r);if(t(a))for(var f in a)if(!T(f)){g(n,r);break}}else e.data!==n.text&&(e.data=n.text);return!0}var x,F,k={},I=n.modules,O=n.nodeOps;for(x=0;x<ta.length;++x)for(k[ta[x]]=[],F=0;F<I.length;++F)t(I[F][ta[x]])&&k[ta[x]].push(I[F][ta[x]]);var T=d("attrs,style,class,staticClass,staticStyle,key");return function(n,r,a,s,l,u){if(!e(r)){var d=!1,f=[];if(e(n))d=!0,c(r,f,l,u);else{var p=t(n.nodeType);if(!p&&zt(n,r))A(n,r,f,s);else{if(p){if(1===n.nodeType&&n.hasAttribute(Tr)&&(n.removeAttribute(Tr),a=!0),i(a)&&E(n,r,f))return S(r,f,!0),n;n=o(n)}var h=n.elm,g=O.parentNode(h);if(c(r,f,h._leaveCb?null:g,O.nextSibling(h)),t(r.parent)){for(var v=r.parent;v;)v.elm=r.elm,v=v.parent;if(m(r))for(var _=0;_<k.create.length;++_)k.create[_](ea,r.parent)}t(g)?b(g,[n],0,0):t(n.tag)&&y(n)}}return S(r,f,d),r.elm}t(n)&&y(n)}}({nodeOps:Zo,modules:[oa,aa,la,ua,va,zr?{create:Ci,activate:Ci,remove:function(e,t){!0!==e.data.show?yi(e,t):t()}}:{}].concat(ra)}),Ia=d("text,number,password,search,email,tel,url");jr&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Fi(e,"input")});var Oa={model:{inserted:function(e,t,i){if("select"===i.tag){var n=function(){Ai(e,t,i.context)};n(),($r||Wr)&&setTimeout(n,0),e._vOptions=[].map.call(e.options,Si)}else("textarea"===i.tag||Ia(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",xi),Hr||(e.addEventListener("compositionstart",Ei),e.addEventListener("compositionend",xi)),jr&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Ai(e,t,i.context);var n=e._vOptions;(e._vOptions=[].map.call(e.options,Si)).some(function(e,t){return!b(e,n[t])})&&Fi(e,"change")}}},show:{bind:function(e,t,i){var n=t.value,r=(i=ki(i)).data&&i.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&r?(i.data.show=!0,_i(i,function(){e.style.display=o})):e.style.display=n?o:"none"},update:function(e,t,i){var n=t.value;n!==t.oldValue&&((i=ki(i)).data&&i.data.transition?(i.data.show=!0,n?_i(i,function(){e.style.display=e.__vOriginalDisplay}):yi(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,r){r||(e.style.display=e.__vOriginalDisplay)}}},Ta={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Da={name:"transition",props:Ta,abstract:!0,render:function(e){var t=this,i=this.$options._renderChildren;if(i&&(i=i.filter(function(e){return e.tag||Mi(e)})).length){var n=this.mode,o=i[0];if(Di(this.$vnode))return o;var a=Ii(o);if(!a)return o;if(this._leaving)return Ti(e,o);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:r(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=Oi(this),l=this._vnode,u=Ii(l);if(a.data.directives&&a.data.directives.some(function(e){return"show"===e.name})&&(a.data.show=!0),u&&u.data&&!Li(a,u)&&!Mi(u)){var d=u&&(u.data.transition=v({},c));if("out-in"===n)return this._leaving=!0,te(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Ti(e,o);if("in-out"===n){if(Mi(a))return l;var f,p=function(){f()};te(c,"afterEnter",p),te(c,"enterCancelled",p),te(d,"delayLeave",function(e){f=e})}}return o}}},La=v({tag:String,moveClass:String},Ta);delete La.mode;var Ma={Transition:Da,TransitionGroup:{props:La,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Oi(this),s=0;s<r.length;s++){var c=r[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),i[c.key]=c,(c.data||(c.data={})).transition=a)}if(n){for(var l=[],u=[],d=0;d<n.length;d++){var f=n[d];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),i[f.key]?l.push(f):u.push(f)}this.kept=e(t,null,l),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(Ri),e.forEach(Ui),e.forEach(Ni);document.body.offsetHeight;e.forEach(function(e){if(e.data.moved){var i=e.elm,n=i.style;fi(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Aa,i._moveCb=function e(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Aa,e),i._moveCb=null,pi(i,t))})}})}},methods:{hasMove:function(e,t){if(!ya)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){li(i,e)}),ci(i,t),i.style.display="none",this.$el.appendChild(i);var n=mi(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}}};yt.config.mustUseProp=function(e,t,i){return"value"===i&&Bo(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},yt.config.isReservedTag=Qo,yt.config.isReservedAttr=zo,yt.config.getTagNamespace=function(e){return Xo(e)?"svg":"math"===e?"math":void 0},yt.config.isUnknownElement=function(e){if(!zr)return!0;if(Qo(e))return!1;if(e=e.toLowerCase(),null!=Ko[e])return Ko[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ko[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ko[e]=/HTMLUnknownElement/.test(t.toString())},v(yt.options.directives,Oa),v(yt.options.components,Ma),yt.prototype.__patch__=zr?ka:y,yt.prototype.$mount=function(e,t){return e=e&&zr?Nt(e):void 0,be(this,e,t)},setTimeout(function(){Mr.devtools&&Jr&&Jr.emit("init",yt)},0);var Ra=zi(function(e,t){"use strict";var i=null,n={install:function(e){var t,n=e.version[0];i||(i=new e({data:function(){return{current:"",locales:{}}},computed:{lang:function(){return this.current},locale:function(){return this.locales[this.current]?this.locales[this.current]:null}},methods:{setLang:function(e){this.current!==e&&(""===this.current?this.$emit("language:init",e):this.$emit("language:changed",e)),this.current=e,this.$emit("language:modified",e)},setLocales:function(t){if(t){var i=Object.create(this.locales);for(var n in t)i[n]||(i[n]={}),e.util.extend(i[n],t[n]);this.locales=Object.create(i),this.$emit("locales:loaded",t)}},text:function(e){return this.locale&&this.locale[e]?this.locale[e]:e}}}),e.prototype.$translate=i),e.mixin((t={},t["1"===n?"init":"beforeCreate"]=function(){this.$translate.setLocales(this.$options.locales)},t.methods={t:function(e){return this.$translate.text(e)}},t.directives={translate:function(e){e.$translateKey||(e.$translateKey=e.innerText);var t=this.$translate.text(e.$translateKey);e.innerText=t}.bind(i)},t)),e.locales=function(e){i.$translate.setLocales(e)}}};e.exports=n}),Ua={init:function(){window.filestackInternals.logger.working=!1},isWorking:function(){return window.filestackInternals.logger.working},on:function(){window.filestackInternals.logger.working=!0},off:function(){window.filestackInternals.logger.working=!1}},Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},za=function e(t,i){var n=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=[].concat(n).map(function(e){return"object"===(void 0===e?"undefined":Na(e))?JSON.stringify(e,function(e,t){if("function"==typeof t){if("json"===e)try{return t()}catch(e){}return"[Function]"}return t instanceof File?"[File name: "+t.name+", mimetype: "+t.type+", size: "+t.size+"]":t},2):e});if(i.isWorking()){var a;(a=console).log.apply(a,["["+t+"]"].concat(Pa(o)))}};return n.context=function(n){return e(t+"]["+n,i)},n.on=i.on,n.off=i.off,n}("filestack",Ua);!function(){var e=void 0;"object"===("undefined"==typeof window?"undefined":Na(window))&&((e=window.filestackInternals)||(e={},window.filestackInternals=e),e.logger||(e.logger=za,Ua.init()))}();var Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a=function(){var e=void 0;return"object"===("undefined"==typeof window?"undefined":Ba(window))&&((e=window.filestackInternals)||(e={},window.filestackInternals=e),e.loader||(e.loader={modules:{}})),e}(),ja=$a&&$a.loader.modules,Wa={registerReadyModule:function(e){var t=document.getElementsByTagName("script"),i=t[t.length-1].getAttribute("src"),n=ja[i];n.resolvePromise&&(n.instance=e,n.resolvePromise(e),delete n.promise,delete n.resolvePromise)},loadModule:function(e){var t=ja[e];if(t||(ja[e]={},t=ja[e]),t.instance)return Promise.resolve(t.instance);if(t.promise)return t.promise;var i=new Promise(function(i,n){var r=function(){t.resolvePromise=i;var r=document.createElement("script");r.src=e,r.onerror=n,document.body.appendChild(r)};!function e(){"complete"===document.readyState?r():setTimeout(e,50)}()});return t.promise=i,i},loadCss:function(e){return null!==document.querySelector('link[href="'+e+'"]')?Promise.resolve():new Promise(function(t){var i=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.href=e,n.addEventListener("load",function e(){t(),n.removeEventListener("load",e)}),i.appendChild(n)})}},Ha=function(e){function t(){var e=this.$options;e.store?this.$store=e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}if(Number(e.version.split(".")[0])>=2){var i=e.config._lifecycleHooks.indexOf("init")>-1;e.mixin(i?{init:t}:{beforeCreate:t})}else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,n.call(this,e)}}},Ga="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Va=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"==typeof i?i():i)||{}},Ya={namespaced:{}};Ya.namespaced.get=function(){return!!this._rawModule.namespaced},Va.prototype.addChild=function(e,t){this._children[e]=t},Va.prototype.removeChild=function(e){delete this._children[e]},Va.prototype.getChild=function(e){return this._children[e]},Va.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Va.prototype.forEachChild=function(e){$i(this._children,e)},Va.prototype.forEachGetter=function(e){this._rawModule.getters&&$i(this._rawModule.getters,e)},Va.prototype.forEachAction=function(e){this._rawModule.actions&&$i(this._rawModule.actions,e)},Va.prototype.forEachMutation=function(e){this._rawModule.mutations&&$i(this._rawModule.mutations,e)},Object.defineProperties(Va.prototype,Ya);var qa=function(e){var t=this;this.root=new Va(e,!1),e.modules&&$i(e.modules,function(e,i){t.register([i],e,!1)})};qa.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},qa.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")},"")},qa.prototype.update=function(e){Gi(this.root,e)},qa.prototype.register=function(e,t,i){var n=this;void 0===i&&(i=!0);var r=this.get(e.slice(0,-1)),o=new Va(t,i);r.addChild(e[e.length-1],o),t.modules&&$i(t.modules,function(t,r){n.register(e.concat(r),t,i)})},qa.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];t.getChild(i).runtime&&t.removeChild(i)};var Xa,Qa=function(e){var t=this;void 0===e&&(e={}),Hi(Xa,"must call Vue.use(Vuex) before creating a store instance."),Hi("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var i=e.state;void 0===i&&(i={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new qa(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Xa;var o=this,a=this,s=a.dispatch,c=a.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,i){return c.call(o,e,t,i)},this.strict=r,qi(this,i,[],this._modules.root),Yi(this,i),n.concat(Bi).forEach(function(e){return e(t)})},Ka={state:{}};Ka.state.get=function(){return this._vm._data.$$state},Ka.state.set=function(e){Hi(!1,"Use store.replaceState() to explicit replace store state.")},Qa.prototype.commit=function(e,t,i){var n=this,r=nn(e,t,i),o=r.type,a=r.payload,s=r.options,c={type:o,payload:a},l=this._mutations[o];l?(this._withCommit(function(){l.forEach(function(e){e(a)})}),this._subscribers.forEach(function(e){return e(c,n.state)}),s&&s.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+o)},Qa.prototype.dispatch=function(e,t){var i=nn(e,t),n=i.type,r=i.payload,o=this._actions[n];if(o)return o.length>1?Promise.all(o.map(function(e){return e(r)})):o[0](r);console.error("[vuex] unknown action type: "+n)},Qa.prototype.subscribe=function(e){var t=this._subscribers;return t.indexOf(e)<0&&t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}},Qa.prototype.watch=function(e,t,i){var n=this;return Hi("function"==typeof e,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return e(n.state,n.getters)},t,i)},Qa.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},Qa.prototype.registerModule=function(e,t){"string"==typeof e&&(e=[e]),Hi(Array.isArray(e),"module path must be a string or an Array."),this._modules.register(e,t),qi(this,this.state,e,this._modules.get(e)),Yi(this,this.state)},Qa.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),Hi(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var i=tn(t.state,e.slice(0,-1));Xa.delete(i,e[e.length-1])}),Vi(this)},Qa.prototype.hotUpdate=function(e){this._modules.update(e),Vi(this,!0)},Qa.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Qa.prototype,Ka),"undefined"!=typeof window&&window.Vue&&rn(window.Vue);var Za={Store:Qa,install:rn,version:"2.3.0",mapState:an(function(e,t){var i={};return on(t).forEach(function(t){var n=t.key,r=t.val;i[n]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var n=sn(this.$store,"mapState",e);if(!n)return;t=n.context.state,i=n.context.getters}return"function"==typeof r?r.call(this,t,i):t[r]},i[n].vuex=!0}),i}),mapMutations:an(function(e,t){var i={};return on(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];if(!e||sn(this.$store,"mapMutations",e))return this.$store.commit.apply(this.$store,[r].concat(t))}}),i}),mapGetters:an(function(e,t){var i={};return on(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){if(!e||sn(this.$store,"mapGetters",e)){if(r in this.$store.getters)return this.$store.getters[r];console.error("[vuex] unknown getter: "+r)}},i[n].vuex=!0}),i}),mapActions:an(function(e,t){var i={};return on(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];if(!e||sn(this.$store,"mapActions",e))return this.$store.dispatch.apply(this.$store,[r].concat(t))}}),i})},Ja=function(e){return"function"==typeof e.getAsEntry?e.getAsEntry():"function"==typeof e.webkitGetAsEntry?e.webkitGetAsEntry():void 0},es=function(e){return-1===[".DS_Store"].indexOf(e)},ts=function(e,t){return e+"/"+t},is=function(e){for(var t=[],i=[],n=0;n<e.length;n+=1){var r=e[n];if("file"===r.kind&&r.type&&"application/x-moz-file"!==r.type){var o=r.getAsFile();o&&(t.push(o),i.push(Promise.resolve()))}else if("file"===r.kind){var a=Ja(r);a&&i.push(function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(r){i.isDirectory?i.createReader().readEntries(function(t){var o=t.map(function(t){return e(t,ts(n,i.name))});Promise.all(o).then(r)}):i.isFile&&i.file(function(e){es(e.name)&&(e.path=ts(n,e.name),t.push(e)),r()})})}(a))}else"string"===r.kind&&"text/uri-list"===r.type&&i.push(function(e){return new Promise(function(i){e.getAsString(function(e){t.push({url:e,source:"dragged-from-web"}),i()})})}(r))}return Promise.all(i).then(function(){return t})},ns=function(e){return new Promise(function(t){for(var i=[],n=0;n<e.length;n+=1)i.push(e[n]);t(i)})},rs=function(e){return e.items?is(e.items):e.files?ns(e.files):Promise.resolve([])},os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cs=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},ls={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.fileAboutToBeDropped,expression:"fileAboutToBeDropped"}],ref:"dropZone",staticClass:"fsp-dropzone-overlay"},[i("div",{staticClass:"fsp-dropzone-overlay__text"})])},staticRenderFns:[],data:function(){return{fileAboutToBeDropped:!1}},methods:ss({},Za.mapActions(["addFile","updateSelectLabelActive"]),{dragenter:function(e){e.preventDefault(),this.fileAboutToBeDropped=!0,this.updateSelectLabelActive(!0)},dragover:function(e){e.preventDefault()},dragleave:function(){this.fileAboutToBeDropped=!1,this.updateSelectLabelActive(!1)},drop:function(e){var t=this;e.preventDefault(),this.fileAboutToBeDropped=!1,rs(e.dataTransfer).then(function(e){e.forEach(function(e){t.addFile(e)})})},paste:function(e){var t=this;rs(e.clipboardData).then(function(e){e.forEach(function(e){e.name="pasted file",t.addFile(e)})})}}),mounted:function(){var e=this.$root.$el,t=this.$refs.dropZone;e.addEventListener("dragenter",this.dragenter,!1),t.addEventListener("dragover",this.dragover,!1),t.addEventListener("dragleave",this.dragleave,!1),t.addEventListener("drop",this.drop,!1),e.addEventListener("paste",this.paste,!1)}},us=function(e){return new RegExp("Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(e)},ds=function(e){return JSON.parse(JSON.stringify(e))},fs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-mobile-menu",on:{click:function(t){e.toggleNav()}}},[i("div",{staticClass:"fsp-nav__menu-toggle"})])},staticRenderFns:[],computed:ss({},Za.mapGetters(["mobileNavActive","route"]),{hideLocalOnMobile:function(){var e=ds(this.route).pop();return!(!us(navigator.userAgent)||-1===e.indexOf("local_file_system"))||!this.mobileNavActive}}),methods:ss({},Za.mapActions(["updateMobileNavActive"]),{toggleNav:function(){this.updateMobileNavActive(this.hideLocalOnMobile)}})},ps={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-header",class:{"fsp-hide-header":e.hideHeader}},[e.source&&e.sourceCloud&&!e.mobileNavActive?i("span",{staticClass:"fsp-header-icon",class:"fsp-navbar--"+e.source.name}):e._e(),e._v(" "),!e.source||e.sourceCloud||e.mobileNavActive?e._e():i("span",{staticClass:"fsp-header-text--visible"},[e._v(e._s(e.t(e.itemLabel))+" ")]),e.mobileNavActive?i("span",{staticClass:"fsp-header-text"},[e._v(e._s(e.t("Select From")))]):e._e(),e.mobileNavActive?e._e():e._t("default"),e.hideMenu?e._e():i("mobile-menu-button"),i("span",{staticClass:"fsp-picker__close-button fsp-icon--close-modal",on:{click:e.closePicker}})],2)},staticRenderFns:[],computed:ss({},Za.mapGetters(["customSourceName","mobileNavActive"]),{itemLabel:function(){return"customsource"===this.source.name?this.customSourceName||"Custom Source":this.source.label},sourceCloud:function(){return"customsource"!==this.source.name&&"cloud"===this.source.ui}}),components:{MobileMenuButton:fs},methods:{closePicker:function(){this.$store.dispatch("cancelPick"),this.$root.$destroy()}},props:["source","hideHeader","hideMenu"]},hs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-modal__sidebar",class:{"fsp-mobile-nav-active":e.mobileNavActive}},[i("div",{staticClass:"fsp-source-list"},e._l(e.sources,function(e){return i("source-nav-item",{key:e.name,attrs:{"source-name":e.name,"source-label":e.label}})}))])},staticRenderFns:[],components:{SourceNavItem:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isHiddenOnMobile?e._e():i("div",{staticClass:"fsp-source-list__item",class:{active:e.isSelectedSource,disabled:e.uploadStarted},on:{click:function(t){e.onNavClick(e.sourceName)}}},[e.sourceSelectedCount?i("span",{staticClass:"fsp-badge--source"},[e._v(e._s(e.sourceSelectedCount))]):e._e(),e._v(" "),i("span",{staticClass:"fsp-source-list__icon fsp-icon",class:"fsp-icon--"+e.sourceName}),e._v(" "),i("span",{staticClass:"fsp-source-list__label"},[e._v(e._s(e.t(e.itemLabel)))]),e._v(" "),e.isAuthorized?i("span",{staticClass:"fsp-source-list__logout",on:{click:function(t){t.stopPropagation(),e.logout(e.sourceName)}}},[e._v(e._s(e.t("Sign Out")))]):e._e(),e._v(" "),e.isMobileLocal?i("input",{ref:"mobileLocaInput",staticClass:"fsp-local-source__fileinput",attrs:{type:"file",multiple:e.multiple},on:{change:function(t){e.onFilesSelected(t)}}}):e._e()])},staticRenderFns:[],props:["sourceName","sourceLabel"],computed:ss({},Za.mapGetters(["accept","clouds","customSourceName","filesWaiting","route","maxFiles","mobileNavActive","uploadStarted"]),{itemLabel:function(){return"customsource"===this.sourceName?this.customSourceName||"Custom Source":this.sourceLabel},isSelectedSource:function(){return"summary"!==this.route[0]&&(this.route.length>1?this.route[1]:"local_file_system")===this.sourceName},isAuthorized:function(){if("customsource"===this.sourceName)return!1;var e=this.clouds[this.sourceName];return e&&!!e.contents},isMobileLocal:function(){return this.mobileNavActive&&"local_file_system"===this.sourceName},isHiddenOnMobile:function(){return this.mobileNavActive&&("webcam"===this.sourceName||"video"===this.sourceName||"audio"===this.sourceName)},multiple:function(){return this.maxFiles>1},sourceSelectedCount:function(){var e=this;return this.filesWaiting.filter(function(t){return t.source===e.sourceName}).length}}),methods:ss({},Za.mapActions(["updateMobileNavActive","addFile","logout"]),{onNavClick:function(e){this.isMobileLocal?this.openSelectFile():(this.updateMobileNavActive(!1),this.$store.dispatch("goToLastPath",e))},openSelectFile:function(){this.$refs.mobileLocaInput.click()},onFilesSelected:function(e){for(var t=e.target.files,i=0;i<t.length;i+=1)this.addFile(t[i])}})}},computed:ss({},Za.mapGetters(["fromSources","hasCustomSource","mobileNavActive"]),{sources:function(){var e=this;return this.fromSources.filter(function(t){return!("customsource"===t.name&&!e.hasCustomSource)})}})},ms={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.getPickerClasses},[i("div",{staticClass:"fsp-modal"},[e._t("sidebar"),i("div",{staticClass:"fsp-modal__body",class:e.getModalClasses},[e._t("header"),i("div",{ref:"content",staticClass:"fsp-content",class:e.getContentClasses,on:{scroll:e.handleScroll}},[e._t("body")],2),e._t("footer")],2)],2),i("div",{class:e.getFooterClasses},[e._v("Powered by "),i("span",{staticClass:"fsp-icon--filestack"}),e._v(" Filestack")])])},staticRenderFns:[],components:{Sidebar:hs},computed:ss({},Za.mapGetters(["currentCloud","filesWaiting","hasWhiteLabel","isBlocked","isPrefetching","route","uploadStarted"]),{isLocal:function(){return"local_file_system"===this.route[1]},isTransformer:function(){return"transform"===this.route[0]},getContentClasses:function(){return{"fsp-content--selected-items":this.isTransformer||!this.isLocal&&(this.filesWaiting.length>0||this.uploadStarted),"fsp-content--transformer":this.isTransformer}},getModalClasses:function(){return{"fsp-modal__body--transformer":this.isTransformer,"fsp-modal__body--sidebar-disabled":this.isBlocked,"fsp-modal__body--whitelabel":this.hasWhiteLabel}},getFooterClasses:function(){return{"fsp-picker__footer":!0,"fsp-picker__footer--visible":!this.hasWhiteLabel&&!this.isBlocked,"fsp-picker__footer--hidden":this.hasWhiteLabel||this.isBlocked}},getPickerClasses:function(){return{"fsp-picker":!0,"fsp-picker--active":!this.isPrefetching,"fsp-picker--inactive":this.isPrefetching}}}),methods:{handleScroll:function(){var e=this.$refs.content;e.scrollHeight-Math.round(e.scrollTop,10)===e.clientHeight&&this.currentCloud.next&&this.$store.dispatch("fetchCloudPath",{name:this.currentCloud.name,path:this.currentCloud.lastPath,next:this.currentCloud.next,load:!1})}}},gs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",[i("content-header",{attrs:{"hide-menu":!0},slot:"header"},[i("span",{staticClass:"fsp-header-text--visible"},[e._v("Application Blocked")])]),i("div",{staticClass:"fsp-blocked__container",slot:"body"},[i("div",{staticClass:"fsp-blocked__icon"}),i("div",{staticClass:"fsp-blocked__title"},[e._v("This application is blocked.")]),i("div",{staticClass:"fsp-text__subheader"},[e._v("For some reason this application is blocked.")]),i("div",{staticClass:"fsp-text__subheader"},[e._v("Please contact the owner of this page.")])]),i("modal")],1)},staticRenderFns:[],components:{ContentHeader:ps,Modal:ms}},vs={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.notifications.length>0?i("div",{staticClass:"fsp-notifications__container"},[i("div",{staticClass:"fsp-notifications__message"},[e._v(e._s(e.mostRecentNotification.message))]),i("span",{staticClass:"fsp-icon fsp-notifications__close-button",on:{click:e.removeAllNotifications}})]):e._e()},staticRenderFns:[],computed:ss({},Za.mapGetters(["notifications"]),{mostRecentNotification:function(){return this.notifications[this.notifications.length-1]}}),methods:ss({},Za.mapActions(["removeAllNotifications"]))},_s=[{name:"local_file_system",label:"My Device",ui:"local"},{name:"webcam",label:"Take Photo",ui:"webcam"},{name:"video",label:"Record Video",ui:"opentok"},{name:"audio",label:"Record Audio",ui:"opentok"},{name:"customsource",label:"Custom Source",ui:"cloud",layout:"list"},{name:"dropbox",label:"Dropbox",ui:"cloud",layout:"list"},{name:"evernote",label:"Evernote",ui:"cloud",layout:"list"},{name:"facebook",label:"Facebook",ui:"cloud",layout:"hybrid"},{name:"flickr",label:"Flickr",ui:"cloud",layout:"grid"},{name:"instagram",label:"Instagram",ui:"cloud",layout:"grid"},{name:"box",label:"Box",ui:"cloud",layout:"list"},{name:"googledrive",label:"Google Drive",ui:"cloud",layout:"list"},{name:"github",label:"Github",ui:"cloud",layout:"list"},{name:"gmail",label:"Gmail",ui:"cloud",layout:"list"},{name:"picasa",label:"Google Photos",ui:"cloud",layout:"hybrid"},{name:"onedrive",label:"OneDrive",ui:"cloud",layout:"list"},{name:"clouddrive",label:"Cloud Drive",ui:"cloud",layout:"list"},{name:"imagesearch",label:"Web Search",ui:"imagesearch"},{name:"url",label:"Link (URL)",ui:"url"}],ys=function(e){var t=void 0;if(_s.forEach(function(i){i.name===e&&(t=i)}),!t)throw new Error('Unknown source "'+e+'"');return t},bs=9007199254740991,ws="[object Arguments]",Cs="[object Function]",As="[object GeneratorFunction]",Ss=/^(?:0|[1-9]\d*)$/,Es=Object.prototype,xs=Es.hasOwnProperty,Fs=Es.toString,ks=Es.propertyIsEnumerable,Is=function(e,t){return function(i){return e(t(i))}}(Object.keys,Object),Os=Array.isArray,Ts=function(e){return e?un(e,Cn(e)):[]},Ds=function(e){return-1!==e.indexOf("/")},Ls=function(e,t){return e.mimetype&&"image/*"===t?-1!==e.mimetype.indexOf("image/"):e.mimetype&&"video/*"===t?-1!==e.mimetype.indexOf("video/"):e.mimetype&&"audio/*"===t?-1!==e.mimetype.indexOf("audio/"):e.mimetype&&"application/*"===t?-1!==e.mimetype.indexOf("application/"):e.mimetype&&"text/*"===t?-1!==e.mimetype.indexOf("text/"):e.mimetype===t},Ms=function(e){var t=/\.\w+$/.exec(e);return t&&t.length&&t[0]},Rs=function(e){return e.replace(".","").toLowerCase()},Us=function(e,t){var i=Ms(e.name);return!i||Rs(i)===Rs(t)},Ns=function(e,t){return void 0===t||t.some(function(t){return Ds(t)?Ls(e,t):Us(e,t)})},Ps=function(e){var t={filename:e.name,handle:e.handle,mimetype:e.mimetype||e.type,originalPath:e.originalPath||e.path,size:e.size,source:e.source,url:e.url};return e.originalFile&&(t.originalFile={name:e.originalFile.name,type:e.originalFile.type,size:e.originalFile.size}),e.status&&(t.status=e.status),e.key&&(t.key=e.key),e.container&&(t.container=e.container),t},zs=function(e){return e.map(Ps)},Bs=function(e){return e>=1048576?Math.round(e/1048576)+"MB":e>=1024?Math.round(e/1024)+"KB":e+"B"},$s=function(e){if(e.name.length<45)return e.name;var t=e.name.split(".");return 2===t.length?t[0].substring(0,42)+".."+"."+t[1]:t.length>2?e.name.substring(0,42)+".."+"."+t[t.length-1]:e.name.substring(0,42)+"..."},js=function(e){return e.mimetype&&-1!==e.mimetype.indexOf("image/")},Ws=function(e){var t=e.name&&e.name.split(".").pop().toLowerCase(),i=e.type||e.mimetype,n=["bmp","jpg","jpeg","png","gif","svg"].indexOf(t)>=0,r=["image/jpeg","image/jpg","image/png","image/bmp","image/gif","image/svg","image/svg+xml"].indexOf(i)>=0;return n||r},Hs=function(e){var t=e.name&&e.name.split(".").pop().toLowerCase(),i=e.type||e.mimetype,n=["image/svg","image/svg+xml"].indexOf(i)>=0;return"svg"===t||n},Gs=function(e){return e.mimetype&&-1!==e.mimetype.indexOf("audio/")},Vs=function(){return Math.round(255*Math.random()).toString(16)},Ys=function(e){for(var t="";t.length<2*e;)t+=Vs();return t},qs={da:{Add:"Tilfj",My:"Min",Connect:"Forbind",View:"Vis",Upload:"Upload",Filter:"Filtrer",Images:"Billeder",of:"af",Loading:"Indlser",Revert:"Gr om",Edit:"Rediger",More:"Mere",Uploaded:"Uploaded","Web Search":"sgning p internettet","Take Photo":"Tage billede","A new page will open to connect your account.":"En ny side vil bne for at forbinde med din konto","My Device":"Min enhed","or Drag and Drop, Copy and Paste Files":"Eller trk og slip, kopier og indst filer","Pick Your Files":"Vlg dine filer","Select Files to Upload":"Vlg filer til upload","Selected Files":"Valgte filer","Select Files from":"Vlg filer fra","We only extract images and never modify or delete them.":"Vi hiver kun billeder og modificerer eller sletter dem aldrig","You need to authenticate with ":"Du skal godkende med ","Search images":"Sg billeder","Sign Out":"Log ud","Select From":"Vlg fra","View/Edit Selected":"Vis/rediger valgte","Deselect All":"Fravlg alle","Files & Folders":"Filer og foldere","Edited Images":"Redigerede filer","Go Back":"G tilbage","No search results found for":"Ingen resultater fundet for","Please select":"Vlg venligst","more file":"fil mere","more files":"flere filer","File {displayName} is not an accepted file type. The accepted file types are {types}":"Filen {displayName} er ikke i et acceptabelt format. De accepterede formater er {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":" Filen {displayName} er for stor. Den accepterede filstrrelse er {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" Vores filstrrelse er begrnset til {maxFiles} {filesText}","Webcam Disabled":"Webkamera deaktiveret","Webcam Not Supported":"Webkamera understttes ikke","Please enable your webcam to take a photo.":"Aktivr dit webcam for at tage et billede","Your current browser does not support webcam functionality.":"Din nuvrende browser understtter ikke webcam","We suggest using Chrome or Firefox.":"Vi foreslr at bruge Chrome eller Firefox"},de:{Add:"Hinzufgen",My:"Mein",Connect:"Verbinden mit",View:"Aussicht",Upload:"Hochladen",Filter:"Filtern",Images:"Bilder",of:"von",Loading:"Laden",Revert:"Rckgngig",Edit:"Bearbeiten",More:"Mehr",Uploaded:"Hochgeladen","Web Search":"Internetsuche","Take Photo":"Foto machen","A new page will open to connect your account.":"Eine neue Seite wird geffnet, um Ihr Konto zu verbinden","My Device":"Mein Gert","or Drag and Drop, Copy and Paste Files":"oder ziehen, kopieren und Einfgen von Dateien","Pick Your Files":"Whlen Sie Ihre Dateien","Select Files to Upload":"Whlen Sie Dateien hochladen","Selected Files":"Ausgewhlten Dateien","Select Files from":"Whlen Sie Dateien aus","We only extract images and never modify or delete them.":"Wir extrahieren Bilder nur und modifizieren oder lschen sie niemals","You need to authenticate with ":"Sie mssen sich mit anmelden ","Search images":"Suche bilder","Sign Out":"Abmelden","Select From":"Whlen Sie aus","View/Edit Selected":"Anzeigen/Bearbeiten ausgewhlt","Deselect All":"Deaktivieren Sie alle","Files & Folders":"Dateien und Ordner","Edited Images":"Bearbeitete Bilder","Go Back":"Zurck","No search results found for":"Keine Suchergebnisse gefunden fr","Please select":"Bitte whlen Sie","more file":"weitere Datei","more files":"weitere Dateien","File {displayName} is not an accepted file type. The accepted file types are {types}":"Datei-{displayName} ist keine anerkannte Dateityp. Die akzeptierten Dateitypen sind {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Datei ist zu gro. Die akzeptierten Dateigre betrgt {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Unser Dateigrenlimit ist {maxFiles} {filesText}","Webcam Disabled":"Webcam ausgeschaltet","Webcam Not Supported":"Webcam nicht untersttzt","Please enable your webcam to take a photo.":"Bitte aktivieren Sie Ihre Webcam, um ein Foto zu machen","Your current browser does not support webcam functionality.":"Ihr aktueller Browser untersttzt keine Webcam-Funktionen.","We suggest using Chrome or Firefox.":"Wir empfehlen, mit Chrome oder Firefox."},en:{"File {displayName} is not an accepted file type. The accepted file types are {types}":"File {displayName} is not an accepted file type. The accepted file types are {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"File {displayName} is too big. The accepted file size is less than {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Our file upload limit is {maxFiles} {filesText}"},es:{Add:"Aadir",My:"Mi",Connect:"Conectar",View:"Ver",Upload:"Subir",Filter:"Filtrar",Images:"Imgenes",of:"de",Loading:"Cargando",Revert:"Deshacer",Edit:"Editar",More:"Mas",Uploaded:"Subido","Web Search":"Bsqueda de Internet","Take Picture":"Tomar la foto","A new page will open to connect your account.":"Se abrir una nueva pgina para conectar tu cuenta.","My Device":"Mi Dispositivo","or Drag and Drop, Copy and Paste Files":"O arrastrar y soltar, copiar y pegar archivos","Pick Your Files":"Elige tus archivos","Select Files to Upload":"Seleccionar archivos para cargar","Selected Files":"Archivos seleccionados","Select Files from":"Seleccione Archivos de","We only extract images and never modify or delete them.":"Slo extraemos imgenes y nunca las modificamos o eliminamos","You need to authenticate with ":"Debe autenticarse con","Search images":"Bsqueda de imgenes","Sign Out":"Desconectar","Select From":"Seleccione de","View/Edit Selected":"Ver/Editar Seleccionado","Deselect All":"Deseleccionar Todo","Files & Folders":"Archivos y Carpetas","Edited Images":"Imgenes editadas","Go Back":"Volver","No search results found for":"No hay resultados de bsqueda para","Please select":"Por favor, seleccione","more file":"el archivo ms","more files":"el archivo ms","File {displayName} is not an accepted file type. The accepted file types are {types}":"Archivo {displayName} no es un tipo de archivo aceptado. Los tipos de archivo aceptados son {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} De archivo es demasiado grande. El tamao aceptado es {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Nuestro lmite de upload de archivo es {maxFiles} {filesText}","Webcam Disabled":"Webcam deshabilitada","Webcam Not Supported":"Webcam no soportada","Please enable your webcam to take a photo.":"Por favor, habilite su webcam para tomar una foto","Your current browser does not support webcam functionality.":"Su navegador actual no admite la funcionalidad de webcam","We suggest using Chrome or Firefox.":"Sugerimos usar Chrome o Firefox"},fr:{Add:"Ajouter",My:"Ma",Connect:"Relier",View:"Vue",Upload:"Tlcharger",Filter:"Filtrer",Images:"Images",of:"sur",Loading:"Chargement",Revert:"Annuler",Edit:"Modifier",More:"Plus",Uploaded:"Tlcharges","Web Search":"Recherche Internet","Take Photo":"Prendre une Photo","A new page will open to connect your account.":"Une nouvelle page s'ouvrira pour connecter votre compte.","My Device":"Mon appareil","or Drag and Drop, Copy and Paste Files":"ou faites glisser, copier et coller des fichiers","Pick Your Files":"Choisissez vos fichiers","Select Files to Upload":"Slectionnez les fichiers  tlcharger","Selected Files":"Fichiers slectionns","Select Files from":"Slectionnez les fichiers  partir de","We only extract images and never modify or delete them.":"Nous ne faisons qu'extraire les images, et ne les modifions ou supprimons jamais.","You need to authenticate with ":"Vous devez vous authentifier avec ","Search images":"Rechercher des images","Sign Out":"Dconnecter","Select From":"Slectionnez dans","View/Edit Selected":"Afficher/modifier slectionne","Deselect All":"Dslectionner tout","Files & Folders":"Fichiers et dossiers","Edited Images":"Images dites","Go Back":"Retour","No search results found for":"Aucun rsultat de recherche trouv pour","Please select":"Veuillez slectionner","more file":"plus de fichier","more files":"plus de fichiers","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} De fichier nest pas un type de fichier accept. Les types de fichiers accepts sont {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"Le fichier {displayName} est trop grand. La taille de fichier accepte est {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Notre limite de tlchargement de fichier est {maxFiles} {filesText}","Webcam Disabled":"Webcam dsactiv","Webcam Not Supported":"Webcam non prise en charge","Please enable your webcam to take a photo.":"S'il vous plat activer votre webcam pour prendre une photo","Your current browser does not support webcam functionality.":"Votre navigateur actuel ne prend pas en charge la fonctionnalit webcam","We suggest using Chrome or Firefox.":"Nous vous suggrons d'utiliser Chrome ou Firefox."},he:{Add:"",My:"",Connect:"",View:"",Upload:"",Filter:"",Images:"",of:"",Loading:"",Revert:" ",Edit:"",More:"",Uploaded:"","Web Search":" ","Take Photo":"","A new page will open to connect your account.":"       ","My Device":" ","or Drag and Drop, Copy and Paste Files":"  /    ","Pick Your Files":"   ","Select Files to Upload":"  ","Selected Files":" ","Select Files from":"  -","We only extract images and never modify or delete them.":"      ","You need to authenticate with ":"   ","Search images":" ","Sign Out":"","Select From":" -","View/Edit Selected":"/ ","Deselect All":" ","Files & Folders":" ","Edited Images":" ","Go Back":"","No search results found for":"    ","Please select":" ","more file":" ","more files":" ","File {displayName} is not an accepted file type. The accepted file types are {types}":"{types}     .    {displayName} ","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{roundFileSize}  .     {displayName} ","Our file upload limit is {maxFiles} {filesText}":"{filesText} {maxFiles}    ","Webcam Disabled":" ","Webcam Not Supported":"  ","Please enable your webcam to take a photo.":"      ","Your current browser does not support webcam functionality.":"       ","We suggest using Chrome or Firefox.":"      "},it:{Add:"Aggiungere",My:"Mio",Connect:"Collegare",View:"Visualizza",Upload:"Caricare",Filter:"Filtrare",Images:"Immagini",of:"di",Loading:"Caricamento",Revert:"Annulla",Edit:"Modifica",More:"Pi",Uploaded:"Caricato","Web Search":"Ricerca sul Web","Take Picture":"Fare una foto","A new page will open to connect your account.":"Si aprir una nuova pagina per collegare il tuo account","My Device":"Il mio dispositivo","or Drag and Drop, Copy and Paste Files":"o trascinare, copiare e incollare file","Pick Your Files":"Selezionare i file","Select Files to Upload":"Selezionare i file da caricare","Selected Files":"File selezionati","Select Files from":"Selezionare i file da","We only extract images and never modify or delete them.":"Abbiamo estratto solo immagini e non modificarli o cancellarli.","You need to authenticate with":" necessario autenticarsi con","Search images":"Ricerca immagini","Sign Out":"Esci","Select From":"Selezionare da","View/Edit Selected":"Visualizza/Modifica selezionato","Deselect All":"Deselezionare tutto","Files & Folders":"File e cartelle","Edited Images":"Immagini Modificate","Go Back":"Indietro","No search results found for":" il nostro limite di upload di file","Please select":"Si prega di selezionare","more file":"pi file","more files":"pi file","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} File non  un tipo di file accettato. I tipi di file accettati sono {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Il file  molto grande. La dimensione massima accettata per i file  {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" il nostro limite di upload di file {maxFiles} {filesText}","Webcam Disabled":"Webcam spenta","Webcam Not Supported":"Webcam non supportato","Please enable your webcam to take a photo.":"Si prega di attivare la webcam per scattare una foto.","Your current browser does not support webcam functionality.":"Il browser corrente non supporta la funzionalit webcam.","We suggest using Chrome or Firefox.":"Suggeriamo usando Chrome o Firefox."},ja:{Add:"",My:"",Connect:"",View:"",Upload:"",Filter:"",Images:"",of:"",Loading:"",Revert:"",Edit:"",More:"",Uploaded:"","Web Search":"","Take Photo":"","A new page will open to connect your account.":"","My Device":"","or Drag and Drop, Copy and Paste Files":"","Pick Your Files":"","Select Files to Upload":"","Selected Files":"","Select Files from":"","We only extract images and never modify or delete them.":"","You need to authenticate with ":" ","Search images":"","Sign Out":"","Select From":"","View/Edit Selected":"/","Deselect All":"","Files & Folders":"","Edited Images":"","Go Back":"","No search results found for":"","Please select":"","more file":"","more files":"","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName}{types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName}{roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" {maxFiles} {filesText}","Webcam Disabled":"","Webcam Not Supported":"","Please enable your webcam to take a photo.":"","Your current browser does not support webcam functionality.":"","We suggest using Chrome or Firefox.":" firefox "},nl:{Add:"Toevoegen",My:"Mijn",Connect:"Verbinding maken met",View:"Bekijken",Upload:"Uploaden",Filter:"Zoeken",Images:"Afbeeldingen",of:"van de",Loading:"Laden",Revert:"Ongedaan maken",Edit:"Bewerken",More:"Meer",Uploaded:"Gepload","Web Search":"Zoeken op het web","Take Picture":"Foto nemen","A new page will open to connect your account.":"Een nieuwe pagina wordt geopend om verbinding te maken met uw account","My Device":"Mijn apparaat","or Drag and Drop, Copy and Paste Files":"of slepen, kopiren en plakken van bestanden","Pick Your Files":"Kies uw bestanden","Select Files to Upload":"Selecteer bestanden om te uploaden","Selected Files":"Geselecteerde bestanden","Select Files from":"Selecteer uw bestanden van","We only extract images and never modify or delete them.":"We halen alleen uw afbeeldingen op en zullen deze nooit aanpassen of verwijderen","You need to authenticate with ":"U moet verbinding maken met ","Search images":"Zoek beelden","Sign Out":"Afmelden","Select From":"Selecteren","View/Edit Selected":"Selectie bekijken/aanpassen","Deselect All":"Deselecteer alles","Files & Folders":"Bestanden en mappen","Edited Images":"Bewerkte Afbeeldingen","Go Back":"Ga Bacl","No search results found for":"Geen zoekresultaten gevonden voor","Please select":"Gelieve te selecteren","more file":"meer bestand","more files":"meer bestanden","File {displayName} is not an accepted file type. The accepted file types are {types}":"Bestand {displayName} is niet een geaccepteerde bestandstype. De geaccepteerde bestandstypen zijn {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"Bestand {displayName} is te groot. De aanvaarde vijl spanwijdte zit {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Onze bestand uploaden limiet is {maxFiles} {filesText}","Webcam Disabled":"Webcam uitgeschakeld","Webcam Not Supported":"Webcam niet ondersteund","Please enable your webcam to take a photo.":"Schakel de webcam in om een foto te maken","Your current browser does not support webcam functionality.":"Deze browser ondersteunt geen webcam functionaliteiten","We suggest using Chrome or Firefox.":"Wij raden aan om Chrome of Firefox te gebruiken."},pl:{Add:"Dodaj",My:"Mj",Connect:"Poczy",View:"Widok",Upload:"Przelij pliki",Filter:"Szukaj",Images:"Obrazy",of:"z",Loading:"adowanie",Revert:"Cofnij",Edit:"Edytuj",More:"Wicej",Uploaded:"Przesany","Web Search":"Grafika z internetu","Take Photo":"Zrb zdjcie","A new page will open to connect your account.":"Nowa strona zostanie otwarta w celu poczenia z Twoim kontem.","My Device":"Moje urzdzenie","or Drag and Drop, Copy and Paste Files":"lub przecignij i upu, kopiowa i wkleja pliki","Pick Your Files":"Wybierz swoje pliki","Select Files to Upload":"Wybierz pliki do przesania","Selected Files":"Wybrane pliki","Select Files from":"Wybierz pliki z","We only extract images and never modify or delete them.":"Mamy tylko wyodrbni obrazy i nigdy zmodyfikowa lub usun je","You need to authenticate with ":"Musisz uwierzytelni","Search images":"Szukaj obrazw","Sign Out":"Wyloguj si","Select From":"Wybierz z","View/Edit Selected":"Wywietl/Edytuj zaznaczone","Deselect All":"Odznacz wszystko","Files & Folders":"Pliki i Foldery","Edited Images":"Edytowane obrazy","Go Back":"Przejd wstecz","No search results found for":"Brak wynikw wyszukiwania","Please select":"Prosz wybra","more file":"wicej plikw","more files":"wicej plikw","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName} Plik nie jest typem plikw akceptowane. Typy plikw akceptowane s {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Plik jest zbyt due. Rozmiar plikw akceptowane jest {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"Nasz limit uploadu pliku jest {maxFiles} {filesText}","Webcam Disabled":"Kamera wyczona","Webcam Not Supported":"Kamera nie jest obsugiwana","Please enable your webcam to take a photo.":"Prosz wczy kamer internetow, aby zrobi zdjcie","Your current browser does not support webcam functionality.":"Twoja przegldarka obecnie nie obsuguje funkcji kamery internetowej.","We suggest using Chrome or Firefox.":"Zalecamy uycie Chrome lub Firefox"},pt:{Add:"Adicionar",My:"Meu",Connect:"Conetar-se ao",View:"Ver",Upload:"Carregar",Filter:"Ordenar",Images:"Imagens",of:"de",Loading:"Carregamento",Revert:"Desfazer",Edit:"Editar",More:"Mais",Uploaded:"Carregado","Web Search":"Buscar imagens na Web","Take Photo":"Tirar Foto","A new page will open to connect your account.":"Uma nova pgina ser aberta para conectar a sua conta.","My Device":"Meu dispositivo","or Drag and Drop, Copy and Paste Files":"ou arrastar, copiar e colar arquivos","Pick Your Files":"Selecione seus arquivos","Select Files to Upload":"Selecionar arquivos para upload","Selected Files":"Arquivos selecionados","Select Files from":"Selecione Arquivos No","We only extract images and never modify or delete them.":"Ns apenas extramos os arquivos selecionados e nunca os modificamos ou os removemos.","You need to authenticate with ":"Voc precisar se autenticar com","Search images":"Procurar fotos","Sign Out":"Desconectar","Select From":"Selecione de","View/Edit Selected":"Exibir/Editar selecionada","Deselect All":"Desmarcar todos","Files & Folders":"Arquivos e pastas","Edited Images":"Imagens editadas","Go Back":"Voltar","No search results found for":"Nenhum resultado de pesquisa encontrado para","Please select":"Por favor selecione","more file":"arquivo mais","more files":"mais arquivos","File {displayName} is not an accepted file type. The accepted file types are {types}":" Arquivo {displayName} no  um tipo de arquivo aceitos. Os tipos de arquivo aceitos so {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName} Arquivo  muito grande. O tamanho de arquivo aceito  {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" o nosso limite de upload de arquivo {maxFiles} {filesText}","Webcam Disabled":"Webcam Desativada","Webcam Not Supported":"Webcam No Suportada","Please enable your webcam to take a photo.":"Por favor, ative sua webcam para tirar uma foto","Your current browser does not support webcam functionality.":"Seu navegador atual no suporta conexo com a webcam.","We suggest using Chrome or Firefox.":"Ns sugerimos Chrome ou Firefox."},ru:{Add:"",My:"",Connect:"",View:"",Upload:"",Filter:"  ",Images:"",of:"",Loading:"",Revert:"",Edit:"",More:"",Uploaded:"","Web Search":"   ","Take Photo":"","A new page will open to connect your account.":"      ","My Device":" ","or Drag and Drop, Copy and Paste Files":" ,    ","Pick Your Files":" ","Select Files to Upload":"   ","Selected Files":" ","Select Files from":" ","We only extract images and never modify or delete them.":"   ,       ","You need to authenticate with ":"    ","Search images":" ","Sign Out":"","Select From":" ...","View/Edit Selected":"/","Deselect All":"","Files & Folders":"  ","Edited Images":" ","Go Back":"","No search results found for":"    ","Please select":", ","more file":" ","more files":" ","File {displayName} is not an accepted file type. The accepted file types are {types}":"{displayName}      .     {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":"{displayName}   .     {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":"    {maxFiles} {filesText}","Webcam Disabled":"- ","Webcam Not Supported":"-  ","Please enable your webcam to take a photo.":",  ,   ","Your current browser does not support webcam functionality.":"     -","We suggest using Chrome or Firefox.":"   Firefox"},zh:{Add:"",My:"",Connect:"",View:"",Upload:"",Filter:"",Images:"",of:"/",Loading:"",Revert:"",Edit:"",More:"",Uploaded:"","Web Search":"","Take Photo":"","A new page will open to connect your account.":"","My Device":"","or Drag and Drop, Copy and Paste Files":"","Pick Your Files":"","Select Files to Upload":"","Selected Files":"","Select Files from":"","We only extract images and never modify or delete them.":"","You need to authenticate with":"","Search images":"","Sign Out":"","Select From":"","View/Edit Selected":"/","Deselect All":"","Files & Folders":"","Edited Images":"","Go Back":"","No search results found for":"","Please select":"","more file":"","more files":"","File {displayName} is not an accepted file type. The accepted file types are {types}":" {displayName} {types}","File {displayName} is too big. The accepted file size is less than {roundFileSize}":" {displayName} {roundFileSize}","Our file upload limit is {maxFiles} {filesText}":" {maxFiles} {filesText}","Webcam Disabled":"","Webcam Not Supported":"","Please enable your webcam to take a photo.":"","Your current browser does not support webcam functionality.":"","We suggest using Chrome or Firefox.":""}},Xs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=qs[e];return{ERROR_FILE_NOT_ACCEPTABLE:t["File {displayName} is not an accepted file type. The accepted file types are {types}"],ERROR_FILE_TOO_BIG:t["File {displayName} is too big. The accepted file size is less than {roundFileSize}"],ERROR_MAX_FILES_REACHED:t["Our file upload limit is {maxFiles} {filesText}"]}},Qs=zi(function(e,t){!function(t){e.exports=t()}(function(){return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var c="function"==typeof Pi&&Pi;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return r(i||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof Pi&&Pi,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){"use strict";function n(e,t){this.__requested_features=e||[],this.__initialized=!1,this.__initCallbacks=[],this.__wasm_module=t&&t.wasm_module?t:null,this.features={js:!1,wasm:!1}}function r(e,t,i){for(var n=3,r=t*i*4|0;n<r;)e[n]=255,n=n+4|0}function o(e){return new Uint8Array(e.buffer,0,e.byteLength)}function a(e,t,i){if(u)t.set(o(e),i);else for(var n=i,r=0;r<e.length;r++){var a=e[r];t[n++]=255&a,t[n++]=a>>8&255}}var s=e("./utils").base64decode,c=e("./mathlib/wasm/math_wasm_base64");n.prototype.__init__=function(e){var t=this;if(this.__initCallbacks.length>0)this.__initCallbacks.push(e);else{this.__initCallbacks=[e];var i=function(){var e=t.__initCallbacks;t.__initCallbacks=[],t.__initialized=!0,e.forEach(function(e){return e()})};if(this.unsharp=this.unsharp_js,this.__requested_features.indexOf("js")>=0&&(this.features.js=!0,this.resize=this.resize_js),"undefined"!=typeof WebAssembly&&this.__requested_features.indexOf("wasm")>=0)return this.__wasm_module?(this.features.wasm=!0,this.resize=this.resize_wasm,void i()):void WebAssembly.compile(s(c)).then(function(e){t.__wasm_module=e,t.features.wasm=!0,t.resize=t.resize_wasm,i()}).catch(function(){i()});i()}},n.prototype.init=function(e){var t=this;if("function"!=typeof e)return this.__initialized?Promise.resolve(this):new Promise(function(e,i){t.__init__(function(n){n?i(n):t.features.wasm||t.features.js?e(t):i(new Error("Pica mathlib: no supported methods found"))})});this.__initialized?e(null,this):this.__init__(function(i){i?e(i):t.features.wasm||t.features.js?e(null,t):e(new Error("Pica mathlib: no supported methods found"))})},n.prototype.resizeAndUnsharp=function(e,t){var i=this.resize(e,t);return e.unsharpAmount&&this.unsharp(i,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),i},n.prototype.unsharp_js=e("./mathlib/unsharp_js"),n.prototype.resize_js=e("./mathlib/resize_js");var l=e("./mathlib/resize_filter_gen"),u=!0;try{u=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(e){}n.prototype.resize_wasm=function(e,t){var i=e.src,n=e.width,o=e.height,s=e.toWidth,c=e.toHeight,u=e.scaleX||e.toWidth/e.width,d=e.scaleY||e.toHeight/e.height,f=e.offsetX||0,p=e.offsetY||0,h=e.dest||new Uint8Array(s*c*4),m=void 0===e.quality?3:e.quality,g=e.alpha||!1;t||(t={});var v="filter_"+m+"|"+o+"|"+c+"|"+d+"|"+p,_=t["filter_"+m+"|"+n+"|"+s+"|"+u+"|"+f]||l(m,n,s,u,f),y=t[v]||l(m,o,c,d,p),b=Math.max(i.byteLength,h.byteLength)+_.byteLength+y.byteLength+o*s*4,w=Math.ceil(b/65536),C=t.wasm_imports||{env:{memory:new WebAssembly.Memory({initial:w})}},A=C.env.memory,S=A.buffer.byteLength/65536;w>S&&A.grow(w-S+16);var E=t.wasm_instance||new WebAssembly.Instance(this.__wasm_module,C);t.wasm_imports||(t.wasm_imports=C),t.wasm_instance||(t.wasm_instance=E);var x=new Uint8Array(C.env.memory.buffer),F=new Uint32Array(C.env.memory.buffer),k=new Uint32Array(i.buffer);F.set(k);var I=Math.max(i.byteLength,h.byteLength),O=I+o*s*4,T=O+_.byteLength;a(_,x,O),a(y,x,T),E.exports.convolveHV(O,T,I,n,o,s,c);var D=new Uint32Array(h.buffer);return D.set(F.subarray(0,D.length)),g||r(h,s,c),h},t.exports=n},{"./mathlib/resize_filter_gen":4,"./mathlib/resize_js":6,"./mathlib/unsharp_js":7,"./mathlib/wasm/math_wasm_base64":8,"./utils":11}],2:[function(e,t,i){"use strict";t.exports=function(e,t,i){for(var n,r,o,a,s,c=t*i,l=new Uint16Array(c),u=0;u<c;u++)n=e[4*u],r=e[4*u+1],o=e[4*u+2],s=n>=r&&n>=o?n:r>=o&&r>=n?r:o,a=n<=r&&n<=o?n:r<=o&&r<=n?r:o,l[u]=257*(s+a)>>1;return l}},{}],3:[function(e,t,i){"use strict";function n(e){return e<0?0:e>255?255:e}t.exports={convolveHorizontally:function(e,t,i,r,o,a){var s,c,l,u,d,f,p,h,m,g,v,_=0,y=0;for(m=0;m<r;m++){for(d=0,g=0;g<o;g++){for(f=a[d++],p=a[d++],h=_+4*f|0,s=c=l=u=0;p>0;p--)u=u+(v=a[d++])*e[h+3]|0,l=l+v*e[h+2]|0,c=c+v*e[h+1]|0,s=s+v*e[h]|0,h=h+4|0;t[y+3]=n(u+8192>>14),t[y+2]=n(l+8192>>14),t[y+1]=n(c+8192>>14),t[y]=n(s+8192>>14),y=y+4*r|0}y=4*(m+1)|0,_=(m+1)*i*4|0}},convolveVertically:function(e,t,i,r,o,a){var s,c,l,u,d,f,p,h,m,g,v,_=0,y=0;for(m=0;m<r;m++){for(d=0,g=0;g<o;g++){for(f=a[d++],p=a[d++],h=_+4*f|0,s=c=l=u=0;p>0;p--)u=u+(v=a[d++])*e[h+3]|0,l=l+v*e[h+2]|0,c=c+v*e[h+1]|0,s=s+v*e[h]|0,h=h+4|0;t[y+3]=n(u+8192>>14),t[y+2]=n(l+8192>>14),t[y+1]=n(c+8192>>14),t[y]=n(s+8192>>14),y=y+4*r|0}y=4*(m+1)|0,_=(m+1)*i*4|0}}}},{}],4:[function(e,t,i){"use strict";function n(e){return Math.round(e*((1<<o)-1))}var r=e("./resize_filter_info"),o=14;t.exports=function(e,t,i,o,a){var s,c,l,u,d,f,p,h,m,g,v,_,y,b,w,C,A,S=r[e].filter,E=1/o,x=Math.min(1,o),F=r[e].win/x,k=Math.floor(2*(F+1)),I=new Int16Array((k+2)*i),O=0,T=!I.subarray||!I.set;for(s=0;s<i;s++){for(c=(s+.5)*E+a,l=Math.max(0,Math.floor(c-F)),d=(u=Math.min(t-1,Math.ceil(c+F)))-l+1,f=new Float32Array(d),p=new Int16Array(d),h=0,m=l,g=0;m<=u;m++,g++)h+=v=S((m+.5-c)*x),f[g]=v;for(_=0,g=0;g<f.length;g++)_+=y=f[g]/h,p[g]=n(y);for(p[i>>1]+=n(1-_),b=0;b<p.length&&0===p[b];)b++;if(b<p.length){for(w=p.length-1;w>0&&0===p[w];)w--;if(C=l+b,A=w-b+1,I[O++]=C,I[O++]=A,T)for(g=b;g<=w;g++)I[O++]=p[g];else I.set(p.subarray(b,w+1),O),O+=A}else I[O++]=0,I[O++]=0}return I}},{"./resize_filter_info":5}],5:[function(e,t,i){"use strict";t.exports=[{win:.5,filter:function(e){return e>=-.5&&e<.5?1:0}},{win:1,filter:function(e){if(e<=-1||e>=1)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},{win:2,filter:function(e){if(e<=-2||e>=2)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},{win:3,filter:function(e){if(e<=-3||e>=3)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}}]},{}],6:[function(e,t,i){"use strict";function n(e,t,i){for(var n=3,r=t*i*4|0;n<r;)e[n]=255,n=n+4|0}var r=e("./resize_filter_gen"),o=e("./resize_convolve_js").convolveHorizontally,a=e("./resize_convolve_js").convolveVertically;t.exports=function(e,t){var i=e.src,s=e.width,c=e.height,l=e.toWidth,u=e.toHeight,d=e.scaleX||e.toWidth/e.width,f=e.scaleY||e.toHeight/e.height,p=e.offsetX||0,h=e.offsetY||0,m=e.dest||new Uint8Array(l*u*4),g=void 0===e.quality?3:e.quality,v=e.alpha||!1;if(s<1||c<1||l<1||u<1)return[];t||(t={});var _="filter_"+g+"|"+c+"|"+u+"|"+f+"|"+h,y=t["filter_"+g+"|"+s+"|"+l+"|"+d+"|"+p]||r(g,s,l,d,p),b=t[_]||r(g,c,u,f,h),w=new Uint8Array(l*c*4);return o(i,w,s,c,l,y),a(w,m,c,l,u,b),v||n(m,l,u),m}},{"./resize_convolve_js":3,"./resize_filter_gen":4}],7:[function(e,t,i){"use strict";var n=e("glur/mono16"),r=e("./lightness16_js");t.exports=function(e,t,i,o,a,s){var c,l,u,d,f,p,h,m,g,v,_,y,b;if(!(0===o||a<.5)){a>2&&(a=2);var w=r(e,t,i),C=new Uint16Array(w);n(C,t,i,a);for(var A=o/100*4096+.5|0,S=257*s|0,E=t*i,x=0;x<E;x++)y=2*(w[x]-C[x]),Math.abs(y)>=S&&(c=e[b=4*x],l=e[b+1],u=e[b+2],p=257*((m=c>=l&&c>=u?c:l>=c&&l>=u?l:u)+(h=c<=l&&c<=u?c:l<=c&&l<=u?l:u))>>1,h===m?d=f=0:(f=p<=32767?4095*(m-h)/(m+h)|0:4095*(m-h)/(510-m-h)|0,d=c===m?65535*(l-u)/(6*(m-h))|0:l===m?21845+(65535*(u-c)/(6*(m-h))|0):43690+(65535*(c-l)/(6*(m-h))|0)),(p+=A*y+2048>>12)>65535?p=65535:p<0&&(p=0),0===f?c=l=u=p>>8:(g=2*p-(v=p<=32767?p*(4096+f)+2048>>12:p+((65535-p)*f+2048>>12))>>8,v>>=8,c=(_=d+21845&65535)>=43690?g:_>=32767?g+(6*(v-g)*(43690-_)+32768>>16):_>=10922?v:g+(6*(v-g)*_+32768>>16),l=(_=65535&d)>=43690?g:_>=32767?g+(6*(v-g)*(43690-_)+32768>>16):_>=10922?v:g+(6*(v-g)*_+32768>>16),u=(_=d-21845&65535)>=43690?g:_>=32767?g+(6*(v-g)*(43690-_)+32768>>16):_>=10922?v:g+(6*(v-g)*_+32768>>16)),e[b]=c,e[b+1]=l,e[b+2]=u)}}},{"./lightness16_js":2,"glur/mono16":13}],8:[function(e,t,i){"use strict";t.exports="AGFzbQEAAAABlICAgAACYAZ/f39/f38AYAd/f39/f39/AAKPgICAAAEDZW52Bm1lbW9yeQIAAQODgICAAAIAAQSEgICAAAFwAAAHmYCAgAACCGNvbnZvbHZlAAAKY29udm9sdmVIVgABCYGAgIAAAArtg4CAAALBg4CAAAEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLoYCAgAAAAkBBACACIAMgBCAFIAAQACACQQAgBCAFIAYgARAACws="},{}],9:[function(e,t,i){"use strict";function n(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}n.prototype.acquire=function(){var e=this,t=void 0;return 0!==this.available.length?t=this.available.pop():((t=this.create()).id=this.lastId++,t.release=function(){return e.release(t)}),this.acquired[t.id]=t,t},n.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return t.gc()},100))},n.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter(function(i){return!(t-i.lastUsed>e.idle)||(i.destroy(),!1)}),0!==this.available.length?this.timeoutId=setTimeout(function(){return e.gc()},100):this.timeoutId=0},t.exports=n},{}],10:[function(e,t,i){"use strict";function n(e){var t=Math.round(e);return Math.abs(e-t)<o?t:Math.floor(e)}function r(e){var t=Math.round(e);return Math.abs(e-t)<o?t:Math.ceil(e)}var o=1e-5;t.exports=function(e){var t,i,o,a,s,c,l,u=e.toWidth/e.width,d=e.toHeight/e.height,f=n(e.srcTileSize*u)-2*e.destTileBorder,p=n(e.srcTileSize*d)-2*e.destTileBorder,h=[];for(a=0;a<e.toHeight;a+=p)for(o=0;o<e.toWidth;o+=f)(t=o-e.destTileBorder)<0&&(t=0),t+(s=o+f+e.destTileBorder-t)>=e.toWidth&&(s=e.toWidth-t),(i=a-e.destTileBorder)<0&&(i=0),i+(c=a+p+e.destTileBorder-i)>=e.toHeight&&(c=e.toHeight-i),l={toX:t,toY:i,toWidth:s,toHeight:c,toInnerX:o,toInnerY:a,toInnerWidth:f,toInnerHeight:p,offsetX:t/u-n(t/u),offsetY:i/d-n(i/d),scaleX:u,scaleY:d,x:n(t/u),y:n(i/d),width:r(s/u),height:r(c/d)},h.push(l);return h}},{}],11:[function(e,t,i){"use strict";function n(e){return Object.prototype.toString.call(e)}t.exports.isCanvas=function(e){var t=n(e);return"[object HTMLCanvasElement]"===t||"[object Canvas]"===t},t.exports.isImage=function(e){return"[object HTMLImageElement]"===n(e)},t.exports.limiter=function(e){function t(){i<e&&n.length&&(i++,n.shift()())}var i=0,n=[];return function(e){return new Promise(function(r,o){n.push(function(){e().then(function(e){r(e),i--,t()},function(e){o(e),i--,t()})}),t()})}},t.exports.cib_quality_name=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},t.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var e=document.createElement("canvas");return e.width=100,e.height=100,createImageBitmap(e,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(t){var i=10===t.width;return t.close(),e=null,i})}).catch(function(){return!1})};t.exports.base64decode=function(e){for(var t=e.replace(/[\r\n=]/g,""),i=t.length,n=[],r=0,o=0;o<i;o++)o%4==0&&o&&(n.push(r>>16&255),n.push(r>>8&255),n.push(255&r)),r=r<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r".indexOf(t.charAt(o));var a=i%4*6;return 0===a?(n.push(r>>16&255),n.push(r>>8&255),n.push(255&r)):18===a?(n.push(r>>10&255),n.push(r>>2&255)):12===a&&n.push(r>>4&255),new Uint8Array(n)}},{}],12:[function(e,t,i){"use strict";t.exports=function(){var t=e("./mathlib"),i=void 0,n={};onmessage=function(e){var r=e.data.opts;i||(i=new t(e.data.features,e.data.preload)),i.init(function(e){if(e)postMessage({err:e});else{var t=i.resizeAndUnsharp(r,n);postMessage({result:t},[t.buffer])}})}}},{"./mathlib":1}],13:[function(e,t,i){function n(e){e<.5&&(e=.5);var t=Math.exp(.527076)/e,i=Math.exp(-t),n=Math.exp(-2*t),r=(1-i)*(1-i)/(1+2*t*i-n);return o=r,a=r*(t-1)*i,s=r*(t+1)*i,c=-r*n,l=2*i,u=-n,d=(o+a)/(1-l-u),f=(s+c)/(1-l-u),new Float32Array([o,a,s,c,l,u,d,f])}function r(e,t,i,n,r,o){var a,s,c,l,u,d,f,p,h,m,g,v,_,y;for(h=0;h<o;h++){for(f=h,p=0,l=u=(a=e[d=h*r])*n[6],g=n[0],v=n[1],_=n[4],y=n[5],m=0;m<r;m++)c=(s=e[d])*g+a*v+l*_+u*y,u=l,l=c,a=s,i[p]=l,p++,d++;for(p--,f+=o*(r-1),l=u=(a=e[--d])*n[7],s=a,g=n[2],v=n[3],m=r-1;m>=0;m--)c=s*g+a*v+l*_+u*y,u=l,l=c,a=s,s=e[d],t[f]=i[p]+l,d--,p--,f-=o}}var o,a,s,c,l,u,d,f;t.exports=function(e,t,i,o){if(o){var a=new Uint16Array(e.length),s=new Float32Array(Math.max(t,i)),c=n(o);r(e,a,s,c,t,i,o),r(a,e,s,c,i,t,o)}}},{}],14:[function(e,t,i){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,s,c=n(e),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var u in i)o.call(i,u)&&(c[u]=i[u]);if(r){s=r(i);for(var d=0;d<s.length;d++)a.call(i,s[d])&&(c[s[d]]=i[s[d]])}}return c}},{}],15:[function(e,t,i){var n=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){function i(e){g[e]=!0;for(var t in r[e][1]){var n=r[e][1][t];g[n]||i(n)}}for(var s,c=Object.keys(o),l=0,u=c.length;l<u;l++){var d=c[l],f=o[d].exports;if(f===e||f&&f.default===e){s=d;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,u=c.length;l<u;l++)p[d=c[l]]=d;r[s]=[Function(["require","module","exports"],"("+e+")(self)"),p]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,r[h]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),m];var g={};i(h);var v="("+n+")({"+Object.keys(g).map(function(e){return a(e)+":["+r[e][0]+","+a(r[e][1])+"]"}).join(",")+"},{},["+a(h)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([v],{type:"text/javascript"});if(t&&t.bare)return y;var b=_.createObjectURL(y),w=new Worker(b);return w.objectURL=b,w}},{}],"/":[function(e,t,i){"use strict";function n(){return{value:a(u),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function r(e){if(!(this instanceof r))return new r(e);this.options=o(m,e||{});var t="lk_"+this.options.concurrency;this.__limit=f[t]||l.limiter(this.options.concurrency),f[t]||(f[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}var o=e("object-assign"),a=e("webworkify"),s=e("./lib/mathlib"),c=e("./lib/pool"),l=e("./lib/utils"),u=e("./lib/worker"),d=e("./lib/tiler"),f={},p=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(p=navigator.userAgent.indexOf("Safari")>=0)}catch(e){}var h=1;"undefined"!=typeof navigator&&(h=Math.min(navigator.hardwareConcurrency||1,4));var m={tile:1024,concurrency:h,features:["js","wasm","ww"],idle:2e3},g={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},v=void 0,_=void 0;r.prototype.init=function(){var t=this;if(this.__initPromise)return this.__initPromise;if(!1!==v&&!0!==v&&(v=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),v=!0}catch(e){}!1!==_&&!0!==_&&(_=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?_=!0:this.debug("ImageBitmap does not support .close(), disabled")));var i=this.options.features.slice();if(i.indexOf("all")>=0&&(i=["cib","wasm","js","ww"]),this.__requested_features=i,this.__mathlib=new s(i),i.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{e("webworkify")(function(){}).terminate(),this.features.ww=!0;var r="wp_"+JSON.stringify(this.options);f[r]?this.__workersPool=f[r]:(this.__workersPool=new c(n,this.options.idle),f[r]=this.__workersPool)}catch(e){}var a=this.__mathlib.init().then(function(e){o(t.features,e.features)}),u=void 0;return u=_?l.cib_support().then(function(e){t.features.cib&&i.indexOf("cib")<0?t.debug("createImageBitmap() resize supported, but disabled by config"):i.indexOf("cib")>=0&&(t.features.cib=e)}):Promise.resolve(!1),this.__initPromise=Promise.all([a,u]).then(function(){return t}),this.__initPromise},r.prototype.resize=function(e,t,i){var n=this;this.debug("Start resize...");var r=g;isNaN(i)?i&&(r=o(r,i)):r=o(r,{quality:i}),r.toWidth=t.width,r.toHeigth=t.height,r.width=e.naturalWidth||e.width,r.height=e.naturalHeight||e.height;var a=!1,s=null;r.cancelToken&&(s=r.cancelToken.then(function(e){throw a=!0,e},function(e){throw a=!0,e}));var c=t.getContext("2d",{alpha:Boolean(r.alpha)});return this.init().then(function(){if(a)return s;if(n.features.cib)return n.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:r.toWidth,resizeHeight:r.toHeigth,resizeQuality:l.cib_quality_name(r.quality)}).then(function(e){if(a)return s;if(!r.unsharpAmount)return c.drawImage(e,0,0),e.close(),c=null,n.debug("Finished!"),t;n.debug("Unsharp result");var i=document.createElement("canvas");i.width=r.toWidth,i.height=r.toHeigth;var o=i.getContext("2d",{alpha:Boolean(r.alpha)});o.drawImage(e,0,0),e.close();var l=o.getImageData(0,0,r.toWidth,r.toHeigth);return n.__mathlib.unsharp(l.data,r.toWidth,r.toHeigth,r.unsharpAmount,r.unsharpRadius,r.unsharpThreshold),c.putImageData(l,0,0),l=o=i=c=null,n.debug("Finished!"),t});var i=void 0,o=void 0,u={},f=function(e){return Promise.resolve().then(function(){return n.features.ww?new Promise(function(t,i){var r=n.__workersPool.acquire();s&&s.catch(function(e){return i(e)}),r.value.onmessage=function(e){r.release(),e.data.err?i(e.data.err):t(e.data.result)},r.value.postMessage({opts:e,features:n.__requested_features,preload:{wasm_nodule:n.__mathlib.__}},[e.src.buffer])}):n.__mathlib.resizeAndUnsharp(e,u)})},h=function(t){return n.__limit(function(){if(a)return s;var u=void 0;if(l.isCanvas(e))n.debug("Get tile pixel data"),u=i.getImageData(t.x,t.y,t.width,t.height);else{n.debug("Draw tile imageBitmap/image to temporary canvas");var d=document.createElement("canvas");d.width=t.width,d.height=t.height;var h=d.getContext("2d",{alpha:Boolean(r.alpha)});h.globalCompositeOperation="copy",h.drawImage(o||e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),n.debug("Get tile pixel data"),u=h.getImageData(0,0,t.width,t.height),h=d=null}var m={src:u.data,width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,quality:r.quality,alpha:r.alpha,unsharpAmount:r.unsharpAmount,unsharpRadius:r.unsharpRadius,unsharpThreshold:r.unsharpThreshold};return n.debug("Invoke resize math"),Promise.resolve().then(function(){return f(m)}).then(function(e){if(a)return s;u=null;var i=void 0;if(n.debug("Convert raw rgba tile result to ImageData"),v)i=new ImageData(new Uint8ClampedArray(e),t.toWidth,t.toHeight);else if((i=c.createImageData(t.toWidth,t.toHeight)).data.set)i.data.set(e);else for(var r=i.data.length-1;r>=0;r--)i.data[r]=e[r];return n.debug("Draw tile"),p?c.putImageData(i,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth+1e-5,t.toInnerHeight+1e-5):c.putImageData(i,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth,t.toInnerHeight),null})})};return Promise.resolve().then(function(){if(l.isCanvas(e))return i=e.getContext("2d",{alpha:Boolean(r.alpha)}),null;if(l.isImage(e))return _?(n.debug("Decode image via createImageBitmap"),createImageBitmap(e).then(function(e){o=e})):null;throw new Error('".from" should be image or canvas')}).then(function(){function e(){o&&(o.close(),o=null)}if(a)return s;n.debug("Calculate tiles");var i=d({width:r.width,height:r.height,srcTileSize:n.options.tile,toWidth:r.toWidth,toHeight:r.toHeigth,destTileBorder:Math.ceil(Math.max(3,2.5*r.unsharpRadius|0))}).map(function(e){return h(e)});return n.debug("Process tiles"),Promise.all(i).then(function(){return n.debug("Finished!"),e(),t},function(t){throw e(),t})})})},r.prototype.resizeBuffer=function(e){var t=this,i=o(g,e);return this.init().then(function(){return t.__mathlib.resizeAndUnsharp(i)})},r.prototype.toBlob=function(e,t,i){return t=t||"image/png",new Promise(function(n){if(e.toBlob)e.toBlob(function(e){return n(e)},t,i);else{for(var r=atob(e.toDataURL(t,i).split(",")[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=r.charCodeAt(s);n(new Blob([a],{type:t}))}})},r.prototype.debug=function(){},t.exports=r},{"./lib/mathlib":1,"./lib/pool":9,"./lib/tiler":10,"./lib/utils":11,"./lib/worker":12,"object-assign":14,webworkify:15}]},{},[])("/")})});Sn.prototype.readUInt16=function(e,t){if(t+2>e.length)throw An("unexpected EOF","EBADDATA");return this.big_endian?256*e[t]+e[t+1]:e[t]+256*e[t+1]},Sn.prototype.readUInt32=function(e,t){if(t+4>e.length)throw An("unexpected EOF","EBADDATA");return this.big_endian?16777216*e[t]+65536*e[t+1]+256*e[t+2]+e[t+3]:e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]},Sn.prototype.writeUInt16=function(e,t,i){if(i+2>e.length)throw An("TIFF data is too large","EBADDATA");this.big_endian?(e[i]=t>>>8&255,e[i+1]=255&t):(e[i]=255&t,e[i+1]=t>>>8&255)},Sn.prototype.writeUInt32=function(e,t,i){if(i+4>e.length)throw An("TIFF data is too large","EBADDATA");this.big_endian?(e[i]=t>>>24&255,e[i+1]=t>>>16&255,e[i+2]=t>>>8&255,e[i+3]=255&t):(e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24&255)},Sn.prototype.filter=function(e,t){var i=this,n=e&&e.maxEntrySize?e.maxEntrySize:100,r=function(t){return function(r){return(!e||!e.onIFDEntry||!1!==e.onIFDEntry.call(i,t,r))&&r.value.length<=n}};this.output={buf:t,length:0};var o=0;if(this.output.buf[0]=this.data[0],this.output.buf[1]=this.data[1],this.output.buf[2]=this.data[2],this.output.buf[3]=this.data[3],this.output.length+=4,this.writeUInt32(this.output.buf,8,this.output.length),this.output.length+=4,o=this.readUInt32(this.data,4),this.processIFDSection(o,r(0)).entries.forEach(function(e){if((34665===e.tag||34853===e.tag||40965===e.tag)&&4===e.type){i.writeUInt32(i.output.buf,i.output.length,e.written_offset+8);var t=i.readUInt32(e.value,0);i.processIFDSection(t,r(e.tag))}}),this.output.length>this.output.buf.length)throw An("TIFF data is too large","EBADDATA");return this.output.length},Sn.prototype.readIFDEntry=function(e){var t=this.readUInt16(this.data,e),i=this.readUInt16(this.data,e+2),n=this.readUInt32(this.data,e+4),r=void 0;switch(i){case 1:case 2:case 6:case 7:r=1;break;case 3:case 8:r=2;break;case 4:case 9:case 11:r=4;break;case 5:case 10:case 12:r=8;break;default:return}var o=void 0,a=r*n;if(a<=4){if((o=this.data.subarray(e+8,e+12)).length<4)throw An("unexpected EOF","EBADDATA")}else{var s=this.readUInt32(this.data,e+8);if((o=this.data.subarray(s,s+a)).length<a)throw An("unexpected EOF","EBADDATA")}return{tag:t,type:i,count:n,value:o}},Sn.prototype.processIFDSection=function(e,t){var i=this,n=[],r=this.readUInt16(this.data,e);e+=2;for(var o=0;o<r;o+=1){var a=this.readIFDEntry(e+12*o);a&&(t(a)&&n.push(a))}this.writeUInt16(this.output.buf,n.length,this.output.length),this.output.length+=2;var s=this.output.length;return n.forEach(function(e){if(e.written_offset=i.output.length,i.writeUInt16(i.output.buf,e.tag,i.output.length),i.writeUInt16(i.output.buf,e.type,i.output.length+2),i.writeUInt32(i.output.buf,e.count,i.output.length+4),e.value.length<=4){if(e.value.length+i.output.length+8>i.output.buf.length)throw An("TIFF data is too large","EBADDATA");i.output.buf.set(e.value,i.output.length+8)}i.output.length+=12}),this.writeUInt32(this.output.buf,0,this.output.length),this.output.length+=4,n.forEach(function(e,t){if(e.value.length>4){if(i.writeUInt32(i.output.buf,i.output.length,s+12*t+8),e.value.length+i.output.length>i.output.buf.length)throw An("TIFF data is too large","EBADDATA");i.output.buf.set(e.value,i.output.length),i.output.length+=e.value.length,i.output.length%2&&(i.output.buf[i.output.length]=255,i.output.length+=1)}}),{entries:n,next_ifb:this.readUInt32(this.data,e+12*r)}};var Ks=function(e,t){if("Exif\0\0"!==String.fromCharCode.apply(null,e.subarray(0,6)))throw An("invalid Exif signature","ENOTEXIF");var i=new e.constructor(e.length),n=new Sn(e.subarray(6));"Exif\0\0".split("").forEach(function(e,t){i[t]=e.charCodeAt(0)});var r=n.filter(t,i.subarray(6));return new e.constructor(i.subarray(0,r+6))},Zs=0;En.prototype._error=function(e,t){if(12!==this._state){var i=new Error(e);i.code=t,this._state=12,this.onError(i)}},En.prototype._detectBuffer=function(e){this._BufferConstructor||(this._BufferConstructor=e.constructor,this._bufferUseAlloc="function"==typeof e.constructor.alloc,this._bufferUseFrom="function"==typeof e.constructor.from)},En.prototype._buffer=function(e){var t=this._BufferConstructor;return"number"==typeof e?this._bufferUseAlloc?t.alloc(e):new t(e):this._bufferUseFrom?t.from(e):new t(e)},En.prototype.push=function(e){var t=void 0,i=void 0,n=0;for(this._detectBuffer(e);n<e.length;){var r=e[n];switch(this._state){case Zs:if(255!==r)return void this._error("unknown file format","ENOTJPEG",n);this._state=1,n+=1;break;case 1:if(216!==r)return void this._error("unknown file format","ENOTJPEG",n);this.onData(this._buffer([255,216])),this._state=2,n+=1;break;case 2:if(218===this._markerCode){this._state=10;break}if(255!==r)return void this._error("unexpected byte at segment start: "+xn(r)+"\n          (offset "+xn(this._bytesRead+n)+" )","EBADDATA");this._state=3,n+=1;break;case 3:if(208<=r&&r<=217||1===r){this._markerCode=r,this._bytesLeft=0,this._segmentLength=0,217===this._markerCode?(this.onData(this._buffer([255,217])),this._state=12,this.onEnd()):this._state=4,n+=1;break}if(192<=r&&r<=254){this._markerCode=r,this._bytesLeft=2,this._segmentLength=0,this._state=4,n+=1;break}if(255===r){n+=1;break}return void this._error("unknown marker: "+xn(r)+"\n          (offset "+xn(this._bytesRead+n)+" )","EBADDATA");case 4:for(;this._bytesLeft>0&&n<e.length;)this._segmentLength=256*this._segmentLength+e[n],this._bytesLeft-=1,n+=1;if(this._bytesLeft<=0){if(null!==this._comment&&void 0!==this._comment&&224!==this._markerCode){var o=void 0;try{o=unescape(encodeURIComponent(this._comment))}catch(e){o=this._comment}(t=this._buffer(5+o.length))[0]=255,t[1]=254,t[2]=o.length+3>>>8&255,t[3]=o.length+3&255,o.split("").forEach(function(e,i){t[i+4]=255&e.charCodeAt(0)}),t[t.length-1]=0,this._comment=null,this.onData(t)}224===this._markerCode?this._state=6:225===this._markerCode?this._state=this._filter&&this._removeExif?5:8:226===this._markerCode?this._state=this._removeICC?5:6:this._markerCode>226&&this._markerCode<240?this._state=this._filter?5:6:254===this._markerCode?this._state=this._removeComments?5:6:this._state=this._removeImage?5:6,this._bytesLeft=Math.max(this._segmentLength-2,0)}break;case 5:n+=i=Math.min(this._bytesLeft,e.length-n),this._bytesLeft-=i,this._bytesLeft<=0&&(this._state=2);break;case 6:this._bytesLeft<=0?this._state=2:this._state=7,(t=this._buffer(4))[0]=255,t[1]=this._markerCode,t[2]=this._bytesLeft+2>>>8&255,t[3]=this._bytesLeft+2&255,this.onData(t);break;case 7:i=Math.min(this._bytesLeft,e.length-n),this.onData(Fn(e,n,n+i)),n+=i,this._bytesLeft-=i,this._bytesLeft<=0&&(this._state=2);break;case 8:this._app1buffer=this._buffer(this._bytesLeft),this._app1pos=0,this._state=9;break;case 9:var a=Fn(e,n,n+(i=Math.min(this._bytesLeft,e.length-n)));if(kn(a,this._app1buffer,this._app1pos),this._app1pos+=a.length,n+=i,this._bytesLeft-=i,this._bytesLeft<=0){var s=this._app1buffer;if(this._app1buffer=null,225===this._markerCode&&69===s[0]&&120===s[1]&&105===s[2]&&102===s[3]&&0===s[4]&&0===s[5])if(this._removeExif)s=null;else try{s=Ks(s,{maxEntrySize:this._maxEntrySize,onIFDEntry:this._onIFDEntry})}catch(e){if(s=null,e.code&&"EBADDATA"!==e.code)return void this.onError(e)}else!0===this._filter&&(s=null);if(s){var c=this._buffer(4);c[0]=255,c[1]=this._markerCode,c[2]=s.length+2>>>8&255,c[3]=s.length+2&255,this.onData(c),this.onData(s)}this._state=2}break;case 10:for(var l=n;n<e.length;){if(255===e[n]){if(n+1<e.length&&(0===(r=e[n+1])||r>=208&&r<216)){n+=2;continue}break}n+=1}this._removeImage||this.onData(Fn(e,l,n)),n<e.length&&(this._state=11,n+=1);break;case 11:if(0===r||r>=208&&r<216||255===r){this._removeImage||this.onData(this._buffer([255,r])),this._state=255===r?11:10,n+=1;break}this._state=3;break;case 12:n+=1}}this._bytesRead+=e.length},En.prototype.end=function(){switch(this._state){case Zs:case 1:case 5:case 6:case 7:case 8:case 9:this._error("unexpected end of file (offset "+xn(this._bytesRead)+")","EBADDATA");break;case 12:break;default:this.push(this._buffer([255,217]))}},En.prototype.onData=function(e){this.output.push(e)},En.prototype.onEnd=function(){},En.prototype.onError=function(e){throw e};var Js=function(e){for(var t=0,i=0,n=0;n<e.length;n+=1)t+=e[n].length;for(var r=new Uint8Array(t),o=0;o<e.length;o+=1)r.set(e[o],i),i+=e[o].length;return r},ec=function(e){return new Promise(function(t,i){if(e){var n=new FileReader;n.onloadend=function(){var e=new Uint8Array(n.result);if(255===e[0]&&216===e[1]){var r=En({removeImage:!0,filter:!0,removeICC:!0});try{r.push(e),r.end()}catch(e){return void i(new Error("Bad image."))}var o=Js(r.output);t(o.subarray(0,o.length-2))}t()},n.readAsArrayBuffer(e)}else t()})},tc=Qs(),ic=function(e,t){return new Promise(function(i,n){var r=e.slice||e.webkitSlice||e.mozSlice,o=e.name.split(".").pop().toLowerCase();if(-1!==["bmp","jpg","jpeg","png"].indexOf(o)){var a=void 0,s=new Image;s.onload=function(){var n="jpeg"===o||"jpg"===o?3:void 0,c=Math.min(s.height*t.width/t.height,s.width),l="png"===o||"image/png"===e.type,u=document.createElement("canvas"),d=document.createElement("canvas");u.width=c,u.height=s.height,d.width=t.width,d.height=t.height,u.getContext("2d").drawImage(s,0,0,c,s.height),tc.resize(u,d,{alpha:l,unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:2}).then(function(){return tc.toBlob(d,e.type,n)}).then(function(t){var n=void 0,o=void 0;a&&(o=r.call(t,20),n=new Blob([a,o],{type:e.type}));var s=e.name;(e=n||t).name=s,i(e)})},s.onerror=function(){n(new Error("Bad image."))},ec(e).then(function(t){a=t,s.src=window.URL.createObjectURL(e)})}else i(e)})},nc=function(e){if(e.folder)return e.path;var t=e.path.split("/").map(function(e){return e.toLowerCase()});return t.pop(),t.join("/")+"/"},rc=function(e,t){var i=nc(e),n=t.path.split("/").map(function(e){return e.toLowerCase()}).join("/"),r=n+"/";return i===n||i===r},oc=za.context("picker"),ac=function(e){return e.source+e.path},sc=function(e,t){return e.map(function(e){return ac(e)}).indexOf(ac(t))},cc={waiting:0,uploading:1,done:2,failed:3,resizing:4},lc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(e,t){var i=t.getters,n=i.currentCloud,r=i.cloudFolders,o=i.selectedCloudPath;if((e instanceof File||e instanceof Blob)&&(e={source:"local_file_system",mimetype:e.type,name:e.name,path:e.path||e.name,size:e.size,originalFile:e}),"dragged-from-web"===e.source){e.name=e.url.split("/").pop(),e.path=e.url,e.mimetype="text/html";var a=e.url.split(".").pop(),s=["jpg","jpeg","png","tiff","gif","bmp"];a&&-1!==s.indexOf(a.toLowerCase())&&(e.thumbnail=e.url,e.mimetype="image/"+a)}if(e.link_path&&(e.source="url",e.path=e.link_path,e.name=e.display_name,e.mimetype=e.type),"cloud"===e.sourceKind&&n&&n.path){var c=n.path.map(function(e){return r[e]&&r[e].name}).filter(function(e){return e}).join("/"),l=r[o]&&r[o].name;l&&(c=c?c+"/"+l:l),e.originalPath=c?"/"+c+"/"+e.name:"/"+e.name}return e.uuid=Ys(16),e.progress=0,e.progressSize="",e},n=function(e,t){var i=function(e,t,i){return e<t?t:e>i?i:e},n=function(){var n=t.progress/100;n>1||(n=i(n+(n>=0&&n<.2?.1:n>=.2&&n<.5?.04:n>=.5&&n<.8?.02:n>=.8&&n<.99?.005:0),0,.994),e.commit("SET_FILE_UPLOAD_PROGRESS",{uuid:t.uuid,progress:Math.round(100*n)}))};return function e(){setTimeout(function(){100!==t.progress&&99!==t.progress&&(n(),e())},200)}()};return{state:t=ss({files:{},uploadStarted:!1},t),mutations:{SET_UPLOAD_STARTED:function(e,t){e.uploadStarted=t},INITIALIZE_FILE:function(e,t){yt.set(e.files,t.uuid,t)},MARK_FILE_AS_WAITING:function(e,t){yt.set(e.files[t],"state",cc.waiting)},DESELECT_FILE:function(e,t){yt.set(e.files[t],"state",void 0),yt.set(e.files[t],"uuid",void 0),yt.delete(e.files,t)},DESELECT_FOLDER:function(e,t){Object.keys(e.files).forEach(function(i){var n=e.files[i];rc(n,t)&&(yt.set(n,"state",void 0),yt.set(n,"uuid",void 0),yt.delete(e.files,i))})},MARK_FILE_AS_UPLOADING:function(e,t){var i=t.uuid,n=t.token,r=e.files[i];r.state=cc.uploading,r.token=n},MARK_FILE_AS_DONE:function(e,t){var i=t.uuid,n=t.uploadMetadata,r=e.files[i];yt.set(r,"tempStorage",n),Object.keys(n).forEach(function(e){yt.set(r,e,n[e])}),e.files[i].state=cc.done},MARK_FILE_AS_FAILED:function(e,t){e.files[t].state=cc.failed},SET_FILE_UPLOAD_PROGRESS:function(e,t){var i=t.uuid,n=t.progress,r=t.progressSize,o=e.files[i];yt.delete(o,"progress"),yt.delete(o,"progressSize"),yt.set(o,"progress",n),yt.set(o,"progressSize",r)},SET_FILE_RESIZING:function(e,t){yt.set(e.files[t],"state",cc.resizing)},SET_FILE_BLOB:function(e,t){var i=t.uuid,n=t.blob,r=e.files[i];r.originalFile=n,r.size=n.size},SET_FILE_TRANSFORMATION:function(e,t){var i=t.uuid,n=t.blob,r=t.transform,o=e.files[i];o.state=cc.waiting,o.originalSize||yt.set(o,"originalSize",o.size),o.originalName||yt.set(o,"originalName",o.name),"circle"!==r&&"crop"!==r||yt.set(o,"cropped",!0),yt.set(o,"transformed",n),yt.set(o,"size",n.size),yt.set(o,"name",n.name),yt.set(o,"progress",0),yt.set(o,"progressSize","")},REMOVE_FILE_TRANSFORMATION:function(e,t){var i=e.files[t];yt.delete(i,"transformed"),yt.delete(i,"cropped"),i.originalSize&&(yt.set(i,"size",i.originalSize),yt.delete(i,"originalSize")),i.originalName&&(yt.set(i,"name",i.originalName),yt.delete(i,"originalName"))},REMOVE_SOURCE_FROM_WAITING:function(e,t){Object.keys(e.files).forEach(function(i){var n=e.files[i];n.source===t&&(yt.set(n,"state",void 0),yt.set(n,"uuid",void 0),yt.delete(e.files,i))})},REMOVE_CLOUDS_FROM_WAITING:function(e){Object.keys(e.files).forEach(function(t){var i=e.files[t];"cloud"===i.sourceKind&&(yt.set(i,"state",void 0),yt.set(i,"uuid",void 0),yt.delete(e.files,t))})}},actions:{addFile:function(e,t){if(void 0!==t.state)return e.dispatch("cancelUpload",t.uuid),void setTimeout(function(){return e.commit("DESELECT_FILE",t.uuid)});if(t.folder)e.dispatch("addCloudFolder",{name:t.source,path:t.path});else{var n=function(){!0===e.getters.startUploadingWhenMaxFilesReached&&e.getters.filesWaiting.length===e.getters.maxFiles&&e.dispatch("startUploading")};if(!function(){if(e.getters.fileCount===e.getters.maxFiles){var t=1===e.getters.maxFiles?"file":"files",i=Xs(e.getters.lang).ERROR_MAX_FILES_REACHED.replace("{maxFiles}",e.getters.maxFiles).replace("{filesText}",t);return e.dispatch("showNotification",i),!0}return!1}()){var r=i(t,e);(function(t){if(void 0!==e.getters.onFileSelected)try{var i=e.getters.onFileSelected(Ps(t));return i&&"string"==typeof i.name&&(t.name=i.name),!0}catch(t){return e.dispatch("showNotification",t.message),!1}return!0})(r)&&function(t){if(Ns(t,e.getters.accept))return!0;var i=Xs(e.getters.lang).ERROR_FILE_NOT_ACCEPTABLE.replace("{displayName}",$s(t)).replace("{types}",e.getters.accept);return e.dispatch("showNotification",i),!1}(r)&&function(t){if(void 0===e.getters.maxSize)return!0;if(t.size<e.getters.maxSize)return!0;if(!t.size||"string"==typeof t.size)return!0;var i=Xs(e.getters.lang).ERROR_FILE_TOO_BIG.replace("{displayName}",$s(t)).replace("{roundFileSize}",Bs(e.getters.maxSize));return e.dispatch("showNotification",i),!1}(r)&&(oc("Selected file:",t),e.commit("INITIALIZE_FILE",r),e.commit("SET_FILE_RESIZING",r.uuid),e.dispatch("resizeImageMaybe",r.originalFile).then(function(t){e.state.files[r.uuid]&&(t&&e.commit("SET_FILE_BLOB",{uuid:r.uuid,blob:t}),e.commit("MARK_FILE_AS_WAITING",r.uuid),n(),e.getters.uploadInBackground&&e.dispatch("uploadOne",r).then(function(){return e.dispatch("finishUploadsMaybe")}).catch(function(){}))}).catch(function(t){e.commit("MARK_FILE_AS_FAILED",r.uuid),e.dispatch("showNotification",t.message)}),js(r)&&Ws(r)&&1===e.getters.maxFiles&&!e.getters.disableTransformer&&!e.getters.uploadStarted?e.commit("CHANGE_ROUTE",["transform",r.uuid]):1===e.getters.maxFiles?e.commit("CHANGE_ROUTE",["summary"]):e.getters.maxFiles>1&&e.getters.fileCount===e.getters.maxFiles&&"summary"!==e.getters.route[0]?e.commit("CHANGE_ROUTE",["summary"]):e.getters.maxFiles>1&&"local_file_system"===r.source&&"summary"!==e.getters.route[0]&&e.commit("CHANGE_ROUTE",["summary"]))}}},finishUploadsMaybe:function(e){var t=e.dispatch,i=e.getters,n=i.filesDone,r=i.filesList,o=i.filesFailed;i.uploadStarted&&r.length===n.length+o.length&&t("allUploadsDone")},startUploading:function(e){e.getters.uploadStarted||(e.getters.onUploadStarted&&e.getters.onUploadStarted(zs(e.getters.filesList)),e.commit("SET_UPLOAD_STARTED",!0),e.commit("UPDATE_MOBILE_NAV_ACTIVE",!1),"transform"!==e.getters.route[0]&&e.commit("CHANGE_ROUTE",["summary"]),e.dispatch("uploadMoreMaybe"))},uploadMoreMaybe:function(e){var t=e.dispatch,i=e.getters,n=i.filesWaiting;i.filesUploading.length<4&&n.length>0?(t("uploadOne").then(function(){return t("uploadMoreMaybe")}).catch(function(){return t("uploadMoreMaybe")}),t("uploadMoreMaybe")):t("finishUploadsMaybe")},uploadOne:function(t,i){var r=void 0,o=i||t.getters.filesWaiting[0],a={intelligent:t.getters.hasIntelligent,progressInterval:500,onProgress:function(e){t.getters.uploadStarted&&(t.commit("SET_FILE_UPLOAD_PROGRESS",{uuid:o.uuid,progress:e.totalPercent,progressSize:Bs(e.totalBytes)}),t.getters.uploadStarted&&void 0!==t.getters.onFileUploadProgress&&t.getters.onFileUploadProgress(Ps(o),e))}},s={},c=ss({},t.getters.storeTo);if(t.getters.disableStorageKey&&(t.getters.storeTo&&t.getters.storeTo.path?c.path=""+t.getters.storeTo.path+o.name:c.path=o.name),"cloud"!==o.sourceKind&&(c.filename=o.name),o.transformed)r=e.upload(o.transformed,a,c,s);else if(o.tempStorage)t.commit("SET_FILE_UPLOAD_PROGRESS",{uuid:o.uuid,progress:100}),r=Promise.resolve(o.tempStorage);else if("local_file_system"===o.source)r=e.upload(o.originalFile,a,c,s);else if("url"===o.source||"dragged-from-web"===o.source)r=e.storeURL(o.path,c,s);else if("cloud"===o.sourceKind){var l={};t.getters.customSourcePath&&(l.customSourcePath=t.getters.customSourcePath),t.getters.customSourceContainer&&(l.customSourceContainer=t.getters.customSourceContainer),r=t.getters.preferLinkOverStore?e.cloud().link(o.source,o.path,l):e.cloud().store(o.source,o.path,c,l,s)}return t.commit("MARK_FILE_AS_UPLOADING",{uuid:o.uuid,token:s}),oc("Upload started:",o),t.getters.uploadStarted&&void 0!==t.getters.onFileUploadStarted&&t.getters.onFileUploadStarted(Ps(o)),!o.transformed&&"local_file_system"!==o.source&&t.getters.uploadStarted&&n(t,o),r.then(function(e){if(o.transformed||"local_file_system"===o.source||t.commit("SET_FILE_UPLOAD_PROGRESS",{uuid:o.uuid,progress:100}),e.error&&e.error.text)throw new Error(e.error.text);var i=ss({},o,e);return delete i.uuid,t.commit("MARK_FILE_AS_DONE",{uuid:o.uuid,uploadMetadata:i}),t.getters.uploadStarted&&void 0!==t.getters.onFileUploadFinished&&t.getters.onFileUploadFinished(Ps(i)),oc("Upload done:",o),e}).catch(function(e){t.commit("SET_FILE_UPLOAD_PROGRESS",{uuid:o.uuid,progress:100}),t.commit("MARK_FILE_AS_FAILED",o.uuid),t.getters.uploadStarted&&void 0!==t.getters.onFileUploadFailed&&t.getters.onFileUploadFailed(Ps(o),e),oc("Upload failed:",o,e.message)}),r},cancelUpload:function(e,t){var i=e.state.files[t];i&&i.token&&i.token.cancel&&i.token.cancel()},cancelFolderUpload:function(e,t){var i=e.state;Ts(i.files).filter(function(e){return"cloud"!==e.sourceKind||e.path.indexOf(t.path)>=0}).map(function(e){return e.uuid}).forEach(function(e){var t=i.files[e].token;t&&t.cancel&&t.cancel()})},cancelAllUploads:function(e){var t=e.state;Object.keys(t.files).forEach(function(e){var i=t.files[e].token;i&&i.cancel&&i.cancel()})},deselectAllFiles:function(e){e.dispatch("cancelAllUploads"),e.getters.filesList.forEach(function(t){t&&t.uuid&&e.commit("DESELECT_FILE",t.uuid)})},deselectFolder:function(e,t){e.dispatch("cancelFolderUpload",t),e.commit("DESELECT_FOLDER",t)},resizeImageMaybe:function(e,t){var i=e.dispatch,n=e.getters,r=n.imageDim,o=n.imageMin,a=n.imageMax;return t&&Ws(t)&&(r||o||a)?new Promise(function(e){var n=new Image,s=window.URL.createObjectURL(t);n.src=s,n.onload=function(){window.URL.revokeObjectURL(s);var c={width:n.width,height:n.height},l=c.width/c.height;r?r[0]?(c.width=r[0],c.height=c.width/l):r[1]&&(c.height=r[1],c.width=c.height*l):(o&&(c.width<o[0]&&(c.width=o[0],c.height=c.width/l),c.height<o[1]&&(c.height=o[1],c.width=c.height*l)),a&&(c.width>a[0]&&(c.width=a[0],c.height=c.width/l),c.height>a[1]&&(c.height=a[1],c.width=c.height*l))),c.width=parseInt(c.width,10),c.height=parseInt(c.height,10),n.width!==c.width&&n.height!==c.height?i("resizeImage",{blob:t,config:c}).then(function(t){return e(t)}):e(t)}}):Promise.resolve()},resizeImage:function(e,t){var i=t.blob,n=t.config;return ic(i,n)}},getters:{files:function(e){return e.files},filesList:function(e){return Ts(e.files)},filesUploading:function(e,t){return t.filesList.filter(function(e){return e.state===cc.uploading})},filesDone:function(e,t){return t.filesList.filter(function(e){return e.state===cc.done})},filesFailed:function(e,t){return t.filesList.filter(function(e){return e.state===cc.failed})},filesResizing:function(e,t){return t.filesList.filter(function(e){return e.state===cc.resizing})},fileCount:function(e,t){return t.filesList.length},uploadStarted:function(e){return e.uploadStarted},filesWaiting:function(e,t){var i=t.uploadStarted,n=t.filesList;return i?n.filter(function(e){return e.state===cc.waiting}):n},filesNeededCount:function(e,t){return t.minFiles-t.filesWaiting.length},canStartUpload:function(e,t){var i=t.filesWaiting,n=t.minFiles;return i.length>=n},canAddMoreFiles:function(e,t){var i=t.filesWaiting,n=t.maxFiles;return i.length<n}}}},uc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.files.length>0?i("div",{staticClass:"fsp-grid"},[e._l(e.onlyFolders,function(t){return i("div",{key:t.path,staticClass:"fsp-grid__cell",class:{"fsp-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.handleFolderClick(t)}}},[e.isSelected(t)?i("span",{staticClass:"fsp-badge fsp-badge--bright fsp-badge--file"},[e._v(e._s(e.getFileCount(t)))]):i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-folder",t)}),e._v(" "),i("span",{staticClass:"fsp-grid__text",class:{"fsp-grid__text--selected":e.isSelected(t)}},[e._v(e._s(t.name))]),e._v(" "),e.isSelected(t)?i("span",{staticClass:"fsp-grid__icon--selected",attrs:{title:"Deselect folder"},on:{click:function(i){i.stopPropagation(),e.deselectFolder(t)}}}):e._e(),e._v(" "),e.isLoading(t)||e.isSelected(t)?e._e():i("span",{staticClass:"fsp-grid__icon-folder-add",attrs:{title:"Add folder"},on:{click:function(i){i.stopPropagation(),e.addFile(t)}}}),e.isLoading(t)?i("div",{staticClass:"fsp-loading--folder"}):e._e()])}),e._l(e.onlyFiles,function(t){return i("div",{key:t.path,staticClass:"fsp-grid__cell",class:{"fsp-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.addFile(t)}}},[e.isAudio(t)?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-audio",t)}):e.isImage(t)?i("img",{staticClass:"fsp-grid__icon fsp-grid__thumbnail",attrs:{src:t.thumbnail}}):"application/pdf"===t.mimetype?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-pdf",t)}):"application/zip"===t.mimetype?i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-zip",t)}):i("span",{staticClass:"fsp-grid__icon",class:e.getIconClass("fsp-grid__icon-file",t)}),e._v(" "),i("span",{staticClass:"fsp-grid__text",class:{"fsp-grid__text--selected":e.isSelected(t)}},[e._v(e._s(t.name))]),e._v(" "),e.isSelected(t)?i("span",{staticClass:"fsp-grid__icon--selected"}):e._e()])})],2):e._e()},staticRenderFns:[],props:["files"],computed:ss({},Za.mapGetters(["cloudFolders","filesWaiting"]),{onlyFolders:function(){return this.files.filter(function(e){return e.folder})},onlyFiles:function(){return this.files.filter(function(e){return!e.folder})}}),methods:ss({},Za.mapActions(["addFile","deselectFolder","goToDirectory"]),{handleFolderClick:function(e){this.goToDirectory(e)},getIconClass:function(e,t){var i;return i={},as(i,e,!this.isSelected(t)),as(i,e+"--selected",this.isSelected(t)),i},isAudio:function(e){return Gs(e)},isImage:function(e){return js(e)},isLoading:function(e){return!!e.folder&&(this.cloudFolders[e.path]&&this.cloudFolders[e.path].loading)},isSelected:function(e){return e.folder?this.getFileCount(e)>0:-1!==sc(this.filesWaiting,e)},getFileCount:function(e){return this.filesWaiting.filter(function(t){return rc(t,e)}).length}})},dc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-image-grid"},e._l(e.files,function(t){return i("div",{key:t.path,staticClass:"fsp-image-grid__cell",class:{"fsp-image-grid__cell--selected":e.isSelected(t)},on:{click:function(i){e.addFile(t)}}},[e.isSelected(t)?i("span",{staticClass:"fsp-image-grid__icon--selected"}):e._e(),e._v(" "),i("img",{staticClass:"fsp-image-grid__image",class:{"fsp-image-grid__image--selected":e.isSelected(t)},attrs:{src:t.thumbnail,alt:t.name}}),e.isSelected(t)?i("div",{staticClass:"fsp-image-grid__cell--dark"}):e._e()])}))},staticRenderFns:[],props:["files"],computed:ss({},Za.mapGetters(["filesWaiting"])),methods:ss({},Za.mapActions(["addFile"]),{isSelected:function(e){return-1!==sc(this.filesWaiting,e)}})},fc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fsp-loading--fade"}},[i("div",{staticClass:"fsp-loading"})])},staticRenderFns:[]},pc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-cloud__container"},[e.currentCloud.isLoading?i("loading"):e._e(),e.currentCloud.isErrored?i("div",{staticClass:"fsp-cloud-error"},[i("div",{staticClass:"fsp-cloud-error__text"},[e._v("Something went wrong.")]),i("div",{key:"retryCall",staticClass:"fsp-button fsp-button--outline",on:{click:e.tryAgain}},[e._v("Retry")])]):e.currentCloud.isUnauthorized?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el",class:"fsp-icon--"+e.currentCloud.name}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Select Files from"))+" "+e._s(e.currentDisplay.label))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("You need to authenticate with "))+" "),i("span",{staticClass:"fsp-cloudname"},[e._v(e._s(e.currentDisplay.label))]),e._v("."),i("div",[e._v(e._s(e.t("We only extract images and never modify or delete them.")))])])]),i("button",{staticClass:"fsp-button fsp-button--auth fsp-source-auth__el",attrs:{type:"button"},on:{click:e.authorize}},[e._v(e._s(e.t("Connect"))+" "),i("span",{staticClass:"fsp-cloudname"},[e._v(e._s(e.currentDisplay.label))])]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("A new page will open to connect your account.")))])])]):i("div",{staticClass:"fsp-cloud__files-container"},["grid"!==e.currentDisplay.layout?i("div",{staticClass:"fsp-cloud__breadcrumbs"},[i("breadcrumbs",{attrs:{crumbs:e.currentCrumbs,"on-click":e.updatePath}})],1):e._e(),i("cloud-grid",{attrs:{files:e.currentCloudFiles}})],1)],1)},staticRenderFns:[],components:{CloudGrid:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-cloud__folder-view"},[e.folderIsEmpty?i("empty-folder"):i(e.currentView,{tag:"component",attrs:{files:e.files}})],1)},staticRenderFns:[],props:["files"],components:{FileArray:uc,ImageArray:dc,EmptyFolder:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-empty"},[i("div",{staticClass:"fsp-empty__message"},[e._v("This folder is empty.")]),i("span",{staticClass:"fsp-empty__back-button",on:{click:e.goBack}},[e._v("Go back")])])},staticRenderFns:[],methods:{goBack:function(){this.$store.commit("GO_BACK_WITH_ROUTE")}}}},computed:{currentSource:function(){return ys(this.$store.getters.currentCloud.name)},currentView:function(){return this.files.every(js)&&"hybrid"===this.currentSource.layout?"ImageArray":"grid"===this.currentSource.layout?"ImageArray":"FileArray"},folderIsEmpty:function(){return!this.$store.getters.currentCloud.isLoading&&!this.$store.getters.currentCloud.isErrored&&!this.$store.getters.currentCloudFiles.length}}},Breadcrumbs:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-breadcrumb__container"},[e.crumbs.length<=3?i("span",{staticStyle:{display:"flex"}},e._l(e.crumbs,function(t){return i("span",{key:t.path,staticClass:"fsp-breadcrumb__label",on:{click:function(i){e.handleClick(t)}}},[e._v(e._s(t.label)+" ")])})):i("span",{staticStyle:{display:"flex"}},e._l(e.truncateCrumbs(e.crumbs),function(t){return i("span",{key:t.path,staticClass:"fsp-breadcrumb__label",on:{click:function(i){e.handleClick(t)}}},[e._v(e._s(t.label))])}))])},staticRenderFns:[],props:["crumbs","onClick"],methods:{truncateCrumbs:function(e){var t=[].concat(e[0]),i=e.filter(function(t,i){return i>=e.length-2});return t.push.apply(t,[{path:"",label:"..."}].concat(cs(i))),t},handleClick:function(e){e.path&&e.label&&this.onClick(e)}}},Loading:fc},computed:ss({},Za.mapGetters(["apiClient","cloudFolders","currentCloud","currentCloudFiles","customSourceName"]),{currentDisplay:function(){return ys(this.currentCloud.name)},currentLabel:function(){return"customsource"===this.currentCloud.name?this.customSourceName:this.currentDisplay.label},currentCrumbs:function(){var e=this;return this.currentCloud.path.map(function(t){return"/"===t?{label:e.currentLabel,path:t}:{label:e.cloudFolders[t].name,path:t}})}}),methods:ss({},Za.mapActions(["fetchCloudPath"]),{authorize:function(){var e=this,t=this.currentCloud.redirect;if(!this.apiClient.cname){var i=this.apiClient.getSecurity(),n=[yr.authRelay,"?fs_apikey="+this.apiClient.apikey,"&fs_source="+this.currentCloud.name];i.policy&&i.signature&&(n.push("&fs_policy="+i.policy),n.push("&fs_signature="+i.signature)),t=n.join("")}var r=window.open(t,"FilestackPickerAuthRelay");!function t(){!0!==r.closed?setTimeout(t,10):setTimeout(function(){e.fetchCloudPath({name:e.currentCloud.name})},100)}()},tryAgain:function(){return this.fetchCloudPath({name:this.currentCloud.name})},updatePath:function(e){var t=this.currentCloud.path.indexOf(e.path);if(t!==this.currentCloud.path.length-1){var i=this.currentCloud.path.filter(function(e,i){return i<=t}),n=["source",this.currentCloud.name];"/"===e.path?this.$store.commit("CHANGE_ROUTE",n):(n.push(i),this.$store.commit("CHANGE_ROUTE",n))}}})},hc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-footer",class:{"fsp-footer--appeared":e.isVisible,"fsp-footer--whitelabel":e.hasWhiteLabel}},[i("div",{staticClass:"fsp-nav"},[i("span",{staticClass:"fsp-nav__left"},[e._t("nav-left")],2),i("span",{staticClass:"fsp-nav__center",style:{width:e.fullWidth?"100%":null}},[e._t("nav-center")],2),i("span",{staticClass:"fsp-nav__right"},[e._t("nav-right")],2)])])},staticRenderFns:[],props:["isVisible","fullWidth"],computed:{hasWhiteLabel:function(){return this.$store.getters.hasWhiteLabel}}},mc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-image-search"},[e.isSearching?i("loading"):e._e(),i("div",{staticClass:"fsp-image-search__container",class:{"fsp-image-search--results":e.resultsFound}},[i("div",{staticClass:"fsp-image-search__form-container"},[i("form",{staticClass:"fsp-image-search__form",on:{submit:function(t){t.preventDefault(),e.fetch(t)}}},[i("input",{ref:"searchInput",staticClass:"fsp-url-source__input",attrs:{placeholder:e.placeholderText,disabled:e.isSearching},domProps:{value:e.imageSearchInput},on:{input:e.updateInput}}),e._v(" "),e._m(0)])]),i("div",{staticClass:"fsp-image-search__results",class:{"fsp-content--selected-items":e.resultsFound&&e.filesWaiting.length}},[i("image-array",{directives:[{name:"show",rawName:"v-show",value:e.resultsFound,expression:"resultsFound"}],staticStyle:{"padding-top":"0px"},attrs:{files:e.imageSearchResults}})],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"fsp-button fsp-url-source__submit-button",attrs:{type:"submit"}},[i("div",{staticClass:"fsp-icon fsp-image-search__submit-icon"})])}],components:{ImageArray:dc,Loading:fc},computed:ss({},Za.mapGetters(["isSearching","noResultsFound","resultsFound","imageSearchInput","imageSearchResults","filesWaiting"]),{placeholderText:function(){return this.t("Search images")+"..."}}),methods:ss({},Za.mapActions(["updateSearchInput","fetchImages"]),{fetch:function(){this.fetchImages(),this.$refs.searchInput.blur()},updateInput:function(e){this.updateSearchInput(e.target.value)},clearSearch:function(){this.updateSearchInput("")}})},gc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-drop-area-container"},[i("div",{ref:"dropArea",staticClass:"fsp-drop-area",on:{click:e.openSelectFile}},[i("select-files-label"),i("input",{ref:"fileUploadInput",staticClass:"fsp-local-source__fileinput",attrs:{type:"file",id:"fsp-fileUpload",accept:e.acceptStr,multiple:e.multiple,disabled:!e.canAddMoreFiles},on:{change:function(t){e.onFilesSelected(t)},click:function(t){e.clearEvent(t)}}})],1)])},staticRenderFns:[],components:{SelectFilesLabel:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-select-labels",class:{active:e.selectLabelIsActive}},[i("div",{staticClass:"fsp-drop-area__title fsp-text__title"},[e._v(e._s(e.t("Select Files to Upload")))]),i("div",{staticClass:"fsp-drop-area__subtitle fsp-text__subheader"},[e._v(e._s(e.t("or Drag and Drop, Copy and Paste Files")))])])},staticRenderFns:[],computed:ss({},Za.mapGetters(["selectLabelIsActive"]))}},computed:ss({},Za.mapGetters(["accept","canAddMoreFiles","filesWaiting","maxFiles"]),{acceptStr:function(){if(this.accept)return this.accept.join(",")},selectedImages:function(){return this.filesWaiting.filter(function(e){return"local_file_system"===e.source}).filter(js)},multiple:function(){return this.maxFiles>1}}),methods:ss({},Za.mapActions(["addFile","updateSelectLabelActive"]),{clearEvent:function(e){e.target.value=null},onMouseover:function(){this.updateSelectLabelActive(!0)},onMouseout:function(){this.updateSelectLabelActive(!1)},onFilesSelected:function(e){for(var t=e.target.files,i=0;i<t.length;i+=1)this.addFile(t[i])},openSelectFile:function(){this.$refs.fileUploadInput.click()}}),mounted:function(){var e=this.$refs.dropArea;e&&(e.addEventListener("mouseover",this.onMouseover),e.addEventListener("mouseout",this.onMouseout))}},vc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.webCamError?i("div",{staticClass:"fsp-no-webcam"},["disabled"===e.webCamError?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el fsp-icon--webcam-disabled"}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Webcam Disabled")))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("Please enable your webcam to take a photo.")))])])]):e._e(),"browser"===e.webCamError?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el fsp-icon--webcam-disabled"}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Webcam Not Supported")))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("Your current browser does not support webcam functionality.")))]),i("br"),i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("We suggest using Chrome or Firefox.")))])])]):e._e()]):e._e(),e.webCamError?e._e():i("div",{staticClass:"fsp-webcam"},[i("img",{ref:"photo",staticClass:"fsp-webcam__video",attrs:{alt:"",src:""}}),i("video",{directives:[{name:"show",rawName:"v-show",value:!e.pictureTaken,expression:"!pictureTaken"}],ref:"video",staticClass:"fsp-webcam__video",attrs:{src:e.src}})]),e.webCamError?e._e():i("footer-nav",{attrs:{"is-visible":!0},slot:"footer"},[i("span",{staticClass:"fsp-footer-text",slot:"nav-left"}),e._v(" "),i("span",{slot:"nav-center"},[e.pictureTaken?e._e():i("span",{staticClass:"fsp-button fsp-button--primary fsp-button--webcam",on:{click:e.getPhoto}},[i("span",{staticClass:"fsp-webcam--icon"})]),e.pictureTaken?i("span",{staticClass:"fsp-button fsp-button--cancel fsp-button--webcam",on:{click:e.clearPhoto}},[i("span",{staticClass:"fsp-webcam--icon-gray"})]):e._e()]),e.pictureTaken?i("span",{staticClass:"fsp-button fsp-button--primary",attrs:{title:"Next"},on:{click:e.addPhoto},slot:"nav-right"},[e._v(e._s(e.t("Next")))]):e._e()])],1)},staticRenderFns:[],components:{FooterNav:hc},data:function(){return{pictureTaken:!1,webCamImageSrc:"",webCamError:"",hasUserMedia:!1}},methods:ss({},Za.mapActions(["addFile"]),{webCamReady:function(){var e=this;navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(t){e.$refs.video.srcObject=t,e.$refs.video.play(),e.hasUserMedia=!0}).catch(function(){e.webCamError="disabled"})},turnWebCamOff:function(){this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.srcObject.getTracks().forEach(function(e){e.stop()})},clearPhoto:function(){var e=document.createElement("canvas");e.getContext("2d").fillRect(0,0,e.width,e.height),this.webCamImageSrc="",this.$refs.photo.setAttribute("src",this.webCamImageSrc),this.pictureTaken=!1,this.webCamReady()},getPhoto:function(){if(!this.hasUserMedia)return null;var e=this.$refs.video,t=document.createElement("canvas"),i=t.getContext("2d");return t.height=e.clientHeight,t.width=e.clientWidth,i.drawImage(e,0,0),this.webCamImageSrc=t.toDataURL(),this.$refs.photo.setAttribute("src",this.webCamImageSrc),this.canvas=t,this.pictureTaken=!0,this.turnWebCamOff(),t},addPhoto:function(){var e=this,t=this.$store.getters.lang;this.canvas.toBlob(function(i){i.name="webcam-"+(new Date).toLocaleString(t)+".png",e.addFile(i)})}}),beforeMount:function(){navigator.mediaDevices?this.webCamReady():this.webCamError="browser",this.pictureTaken=!1},beforeDestroy:function(){this.turnWebCamOff()}},_c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-url-source"},[e.isUrlFetching?i("loading"):e._e(),i("div",{staticClass:"fsp-url-source__container"},[i("form",{staticClass:"fsp-url-source__form",on:{submit:function(t){t.preventDefault(),e.fetchUrl(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"fsp-url-source__input",attrs:{type:"url",placeholder:e.t("Enter a URL")},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),e._m(0)])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"fsp-button fsp-url-source__submit-button",attrs:{type:"submit"}},[i("div",{staticClass:"fsp-icon fsp-url-source__submit-icon"})])}],components:{Loading:fc},data:function(){return{url:""}},computed:{isUrlFetching:function(){return this.$store.getters.isUrlFetching}},methods:{fetchUrl:function(){this.url&&this.$store.dispatch("fetchUrl",this.url)}}},yc={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",[i("div",{slot:"header"},[e.isInsideCloudFolder?i("div",{staticClass:"fsp-summary__go-back",attrs:{title:"Go back"},on:{click:e.goBack}}):e._e(),i("content-header",{attrs:{source:e.currentSource}})],1),i("sidebar",{slot:"sidebar"}),"local"===e.currentSource.ui?i("local",{slot:"body"}):e._e(),"cloud"===e.currentSource.ui?i("cloud",{slot:"body"}):e._e(),"webcam"===e.currentSource.ui?i("webcam",{slot:"body"}):e._e(),"opentok"===e.currentSource.ui?i("open-tok",{attrs:{type:e.currentSource.name},slot:"body"}):e._e(),"imagesearch"===e.currentSource.ui?i("image-search",{slot:"body"}):e._e(),"url"===e.currentSource.ui?i("url",{slot:"body"}):e._e(),i("footer-nav",{attrs:{"is-visible":e.filesWaiting.length>0&&"webcam"!==e.currentSource.ui&&"opentok"!==e.currentSource.ui},slot:"footer"},[i("span",{staticClass:"fsp-footer-text",slot:"nav-left"},[i("span",[e._v(e._s(e.t("Selected Files"))+": "+e._s(e.filesWaiting.length))])]),i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":!e.canStartUpload},attrs:{title:"Next"},on:{click:e.goToSummary},slot:"nav-right"},[e.canStartUpload||0===e.filesWaiting.length?i("span",[e._v(e._s(e.t("View/Edit Selected")))]):i("span",[e._v(e._s(e.minFilesMessage)+" ")])])])],1)},staticRenderFns:[],components:{Cloud:pc,ContentHeader:ps,FooterNav:hc,ImageSearch:mc,Local:gc,Modal:ms,OpenTok:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-video"},[e.filesList.length>0?i("div",{staticClass:"fsp-summary__go-back",attrs:{title:"Go to summary"},on:{click:e.goToSummary}}):e._e(),"connecting"===e.state?i("loading"):"accessDenied"===e.state?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el fsp-icon--video-disabled"}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Webcam Disabled")))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("Please enable your webcam to record video or audio.")))])]),i("div",{key:"retryCam",staticClass:"fsp-button fsp-button--outline",on:{click:e.reset}},[e._v("Retry")])]):"scripterror"===e.state?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el fsp-icon--video-disabled"}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s("Failed to load "+e.type))]),i("div",{staticClass:"fsp-source-auth__el"},[i("div",{key:"retryCall",staticClass:"fsp-button fsp-button--outline",on:{click:e.reset}},[e._v("Retry")])])]):"browsererror"===e.state?i("div",{staticClass:"fsp-source-auth__wrapper"},[i("span",{staticClass:"fsp-icon fsp-icon--auth fsp-source-auth__el fsp-icon--webcam-disabled"}),i("div",{staticClass:"fsp-text__title fsp-source-auth__el"},[e._v(e._s(e.t("Webcam Not Supported")))]),i("div",{staticClass:"fsp-source-auth__el"},[i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("Your current browser does not support webcam functionality.")))]),i("br"),i("span",{staticClass:"fsp-text__subheader"},[e._v(e._s(e.t("We suggest using Chrome or Firefox.")))])])]):e._e(),i("div",{ref:"video",staticClass:"fsp-video__container"}),i("footer-nav",{attrs:{"is-visible":"connecting"!==e.state&&!e.isErrored},slot:"footer"},[i("span",{staticClass:"fsp-footer-text",slot:"nav-left"}),e._v(" "),i("span",{slot:"nav-center"},["ready"===e.state?i("span",{staticClass:"fsp-button fsp-button--primary fsp-button--video",attrs:{title:"Start"},on:{click:e.start}},[i("span",{staticClass:"fsp-icon--video-start"})]):e._e(),"recording"===e.state?i("span",{staticClass:"fsp-button fsp-button--cancel fsp-button--video",attrs:{title:"Stop"},on:{click:e.stop}},[i("span",{staticClass:"fsp-icon--video-stop"})]):e._e()])])],1)},staticRenderFns:[],props:{type:String},components:{FooterNav:hc,Loading:fc},computed:{client:function(){return this.$store.getters.apiClient.cloud()},filesList:function(){return this.$store.getters.filesList},maxFiles:function(){return this.$store.getters.maxFiles},routesHistory:function(){return this.$store.getters.routesHistory},isErrored:function(){return-1!==["browsererror","scripterror","accessDenied"].indexOf(this.state)}},data:function(){return{archiveId:null,attempt:0,json:{},state:"connecting",publisher:null,session:null,publisherOptions:{insertMode:"append",width:"100%",height:"100%"}}},methods:ss({},Za.mapActions(["addFile"]),{goToSummary:function(){this.$store.commit("CHANGE_ROUTE",["summary"]),this.$store.dispatch("updateMobileNavActive",!1)},loadOpenTok:function(){var e=this;return this.state="connecting",Wa.loadModule(yr.vendor.opentok+"?"+this.attempt).catch(function(){e.state="scripterror"})},reset:function(){var e=this;this.session&&(this.publisher&&this.session.unpublish(this.publisher),this.session.disconnect()),this.attempt+=1,this.loadOpenTok().then(function(t){e.initialize(t)})},initialize:function(e){var t=this;e&&this.client.tokInit(this.$props.type).then(function(i){var n=JSON.parse(i.text),r=ss({},t.publisherOptions,{mirror:!1,resolution:t.$store.getters.videoResolution,publishVideo:"video"===t.$props.type});t.json=n,t.session=e.initSession(n.key,n.ot_session_id),t.session.connect(n.ot_token,function(i){!i&&t.$refs&&t.$refs.video?(t.publisher=e.initPublisher(t.$refs.video,r),t.session.publish(t.publisher),t.publisher.on("accessAllowed",function(){t.state="ready"}),t.publisher.on("accessDenied",function(){t.state="accessDenied"})):t.state="errored"}),t.session.on("archiveStarted",function(e){t.archiveId=e.id,t.state="recording"}),t.session.on("archiveStopped",function(e){t.archiveId=e.id})}).catch(function(){t.state="errored"})},start:function(){var e=this;this.state="recording",this.client.tokStart(this.$props.type,this.json.key,this.json.ot_session_id).catch(function(t){e.state="errored",console.log(t)})},stop:function(){var e=this;this.archiveId?(this.state="ready",this.client.tokStop(this.$props.type,this.json.key,this.json.ot_session_id,this.archiveId).then(function(){var t=e.$store.getters.lang,i=(new Date).toLocaleString(t,{month:"short",day:"numeric",hour:"numeric",minute:"numeric",year:"numeric"}),n="audio"===e.$props.type?"mp3":"mp4",r="audio"===e.$props.type?"audio/mp3":"video/mp4";e.addFile({source:e.$props.type,sourceKind:"cloud",path:"/"+e.archiveId+"/recording-"+i+"."+n,name:"recording-"+i+"."+n,mimetype:r}),e.maxFiles>1&&e.goToSummary()}).catch(function(t){e.state="errored",console.log(t)})):console.log("No archive ID")}}),beforeMount:function(){navigator.mediaDevices||(this.state="browsererror")},mounted:function(){var e=this;"browsererror"!==this.state&&this.loadOpenTok().then(function(t){e.initialize(t)})},destroyed:function(){this.session&&(this.publisher&&this.session.unpublish(this.publisher),this.session.disconnect())},watch:{type:function(){var e=this;this.session&&(this.publisher&&this.session.unpublish(this.publisher),this.session.disconnect(),this.loadOpenTok().then(function(t){e.initialize(t)}))}}},Sidebar:hs,Url:_c,Webcam:vc},computed:ss({},Za.mapGetters(["canStartUpload","cloudLoading","filesNeededCount","filesWaiting","mobileNavActive","minFiles","route"]),{currentSource:function(){var e=this.route[1];return ys(e)},minFilesMessage:function(){return 1===this.filesNeededCount?this.t("Add")+" 1 "+this.t("more file"):this.filesNeededCount>1?this.t("Add")+" "+this.filesNeededCount+" "+this.t("more files"):null},isInsideCloudFolder:function(){return"cloud"===this.currentSource.ui&&!this.mobileNavActive&&this.route[2]&&this.route[2].length}}),methods:ss({},Za.mapActions(["deselectAllFiles","goBack","updateMobileNavActive"]),{goToSummary:function(){this.canStartUpload&&(this.$store.commit("CHANGE_ROUTE",["summary"]),this.updateMobileNavActive(!1))}})},bc=(zi(function(e){!function(t){"use strict";var i=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),r=n&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,i,s,c,l,u,d,f,p;if(!(t=e.match(a)))throw new Error("invalid data URI");for(i=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],c=e.slice(t[0].length),l=s?atob(c):decodeURIComponent(c),u=new ArrayBuffer(l.length),d=new Uint8Array(u),f=0;f<l.length;f+=1)d[f]=l.charCodeAt(f);return n?new Blob([r?d:u],{type:i}):((p=new o).append(u),p.getBlob(i))};t.HTMLCanvasElement&&!i.toBlob&&(i.mozGetAsFile?i.toBlob=function(e,t,n){e(n&&i.toDataURL&&s?s(this.toDataURL(t,n)):this.mozGetAsFile("blob",t))}:i.toDataURL&&s&&(i.toBlob=function(e,t,i){e(s(this.toDataURL(t,i)))})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)}),{viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null}),wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ac=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Sc=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},Ec=/^data:.*,/,xc=/([a-z\d])([A-Z])/g,Fc=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,kc=/\s+/,Ic=/^(width|height|left|top|marginLeft|marginTop)$/,Oc=/^\s+(.*)\s+$/,Tc=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,Dc="undefined"!=typeof window?window.navigator:null,Lc=Dc&&Tc.test(Dc.userAgent),Mc=Object.prototype,Rc=Mc.toString,Uc=Mc.hasOwnProperty,Nc=String.fromCharCode,Pc={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,i=e.element,n=e.container,r=e.cropper,o="cropper-hidden",a=void 0;jn(r,o),Wn(i,o),e.containerData=a={width:Math.max(n.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(t.minContainerHeight)||100)},Bn(r,{width:a.width,height:a.height}),jn(i,o),Wn(r,o)},initCanvas:function(){var e=this,t=e.options.viewMode,i=e.containerData,n=e.imageData,r=Math.abs(n.rotate)%180==90,o=r?n.naturalHeight:n.naturalWidth,a=r?n.naturalWidth:n.naturalHeight,s=o/a,c=i.width,l=i.height;i.height*s>i.width?3===t?c=i.height*s:l=i.width/s:3===t?l=i.width/s:c=i.height*s;var u={naturalWidth:o,naturalHeight:a,aspectRatio:s,width:c,height:l};u.oldLeft=u.left=(i.width-c)/2,u.oldTop=u.top=(i.height-l)/2,e.canvasData=u,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=Pn({},n),e.initialCanvasData=Pn({},u)},limitCanvas:function(e,t){var i=this,n=i.options,r=n.viewMode,o=i.containerData,a=i.canvasData,s=a.aspectRatio,c=i.cropBoxData,l=i.cropped&&c;if(e){var u=Number(n.minCanvasWidth)||0,d=Number(n.minCanvasHeight)||0;r>1?(u=Math.max(u,o.width),d=Math.max(d,o.height),3===r&&(d*s>u?u=d*s:d=u/s)):r>0&&(u?u=Math.max(u,l?c.width:0):d?d=Math.max(d,l?c.height:0):l&&(u=c.width,(d=c.height)*s>u?u=d*s:d=u/s)),u&&d?d*s>u?d=u/s:u=d*s:u?d=u/s:d&&(u=d*s),a.minWidth=u,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(r){var f=o.width-a.width,p=o.height-a.height;a.minLeft=Math.min(0,f),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,f),a.maxTop=Math.max(0,p),l&&i.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===r&&(a.width>=o.width&&(a.minLeft=Math.min(0,f),a.maxLeft=Math.max(0,f)),a.height>=o.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=o.width,a.maxTop=o.height},renderCanvas:function(e){var t=this,i=t.canvasData,n=t.imageData,r=n.rotate;if(t.rotated){t.rotated=!1;var o=ur({width:n.width,height:n.height,degree:r}),a=o.width/o.height,s=1===n.aspectRatio;if(s||a!==i.aspectRatio){if(i.left-=(o.width-i.width)/2,i.top-=(o.height-i.height)/2,i.width=o.width,i.height=o.height,i.aspectRatio=a,i.naturalWidth=n.naturalWidth,i.naturalHeight=n.naturalHeight,s&&r%90||r%180){var c=ur({width:n.naturalWidth,height:n.naturalHeight,degree:r});i.naturalWidth=c.width,i.naturalHeight=c.height}t.limitCanvas(!0,!1)}}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),t.limitCanvas(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),Bn(t.canvas,Pn({width:i.width,height:i.height},lr({translateX:i.left,translateY:i.top}))),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,i=t.canvasData,n=t.imageData,r=void 0,o=void 0,a=void 0,s=void 0;n.rotate&&(r={width:a=(o=ur({width:i.width,height:i.height,degree:n.rotate,aspectRatio:n.aspectRatio},!0)).width,height:s=o.height,left:(i.width-a)/2,top:(i.height-s)/2}),Pn(n,r||{width:i.width,height:i.height,left:0,top:0}),Bn(t.image,Pn({width:n.width,height:n.height},lr(Pn({translateX:n.left,translateY:n.top},n)))),e&&t.output()},initCropBox:function(){var e=this,t=e.options,i=t.aspectRatio,n=Number(t.autoCropArea)||.8,r=e.canvasData,o={width:r.width,height:r.height};i&&(r.height*i>r.width?o.height=o.width/i:o.width=o.height*i),e.cropBoxData=o,e.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.oldLeft=o.left=r.left+(r.width-o.width)/2,o.oldTop=o.top=r.top+(r.height-o.height)/2,e.initialCropBoxData=Pn({},o)},limitCropBox:function(e,t){var i=this,n=i.options,r=n.aspectRatio,o=i.containerData,a=i.canvasData,s=i.cropBoxData,c=i.limited;if(e){var l=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,d=Math.min(o.width,c?a.width:o.width),f=Math.min(o.height,c?a.height:o.height);l=Math.min(l,o.width),u=Math.min(u,o.height),r&&(l&&u?u*r>l?u=l/r:l=u*r:l?u=l/r:u&&(l=u*r),f*r>d?f=d/r:d=f*r),s.minWidth=Math.min(l,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}t&&(c?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(o.width,a.left+a.width)-s.width,s.maxTop=Math.min(o.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=o.width-s.width,s.maxTop=o.height-s.height))},renderCropBox:function(){var e=this,t=e.options,i=e.containerData,n=e.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),e.limitCropBox(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),t.movable&&t.cropBoxMovable&&Yn(e.face,"action",n.width===i.width&&n.height===i.height?"move":"all"),Bn(e.cropBox,Pn({width:n.width,height:n.height},lr({translateX:n.left,translateY:n.top}))),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&Kn(e.element,"crop",e.getData())}},zc={initPreview:function(){var e=this,t=e.options.preview,i=ir("img"),n=e.crossOrigin,r=n?e.crossOriginUrl:e.url;if(n&&(i.crossOrigin=n),i.src=r,nr(e.viewBox,i),e.image2=i,t){var o=t.querySelector?[t]:document.querySelectorAll(t);e.previews=o,Nn(o,function(e){var t=ir("img");Yn(e,"preview",{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),n&&(t.crossOrigin=n),t.src=r,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',or(e),nr(e,t)})}},resetPreview:function(){Nn(this.previews,function(e){var t=Vn(e,"preview");Bn(e,{width:t.width,height:t.height}),e.innerHTML=t.html,qn(e,"preview")})},preview:function(){var e=this,t=e.imageData,i=e.canvasData,n=e.cropBoxData,r=n.width,o=n.height,a=t.width,s=t.height,c=n.left-i.left-t.left,l=n.top-i.top-t.top;e.cropped&&!e.disabled&&(Bn(e.image2,Pn({width:a,height:s},lr(Pn({translateX:-c,translateY:-l},t)))),Nn(e.previews,function(e){var i=Vn(e,"preview"),n=i.width,u=i.height,d=n,f=u,p=1;r&&(f=o*(p=n/r)),o&&f>u&&(d=r*(p=u/o),f=u),Bn(e,{width:d,height:f}),Bn(er(e,"img")[0],Pn({width:a*p,height:s*p},lr(Pn({translateX:-c*p,translateY:-l*p},t))))}))}},Bc="undefined"!=typeof window?window.PointerEvent:null,$c=Bc?"pointerdown":"touchstart mousedown",jc=Bc?"pointermove":"touchmove mousemove",Wc=Bc?" pointerup pointercancel":"touchend touchcancel mouseup",Hc={bind:function(){var e=this,t=e.options,i=e.element,n=e.cropper;Mn(t.cropstart)&&Qn(i,"cropstart",t.cropstart),Mn(t.cropmove)&&Qn(i,"cropmove",t.cropmove),Mn(t.cropend)&&Qn(i,"cropend",t.cropend),Mn(t.crop)&&Qn(i,"crop",t.crop),Mn(t.zoom)&&Qn(i,"zoom",t.zoom),Qn(n,$c,e.onCropStart=zn(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&Qn(n,"wheel mousewheel DOMMouseScroll",e.onWheel=zn(e.wheel,e)),t.toggleDragModeOnDblclick&&Qn(n,"dblclick",e.onDblclick=zn(e.dblclick,e)),Qn(document,jc,e.onCropMove=zn(e.cropMove,e)),Qn(document,Wc,e.onCropEnd=zn(e.cropEnd,e)),t.responsive&&Qn(window,"resize",e.onResize=zn(e.resize,e))},unbind:function(){var e=this,t=e.options,i=e.element,n=e.cropper;Mn(t.cropstart)&&Xn(i,"cropstart",t.cropstart),Mn(t.cropmove)&&Xn(i,"cropmove",t.cropmove),Mn(t.cropend)&&Xn(i,"cropend",t.cropend),Mn(t.crop)&&Xn(i,"crop",t.crop),Mn(t.zoom)&&Xn(i,"zoom",t.zoom),Xn(n,$c,e.onCropStart),t.zoomable&&t.zoomOnWheel&&Xn(n,"wheel mousewheel DOMMouseScroll",e.onWheel),t.toggleDragModeOnDblclick&&Xn(n,"dblclick",e.onDblclick),Xn(document,jc,e.onCropMove),Xn(document,Wc,e.onCropEnd),t.responsive&&Xn(window,"resize",e.onResize)}},Gc=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,Vc={resize:function(){var e=this,t=e.options,i=e.container,n=e.containerData,r=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!e.disabled&&n.width!==r&&n.height!==o){var a=i.offsetWidth/n.width;1===a&&i.offsetHeight===n.height||function(){var i=void 0,n=void 0;t.restore&&(i=e.getCanvasData(),n=e.getCropBoxData()),e.render(),t.restore&&(e.setCanvasData(Nn(i,function(e,t){i[t]=e*a})),e.setCropBoxData(Nn(n,function(e,t){n[t]=e*a})))}()}},dblclick:function(){var e=this;e.disabled||"none"===e.options.dragMode||e.setDragMode($n(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,i=Zn(e),n=Number(t.options.wheelZoomRatio)||.1,r=1;t.disabled||(i.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),i.deltaY?r=i.deltaY>0?1:-1:i.wheelDelta?r=-i.wheelDelta/120:i.detail&&(r=i.detail>0?1:-1),t.zoom(-r*n,i)))},cropStart:function(e){var t=this;if(!t.disabled){var i=t.options,n=t.pointers,r=Zn(e),o=void 0;r.changedTouches?Nn(r.changedTouches,function(e){n[e.identifier]=gr(e)}):n[r.pointerId||0]=gr(r),o=Object.keys(n).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":Vn(r.target,"action"),Gc.test(o)&&!1!==Kn(t.element,"cropstart",{originalEvent:r,action:o})&&(r.preventDefault(),t.action=o,t.cropping=!1,"crop"===o&&(t.cropping=!0,jn(t.dragBox,"cropper-modal")))}},cropMove:function(e){var t=this,i=t.action;if(!t.disabled&&i){var n=t.pointers,r=Zn(e);r.preventDefault(),!1!==Kn(t.element,"cropmove",{originalEvent:r,action:i})&&(r.changedTouches?Nn(r.changedTouches,function(e){Pn(n[e.identifier],gr(e,!0))}):Pn(n[r.pointerId||0],gr(r,!0)),t.change(r))}},cropEnd:function(e){var t=this;if(!t.disabled){var i=t.action,n=t.pointers,r=Zn(e);r.changedTouches?Nn(r.changedTouches,function(e){delete n[e.identifier]}):delete n[r.pointerId||0],i&&(r.preventDefault(),Object.keys(n).length||(t.action=""),t.cropping&&(t.cropping=!1,Hn(t.dragBox,"cropper-modal",t.cropped&&this.options.modal)),Kn(t.element,"cropend",{originalEvent:r,action:i}))}}},Yc={change:function(e){var t=this,i=t.options,n=t.containerData,r=t.canvasData,o=t.cropBoxData,a=i.aspectRatio,s=t.action,c=o.width,l=o.height,u=o.left,d=o.top,f=u+c,p=d+l,h=0,m=0,g=n.width,v=n.height,_=!0,y=void 0;!a&&e.shiftKey&&(a=c&&l?c/l:1),t.limited&&(h=o.minLeft,m=o.minTop,g=h+Math.min(n.width,r.width,r.left+r.width),v=m+Math.min(n.height,r.height,r.top+r.height));var b=t.pointers,w=b[Object.keys(b)[0]],C={x:w.endX-w.startX,y:w.endY-w.startY};switch(a&&(C.X=C.y*a,C.Y=C.x/a),s){case"all":u+=C.x,d+=C.y;break;case"e":if(C.x>=0&&(f>=g||a&&(d<=m||p>=v))){_=!1;break}c+=C.x,a&&(l=c/a,d-=C.Y/2),c<0&&(s="w",c=0);break;case"n":if(C.y<=0&&(d<=m||a&&(u<=h||f>=g))){_=!1;break}l-=C.y,d+=C.y,a&&(c=l*a,u+=C.X/2),l<0&&(s="s",l=0);break;case"w":if(C.x<=0&&(u<=h||a&&(d<=m||p>=v))){_=!1;break}c-=C.x,u+=C.x,a&&(l=c/a,d+=C.Y/2),c<0&&(s="e",c=0);break;case"s":if(C.y>=0&&(p>=v||a&&(u<=h||f>=g))){_=!1;break}l+=C.y,a&&(c=l*a,u-=C.X/2),l<0&&(s="n",l=0);break;case"ne":if(a){if(C.y<=0&&(d<=m||f>=g)){_=!1;break}l-=C.y,d+=C.y,c=l*a}else C.x>=0?f<g?c+=C.x:C.y<=0&&d<=m&&(_=!1):c+=C.x,C.y<=0?d>m&&(l-=C.y,d+=C.y):(l-=C.y,d+=C.y);c<0&&l<0?(s="sw",l=0,c=0):c<0?(s="nw",c=0):l<0&&(s="se",l=0);break;case"nw":if(a){if(C.y<=0&&(d<=m||u<=h)){_=!1;break}l-=C.y,d+=C.y,c=l*a,u+=C.X}else C.x<=0?u>h?(c-=C.x,u+=C.x):C.y<=0&&d<=m&&(_=!1):(c-=C.x,u+=C.x),C.y<=0?d>m&&(l-=C.y,d+=C.y):(l-=C.y,d+=C.y);c<0&&l<0?(s="se",l=0,c=0):c<0?(s="ne",c=0):l<0&&(s="sw",l=0);break;case"sw":if(a){if(C.x<=0&&(u<=h||p>=v)){_=!1;break}c-=C.x,u+=C.x,l=c/a}else C.x<=0?u>h?(c-=C.x,u+=C.x):C.y>=0&&p>=v&&(_=!1):(c-=C.x,u+=C.x),C.y>=0?p<v&&(l+=C.y):l+=C.y;c<0&&l<0?(s="ne",l=0,c=0):c<0?(s="se",c=0):l<0&&(s="nw",l=0);break;case"se":if(a){if(C.x>=0&&(f>=g||p>=v)){_=!1;break}l=(c+=C.x)/a}else C.x>=0?f<g?c+=C.x:C.y>=0&&p>=v&&(_=!1):c+=C.x,C.y>=0?p<v&&(l+=C.y):l+=C.y;c<0&&l<0?(s="nw",l=0,c=0):c<0?(s="sw",c=0):l<0&&(s="ne",l=0);break;case"move":t.move(C.x,C.y),_=!1;break;case"zoom":t.zoom(vr(b),e),_=!1;break;case"crop":if(!C.x||!C.y){_=!1;break}y=Jn(t.cropper),u=w.startX-y.left,d=w.startY-y.top,c=o.minWidth,l=o.minHeight,C.x>0?s=C.y>0?"se":"ne":C.x<0&&(u-=c,s=C.y>0?"sw":"nw"),C.y<0&&(d-=l),t.cropped||(Wn(t.cropBox,"cropper-hidden"),t.cropped=!0,t.limited&&t.limitCropBox(!0,!0))}_&&(o.width=c,o.height=l,o.left=u,o.top=d,t.action=s,t.renderCropBox()),Nn(b,function(e){e.startX=e.endX,e.startY=e.endY})}},qc={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&jn(e.dragBox,"cropper-modal"),Wn(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=Pn({},e.initialImageData),e.canvasData=Pn({},e.initialCanvasData),e.cropBoxData=Pn({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(Pn(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),Wn(e.dragBox,"cropper-modal"),jn(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var i=this;return!i.disabled&&e&&(i.isImg&&(i.element.src=e),t?(i.url=e,i.image.src=e,i.ready&&(i.image2.src=e,Nn(i.previews,function(t){er(t,"img")[0].src=e}))):(i.isImg&&(i.replaced=!0),i.options.data=null,i.load(e))),i},enable:function(){var e=this;return e.ready&&(e.disabled=!1,Wn(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,jn(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,i=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),Wn(t,"cropper-hidden")):e.isImg?Xn(t,"load",e.onStart):i&&rr(i),qn(t,"cropper"),e},move:function(e,t){var i=this,n=i.canvasData;return i.moveTo(Tn(e)?e:n.left+Number(e),Tn(t)?t:n.top+Number(t))},moveTo:function(e,t){var i=this,n=i.canvasData,r=!1;return Tn(t)&&(t=e),e=Number(e),t=Number(t),i.ready&&!i.disabled&&i.options.movable&&(On(e)&&(n.left=e,r=!0),On(t)&&(n.top=t,r=!0),r&&i.renderCanvas(!0)),i},zoom:function(e,t){var i=this,n=i.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,i.zoomTo(n.width*e/n.naturalWidth,t)},zoomTo:function(e,t){var i=this,n=i.options,r=i.canvasData,o=r.width,a=r.height,s=r.naturalWidth,c=r.naturalHeight;if((e=Number(e))>=0&&i.ready&&!i.disabled&&n.zoomable){var l=s*e,u=c*e;if(!1===Kn(i.element,"zoom",{originalEvent:t,oldRatio:o/s,ratio:l/s}))return i;if(t){var d=i.pointers,f=Jn(i.cropper),p=d&&Object.keys(d).length?_r(d):{pageX:t.pageX,pageY:t.pageY};r.left-=(l-o)*((p.pageX-f.left-r.left)/o),r.top-=(u-a)*((p.pageY-f.top-r.top)/a)}else r.left-=(l-o)/2,r.top-=(u-a)/2;r.width=l,r.height=u,i.renderCanvas(!0)}return i},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var t=this;return e=Number(e),On(e)&&t.ready&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var i=this,n=i.imageData,r=!1;return Tn(t)&&(t=e),e=Number(e),t=Number(t),i.ready&&!i.disabled&&i.options.scalable&&(On(e)&&(n.scaleX=e,r=!0),On(t)&&(n.scaleY=t,r=!0),r&&i.renderImage(!0)),i},scaleX:function(e){var t=this,i=t.imageData.scaleY;return t.scale(e,On(i)?i:1)},scaleY:function(e){var t=this,i=t.imageData.scaleX;return t.scale(On(i)?i:1,e)},getData:function(e){var t=this,i=t.options,n=t.imageData,r=t.canvasData,o=t.cropBoxData,a=void 0,s=void 0;return t.ready&&t.cropped?(s={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height},a=n.width/n.naturalWidth,Nn(s,function(t,i){t/=a,s[i]=e?Math.round(t):t})):s={x:0,y:0,width:0,height:0},i.rotatable&&(s.rotate=n.rotate||0),i.scalable&&(s.scaleX=n.scaleX||1,s.scaleY=n.scaleY||1),s},setData:function(e){var t=this,i=t.options,n=t.imageData,r=t.canvasData,o={},a=void 0,s=void 0,c=void 0;return Mn(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&Ln(e)&&(i.rotatable&&On(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,t.rotated=a=!0),i.scalable&&(On(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,s=!0),On(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,s=!0)),a?t.renderCanvas():s&&t.renderImage(),c=n.width/n.naturalWidth,On(e.x)&&(o.left=e.x*c+r.left),On(e.y)&&(o.top=e.y*c+r.top),On(e.width)&&(o.width=e.width*c),On(e.height)&&(o.height=e.height*c),t.setCropBoxData(o)),t},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,i={};return e.ready&&Nn(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(e){var t=this,i=t.canvasData,n=i.aspectRatio;return Mn(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&Ln(e)&&(On(e.left)&&(i.left=e.left),On(e.top)&&(i.top=e.top),On(e.width)?(i.width=e.width,i.height=e.width/n):On(e.height)&&(i.height=e.height,i.width=e.height*n),t.renderCanvas(!0)),t},getCropBoxData:function(){var e=this,t=e.cropBoxData,i=void 0;return e.ready&&e.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(e){var t=this,i=t.cropBoxData,n=t.options.aspectRatio,r=void 0,o=void 0;return Mn(e)&&(e=e.call(t.element)),t.ready&&t.cropped&&!t.disabled&&Ln(e)&&(On(e.left)&&(i.left=e.left),On(e.top)&&(i.top=e.top),On(e.width)&&e.width!==i.width&&(r=!0,i.width=e.width),On(e.height)&&e.height!==i.height&&(o=!0,i.height=e.height),n&&(r?i.height=i.width/n:o&&(i.width=i.height*n)),t.renderCropBox()),t},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(Ln(e)||(e={}),!t.cropped)return dr(t.image,t.imageData,e);var i=t.getData(),n=i.width,r=i.height,o=n/r,a=void 0,s=void 0,c=void 0;Ln(e)&&(a=e.width,s=e.height,a?(s=a/o,c=a/n):s&&(a=s*o,c=s/r));var l=Math.floor(a||n),u=Math.floor(s||r),d=ir("canvas"),f=d.getContext("2d");d.width=l,d.height=u,e.fillColor&&(f.fillStyle=e.fillColor,f.fillRect(0,0,l,u));var p=function(){var o=dr(t.image,t.imageData,e),a=o.width,s=o.height,l=t.canvasData,u=[o],d=i.x+l.naturalWidth*(Math.abs(i.scaleX||1)-1)/2,f=i.y+l.naturalHeight*(Math.abs(i.scaleY||1)-1)/2,p=void 0,h=void 0,m=void 0,g=void 0,v=void 0,_=void 0;return d<=-n||d>a?d=p=m=v=0:d<=0?(m=-d,d=0,p=v=Math.min(a,n+d)):d<=a&&(m=0,p=v=Math.min(n,a-d)),p<=0||f<=-r||f>s?f=h=g=_=0:f<=0?(g=-f,f=0,h=_=Math.min(s,r+f)):f<=s&&(g=0,h=_=Math.min(r,s-f)),u.push(Math.floor(d),Math.floor(f),Math.floor(p),Math.floor(h)),c&&(m*=c,g*=c,v*=c,_*=c),v>0&&_>0&&u.push(Math.floor(m),Math.floor(g),Math.floor(v),Math.floor(_)),u}();return f.imageSmoothingEnabled=!!e.imageSmoothingEnabled,e.imageSmoothingQuality&&(f.imageSmoothingQuality=e.imageSmoothingQuality),f.drawImage.apply(f,Sc(p)),d},setAspectRatio:function(e){var t=this,i=t.options;return t.disabled||Tn(e)||(i.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,i=t.options,n=t.dragBox,r=t.face,o=void 0,a=void 0;return t.loaded&&!t.disabled&&(o="crop"===e,a=i.movable&&"move"===e,Yn(n,"action",e=o||a?e:"none"),Hn(n,"cropper-crop",o),Hn(n,"cropper-move",a),i.cropBoxMovable||(Yn(r,"action",e),Hn(r,"cropper-crop",o),Hn(r,"cropper-move",a))),t}},Xc=/^data:/,Qc=/^data:image\/jpeg;base64,/,Kc=void 0,Zc=function(){function e(t,i){Cc(this,e);var n=this;n.element=t,n.options=Pn({},bc,Ln(i)&&i),n.loaded=!1,n.ready=!1,n.complete=!1,n.rotated=!1,n.cropped=!1,n.disabled=!1,n.replaced=!1,n.limited=!1,n.wheeling=!1,n.isImg=!1,n.originalUrl="",n.canvasData=null,n.cropBoxData=null,n.previews=null,n.pointers={},n.init()}return Ac(e,[{key:"init",value:function(){var e=this,t=e.element,i=t.tagName.toLowerCase(),n=void 0;if(!Vn(t,"cropper")){if(Yn(t,"cropper",e),"img"===i){if(e.isImg=!0,e.originalUrl=n=t.getAttribute("src"),!n)return;n=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(n=t.toDataURL());e.load(n)}}},{key:"load",value:function(e){var t=this,i=t.options,n=t.element;if(e)if(t.url=e,t.imageData={},i.checkOrientation&&window.ArrayBuffer)if(Xc.test(e))Qc.test(e)?t.read(hr(e)):t.clone();else{var r=new XMLHttpRequest;r.onerror=r.onabort=function(){t.clone()},r.onload=function(){t.read(r.response)},i.checkCrossOrigin&&ar(e)&&n.crossOrigin&&(e=sr(e)),r.open("get",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===n.crossOrigin,r.send()}else t.clone()}},{key:"read",value:function(e){var t=this,i=t.options,n=pr(e),r=t.imageData,o=0,a=1,s=1;if(n>1)switch(t.url=mr(e),n){case 2:a=-1;break;case 3:o=-180;break;case 4:s=-1;break;case 5:o=90,s=-1;break;case 6:o=90;break;case 7:o=90,a=-1;break;case 8:o=-90}i.rotatable&&(r.rotate=o),i.scalable&&(r.scaleX=a,r.scaleY=s),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,i=e.url,n=void 0,r=void 0,o=void 0,a=void 0;e.options.checkCrossOrigin&&ar(i)&&((n=t.crossOrigin)?r=i:(n="anonymous",r=sr(i))),e.crossOrigin=n,e.crossOriginUrl=r;var s=ir("img");n&&(s.crossOrigin=n),s.src=r||i,e.image=s,e.onStart=o=zn(e.start,e),e.onStop=a=zn(e.stop,e),e.isImg?t.complete?e.start():Qn(t,"load",o):(Qn(s,"load",o),Qn(s,"error",a),jn(s,"cropper-hide"),t.parentNode.insertBefore(s,t.nextSibling))}},{key:"start",value:function(e){var t=this,i=t.isImg?t.element:t.image;e&&(Xn(i,"load",t.onStart),Xn(i,"error",t.onStop)),cr(i,function(e,i){Pn(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this,t=e.image;Xn(t,"load",e.onStart),Xn(t,"error",e.onStop),rr(t),e.image=null}},{key:"build",value:function(){var e=this,t=e.options,i=e.element,n=e.image,r=void 0,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0;if(e.loaded){e.ready&&e.unbuild();var u=ir("div");u.innerHTML='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',e.container=r=i.parentNode,e.cropper=o=tr(u,"cropper-container")[0],e.canvas=a=tr(o,"cropper-canvas")[0],e.dragBox=s=tr(o,"cropper-drag-box")[0],e.cropBox=c=tr(o,"cropper-crop-box")[0],e.viewBox=tr(o,"cropper-view-box")[0],e.face=l=tr(c,"cropper-face")[0],nr(a,n),jn(i,"cropper-hidden"),r.insertBefore(o,i.nextSibling),e.isImg||Wn(n,"cropper-hide"),e.initPreview(),e.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,e.cropped=t.autoCrop,t.autoCrop?t.modal&&jn(s,"cropper-modal"):jn(c,"cropper-hidden"),t.guides||jn(tr(c,"cropper-dashed"),"cropper-hidden"),t.center||jn(tr(c,"cropper-center"),"cropper-hidden"),t.background&&jn(o,"cropper-bg"),t.highlight||jn(l,"cropper-invisible"),t.cropBoxMovable&&(jn(l,"cropper-move"),Yn(l,"action","all")),t.cropBoxResizable||(jn(tr(c,"cropper-line"),"cropper-hidden"),jn(tr(c,"cropper-point"),"cropper-hidden")),e.setDragMode(t.dragMode),e.render(),e.ready=!0,e.setData(t.data),e.completing=setTimeout(function(){Mn(t.ready)&&Qn(i,"ready",t.ready,!0),Kn(i,"ready"),Kn(i,"crop",e.getData()),e.complete=!0},0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,rr(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=Kc,e}},{key:"setDefaults",value:function(e){Pn(bc,Ln(e)&&e)}}]),e}();Pn(Zc.prototype,Pc),Pn(Zc.prototype,zc),Pn(Zc.prototype,Hc),Pn(Zc.prototype,Vc),Pn(Zc.prototype,Yc),Pn(Zc.prototype,qc),"undefined"!=typeof window&&(Kc=window.Cropper,window.Cropper=Zc);var Jc=function(e){var t=new DataView(e),i=e.byteLength,n={},r=void 0,o=2,a=void 0,s=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(;o<i;){if(255!==t.getUint8(o))return;if(r=t.getUint8(o+1),a=o,s=o+2+t.getUint16(o+2),r>=225&&r<=239)void 0===n.startOffset&&(n.startOffset=a),n.endOffset=s;else{if(void 0!==n.startOffset)return n;if(218===r)return}o=s}},el=function(e){for(var t=new DataView(e),i=e.byteLength,n=2,r=void 0,o=void 0,a=void 0;n<i&&(r=t.getUint8(n+1),o=n+2+t.getUint16(n+2),192===r||194===r||224===r);)a={startOffset:o,endOffset:o},n=o;return a},tl={extractFrom:function(e){var t=Jc(e);return t?e.slice(t.startOffset,t.endOffset):new ArrayBuffer(0)},overwriteInFile:function(e,t){var i=Jc(e);if(i||(i=el(e)),!i)return e;var n=e.slice(0,i.startOffset),r=e.slice(i.endOffset),o=new Uint8Array(n.byteLength+t.byteLength+r.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(t),n.byteLength),o.set(new Uint8Array(r),n.byteLength+t.byteLength),o.buffer},setOrientation:function(e,t){var i=new DataView(e),n=void 0;if(!(e.byteLength<=10)){if(18761===i.getUint16(10))n=!1;else{if(19789!==i.getUint16(10))return;n=!0}if(42===i.getUint16(12,!n)){var r=i.getUint32(14,!n);if(!(r<8))for(var o=10+r,a=i.getUint16(o,!n),s=void 0,c=0;c<a;c+=1)s=o+12*c+2,274===i.getUint16(s,!n)&&i.setUint16(s+8,t,!n)}}}},il={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isBlocked?i("blocked"):e.uiVisible?i("div",[e.isRootRoute("source")?i("pick-from-source"):e._e(),e.isRootRoute("summary")?i("upload-summary"):e._e(),e.isRootRoute("transform")?i("transform"):e._e(),i("notifications"),e.localPickingAllowed&&!e.isRootRoute("transform")?i("drag-and-drop"):e._e()],1):e._e()},staticRenderFns:[],components:{Blocked:gs,DragAndDrop:ls,Notifications:vs,PickFromSource:yc,Transform:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",[i("div",{slot:"header"},[e.uploadStarted?e._e():i("div",{staticClass:"fsp-transformer__go-back",attrs:{title:"Go back"},on:{click:e.goBack}}),i("content-header",{attrs:{"hide-menu":!0}},[i("span",{staticClass:"fsp-header-text--visible"},[e._v(e._s(e.headerText))])])],1),i("div",{staticClass:"fst-sidebar",class:{"fst-sidebar--whitelabel":e.hasWhiteLabel},slot:"sidebar"},e._l(e.options,function(t){return i("div",{key:t,staticClass:"fst-sidebar__option",class:e.getSidebarClasses(t),attrs:{title:e.capitalize(t)},on:{click:function(i){e.handleClick(t)}}},[i("span",{staticClass:"fst-icon",class:e.genIconClass(t)}),e._v(" "+e._s(t))])})),i("div",{staticClass:"fsp-transformer",slot:"body"},["loading"===e.state?i("loading"):e._e(),"errored"===e.state?i("div",{staticClass:"fsp-transformer__error"},[i("div",{staticClass:"fst-icon--broken-image"}),e._v("This image cannot be edited.")]):e._e(),i("img",{directives:[{name:"show",rawName:"v-show",value:"loading"!==e.state&&"errored"!==e.state,expression:"state !== 'loading' && state !== 'errored'"}],ref:"image",staticStyle:{"max-width":"100%"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"rotate"===e.state,expression:"state === 'rotate'"}],staticClass:"fsp-transformer__rotate"},[i("div",{staticClass:"fsp-transformer__rotate-left",attrs:{title:"Rotate -90"},on:{click:function(t){e.rotate(-90)}}}),i("div",{staticClass:"fsp-transformer__rotate-right",attrs:{title:"Rotate 90"},on:{click:function(t){e.rotate(90)}}})]),i("footer-nav",{attrs:{"is-visible":!e.uploadStarted},slot:"footer"},[i("span",{staticClass:"fsp-button fsp-button--cancel",class:{"fsp-button--cancel-disabled":!e.file.transformed||"loading"===e.state},on:{click:e.handleReset},slot:"nav-left"},[e._v(e._s(e.t("Reset")))]),i("div",{slot:"nav-right"},["ready"!==e.state&&"loading"!==e.state&&"errored"!==e.state?i("span",{staticClass:"fsp-button fsp-button--outline",attrs:{title:"Save"},on:{click:e.handleApply}},[e._v(e._s(e.t("Save"))+" ")]):1===e.maxFiles?i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":"loading"===e.state},attrs:{title:"Upload"},on:{click:e.handleUpload}},[e._v(e._s(e.t("Upload"))+" ")]):e.cropForce&&e.filesNotCropped.length&&"loading"!==e.state?i("span",{staticClass:"fsp-button fsp-button--primary",attrs:{title:"Next"},on:{click:e.handleNext}},[e._v(e._s(e.t("Next"))+" ")]):i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":"loading"===e.state},attrs:{title:"Done"},on:{click:e.handleDone}},[e._v(e._s(e.t("Done")))])])]),i("footer-nav",{attrs:{"is-visible":e.uploadStarted,"full-width":!0},slot:"footer"},[i("span",{slot:"nav-center"},[i("progress-bar",{attrs:{progress:e.file.progress}})],1)])],1)])},staticRenderFns:[],components:{ContentHeader:ps,FooterNav:hc,Loading:fc,Modal:ms,ProgressBar:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fsp-progress-bar"},[i("div",{staticClass:"fsp-progress-bar__container"},[i("div",{ref:"bar",staticClass:"fsp-progress-bar__bar",staticStyle:{width:"0"}})])])},staticRenderFns:[],watch:{progress:function(e){this.$refs.bar.style.width=e+"%"}},props:["progress"]}},beforeDestroy:function(){this.cropper.destroy(),this.cropper=null},mounted:function(){var e=this;this.$nextTick(function(){e.initialize()})},computed:ss({},Za.mapGetters(["apiClient","cropAspectRatio","cropForce","files","hasWhiteLabel","maxFiles","route","transformations","uploadStarted","filesList"]),{headerText:function(){return this.maxFiles>1?"Edit Image":"Upload Image"},filesNotCropped:function(){return this.filesList.filter(function(e){return Ws(e)&&!e.cropped})},options:function(){var e=[];return this.transformations.crop&&e.push("crop"),this.transformations.circle&&(e.push("circle"),"number"!=typeof this.cropAspectRatio||isNaN(this.cropAspectRatio)||1===this.cropAspectRatio||e.pop()),this.transformations.rotate&&e.push("rotate"),e}}),data:function(){return{cropper:null,file:{},hasCircle:!1,jpegHeader:null,state:"loading"}},methods:ss({},Za.mapActions(["deselectAllFiles","resizeImageMaybe","startUploading","uploadOne"]),{apply:function(e){var t=this,i=this.file.mimetype,n=this.file.name,r=this.state;return new Promise(function(o){var a=t.cropper.getCroppedCanvas();if("circle"===t.state&&(a=t.getRoundedCanvas(a),t.hasCircle=!0),t.hasCircle||Hs(t.file)){var s=t.file.name&&t.file.name.split(".").pop().toLowerCase();i="image/png",n="png"===s?n:n+".png"}t.state="loading",a.toBlob(function(a){a.name=n,t.resizeImageMaybe(a).then(function(s){var c=s||a;if(t.jpegHeader&&"image/png"!==i){var l=(c.slice||c.webkitSlice||c.mozSlice).call(c,20);c=new Blob([t.jpegHeader,l],{type:i})}t.resetEXIFOrientation(c).then(function(i){t.cropper&&(i.name=n,t.$store.commit("SET_FILE_TRANSFORMATION",{uuid:t.file.uuid,blob:i,transform:r}),e||t.cropper.replace(window.URL.createObjectURL(i))),o()})})},i)})},capitalize:function(e){return e&&e[0].toUpperCase()+e.slice(1)},getRoundedCanvas:function(e){var t=document.createElement("canvas"),i=t.getContext("2d"),n=e.width,r=e.height;return t.width=n,t.height=r,i.imageSmoothingEnabled=!0,i.drawImage(e,0,0,n,r),i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(n/2,r/2,Math.min(n,r)/2,0,2*Math.PI,!0),i.fill(),t},getImageURL:function(e){var t=this;return new Promise(function(i){if(e.transformed)i(window.URL.createObjectURL(e.transformed));else if(e.originalFile)if(e.state===cc.resizing){!function t(){e.state===cc.resizing?setTimeout(t,100):i(window.URL.createObjectURL(e.originalFile))}()}else i(window.URL.createObjectURL(e.originalFile));else if(e.state===cc.uploading){!function n(){e.state===cc.uploading?setTimeout(n,100):i(t.signUrl(e.url))}()}else t.uploadOne(e).then(function(e){return i(t.signUrl(e.url))}).catch(function(){t.state="errored",i()})})},genIconClass:function(e){return this.state!==e||this.uploadStarted||"loading"===this.state||"errored"===this.state?"fst-icon--"+e+"-black":"fst-icon--"+e+"-blue"},getSidebarClasses:function(e){return{"fst-sidebar__option--active":e===this.state,"fst-sidebar__option--disabled":"loading"===this.state||"errored"===this.state||this.uploadStarted}},goBack:function(){1===this.maxFiles&&(this.$store.commit("REMOVE_FILE_TRANSFORMATION",this.file.uuid),this.$store.dispatch("deselectAllFiles")),this.$store.commit("GO_BACK_WITH_ROUTE")},handleApply:function(){"ready"!==this.state&&"loading"!==this.state&&"errored"!==this.state&&this.apply()},handleReset:function(){"loading"!==this.state&&(this.$store.commit("REMOVE_FILE_TRANSFORMATION",this.file.uuid),this.state="loading",this.hasCircle=!1,this.$refs.image.src="",this.cropper.destroy(),this.initialize())},handleClick:function(e){this.state=e},handleNext:function(){if("loading"!==this.state){var e=this.filesNotCropped[0];this.state="loading",this.hasCircle=!1,this.$refs.image.src="",this.cropper.destroy(),this.initialize(e.uuid)}},handleDone:function(){var e=this;"ready"!==this.state&&"loading"!==this.state&&"errored"!==this.state?this.apply(!0).then(function(){return e.goBack()}):"loading"!==this.state&&this.goBack()},handleUpload:function(){var e=this;"ready"!==this.state&&"loading"!==this.state&&"errored"!==this.state?this.apply(!0).then(function(){return e.startUploading()}):"loading"!==this.state&&this.startUploading()},initialize:function(e){var t=this,i={aspectRatio:this.cropAspectRatio,autoCrop:!1,autoCropArea:1,background:!1,center:!1,checkOrientation:!0,checkCrossOrigin:!0,dragMode:"none",guides:!1,toggleDragModeOnDblclick:!1,viewMode:1,zoomable:!1};e=e||this.route[1],this.file=this.files[e],ec(this.file.originalFile).then(function(e){t.jpegHeader=e,t.getImageURL(t.file).then(function(e){var n=t.$refs.image;n&&(n.src=e,n.addEventListener("ready",function(){t.state="ready"}),t.cropper=new Zc(n,i))}).catch(function(){t.state="errored"})}).catch(function(){t.state="errored"})},resetEXIFOrientation:function(e){return new Promise(function(t){try{var i=new FileReader;i.onloadend=function(){var n=i.result,r=tl.extractFrom(n);tl.setOrientation(r,1);var o=tl.overwriteInFile(n,r),a=new Blob([o],{type:e.type});t(a)},i.readAsArrayBuffer(e)}catch(i){t(e)}})},rotate:function(e){this.cropper.rotate(e)},signUrl:function(e){var t=this.apiClient.getSecurity();return t&&t.policy&&t.signature?e+"?policy="+t.policy+"&signature="+t.signature:e}}),watch:{state:function(e){var t=document.querySelector(".fsp-picker .cropper-view-box"),i=document.querySelector(".fsp-picker .cropper-face");switch(e){case"ready":this.cropper.reset(),this.cropper.clear(),this.cropForce&&!this.file.cropped&&(this.state="crop");break;case"circle":t.style.borderRadius="50%",i.style.borderRadius="50%",this.cropper.setAspectRatio(1),this.cropper.crop();break;case"crop":t.style.borderRadius="0px",i.style.borderRadius="0px",this.cropper.setAspectRatio(this.cropAspectRatio),this.cropper.crop();break;case"rotate":this.cropper.clear()}}}},UploadSummary:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",[i("div",{slot:"header"},[e.uploadStarted||e.mobileNavActive?e._e():i("div",{staticClass:"fsp-summary__go-back",attrs:{title:"Go back"},on:{click:e.goBack}}),i("content-header",[e.mobileNavActive?e._e():i("span",{staticClass:"fsp-header-text--visible"},[e._v(e._s(e.headerText))])])],1),i("sidebar",{slot:"sidebar"}),i("div",{staticClass:"fsp-summary",slot:"body"},[i("div",{staticClass:"fsp-summary__header"},[i("div",{staticClass:"fsp-summary__filter"},[i("input",{attrs:{placeholder:e.placeholderText},on:{input:e.updateFilter}}),e._v(" "),i("span",{staticClass:"fsp-summary__filter-icon"})])]),i("div",{staticClass:"fsp-summary__body"},[e.onlyTransformedImages.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Edited Images")))]):e._e(),e.onlyTransformedImages.length?i("div",{staticClass:"fsp-summary__images-container"},e._l(e.onlyTransformedImages,function(t){return i("div",{key:t.uuid,staticClass:"fsp-summary__item"},[e.disableThumbnails&&"local_file_system"===t.source?i("div",{staticClass:"fsp-summary__thumbnail-container"},[i("span",{class:e.generateClass(t)})]):"local_file_system"===t.source||t.transformed?i("img",{ref:t.uuid,refInFor:!0,staticClass:"fsp-summary__thumbnail",attrs:{src:e.generateThumbnail(t)},on:{load:function(i){e.revokeURL(t)}}}):i("div",[i("img",{staticClass:"fsp-summary__thumbnail",attrs:{src:t.thumbnail}})]),i("span",{staticClass:"fsp-summary__item-name",attrs:{title:t.name}},[i("span",{staticStyle:{display:"block"}},[e._v(e._s(t.name))]),e._v(" "),t.size?i("span",{staticClass:"fsp-summary__size"},[("local_file_system"===t.source||t.transformed)&&e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),i("span",[e._v(e._s(e.translatedFileSize(t)))])]):e._e()]),e.uploadStarted?i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}):e._e(),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[e.disableTransformer?e._e():i("span",[i("span",{staticClass:"fsp-summary__action fsp-summary__action--button",on:{click:function(i){e.revert(t)}}},[e._v(e._s(e.t("Revert")))])]),i("span",{staticClass:"fsp-summary__action-separator"}),e._v(" "),i("span",{staticClass:"fsp-summary__action fsp-summary__action--remove",on:{click:function(i){e.addFile(t)}}})])])})):e._e(),e.onlyCroppedImages.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Cropped Images")))]):e._e(),e.onlyCroppedImages.length?i("div",{staticClass:"fsp-summary__images-container"},e._l(e.onlyCroppedImages,function(t){return i("div",{key:t.uuid,staticClass:"fsp-summary__item"},[e.disableThumbnails&&"local_file_system"===t.source?i("div",{staticClass:"fsp-summary__thumbnail-container"},[i("span",{class:e.generateClass(t)})]):"local_file_system"===t.source||t.transformed?i("img",{ref:t.uuid,refInFor:!0,staticClass:"fsp-summary__thumbnail",attrs:{src:e.generateThumbnail(t)},on:{load:function(i){e.revokeURL(t)}}}):i("div",[i("img",{staticClass:"fsp-summary__thumbnail",attrs:{src:t.thumbnail}})]),i("span",{staticClass:"fsp-summary__item-name"},[i("span",{staticStyle:{display:"block"}},[e._v(e._s(t.name))]),e._v(" "),t.size?i("span",{staticClass:"fsp-summary__size"},[("local_file_system"===t.source||t.transformed)&&e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),e._v(e._s(e.translatedFileSize(t)))]):e._e()]),e.uploadStarted?i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}):e._e(),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[e.disableTransformer?e._e():i("span",[i("span",{staticClass:"fsp-summary__action fsp-summary__action--button",on:{click:function(i){e.revert(t)}}},[e._v(e._s(e.t("Revert")))])]),i("span",{staticClass:"fsp-summary__action-separator"}),e._v(" "),i("span",{staticClass:"fsp-summary__action fsp-summary__action--remove",on:{click:function(i){e.addFile(t)}}})])])})):e._e(),e.onlyImages.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Images")))]):e._e(),e.onlyImages.length?i("div",{staticClass:"fsp-summary__images-container"},e._l(e.onlyImages,function(t){return i("div",{key:t.uuid,staticClass:"fsp-summary__item"},[e.disableThumbnails&&"local_file_system"===t.source||!e.isEditable(t)?i("div",{staticClass:"fsp-summary__thumbnail-container"},[i("span",{class:e.generateClass(t)})]):"local_file_system"===t.source?i("img",{ref:t.uuid,refInFor:!0,staticClass:"fsp-summary__thumbnail",attrs:{src:e.generateThumbnail(t)},on:{load:function(i){e.revokeURL(t)}}}):i("div",[i("img",{staticClass:"fsp-summary__thumbnail",attrs:{src:t.transformed||t.thumbnail}})]),i("span",{staticClass:"fsp-summary__item-name",attrs:{title:t.name}},[i("span",{staticStyle:{display:"block"}},[e._v(e._s(t.name))]),e._v(" "),t.size&&!t.transformed?i("span",{staticClass:"fsp-summary__size"},["local_file_system"===t.source&&e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),e.isResizing(t)?i("span",[e._v("(resizing)")]):i("span",[e._v(e._s(e.translatedFileSize(t)))])]):e._e()]),e.uploadStarted?i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}):e._e(),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[!e.disableTransformer&&e.isEditable(t)?i("span",{staticStyle:{display:"flex"}},[e.cropForce?i("span",{staticClass:"fsp-summary__action fsp-summary__action--button fsp-summary__action--button-blue",on:{click:function(i){e.transformImage(t)}}},[e._v(e._s(e.t("Crop")))]):i("span",{staticClass:"fsp-summary__action fsp-summary__action--button",class:{"fsp-summary__action--disabled":e.isResizing(t)},on:{click:function(i){e.transformImage(t)}}},[e._v(e._s(e.t("Edit"))+" ")])]):e._e(),i("span",{staticClass:"fsp-summary__action-separator"}),e._v(" "),i("span",{staticClass:"fsp-summary__action fsp-summary__action--remove",on:{click:function(i){e.addFile(t)}}})])])})):e._e(),e.onlyFiles.length?i("div",{staticClass:"fsp-grid__label"},[e._v(e._s(e.t("Files")))]):e._e(),e._l(e.onlyFiles,function(t){return i("div",{key:t.uuid,staticClass:"fsp-summary__item"},[i("div",{staticClass:"fsp-summary__thumbnail-container"},[i("span",{class:e.generateClass(t)})]),i("span",{staticClass:"fsp-summary__item-name",attrs:{title:t.name}},[e._v(e._s(t.name)+" "),t.size&&!t.transformed?i("span",{staticClass:"fsp-summary__size"},["local_file_system"===t.source&&e.uploadStarted?i("span",{staticClass:"fsp-summary__size-progress"},[e._v(e._s(t.progressSize)+" "+e._s(e.t("of"))+" ")]):e._e(),i("span",[e._v(e._s(e.translatedFileSize(t)))])]):e._e()]),e.uploadStarted?i("div",{staticClass:"fsp-summary__item-progress",style:{width:t.progress+"%"}}):e._e(),e.uploadStarted?e._e():i("div",{staticClass:"fsp-summary__actions-container"},[i("div",{staticClass:"fsp-summary__action",on:{click:function(i){e.addFile(t)}}},[i("span",{staticClass:"fsp-summary__action--remove"})])])])})],2)]),i("footer-nav",{attrs:{"is-visible":!e.uploadStarted},slot:"footer"},[i("span",{staticClass:"fsp-button fsp-button--cancel",on:{click:e.deselectAllFiles},slot:"nav-left"},[e._v(e._s(e.t("Deselect All"))+" ")]),i("span",{staticClass:"fsp-button fsp-button--primary",class:{"fsp-button--disabled":!e.canStartUpload||e.filesResizing.length},attrs:{title:"Upload"},on:{click:e.startUploadMaybe},slot:"nav-right"},[e.uploadStarted||e.canStartUpload?i("span",[e._v(e._s(e.t("Upload"))+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.filesWaiting.length>1,expression:"filesWaiting.length > 1"}],staticClass:"fsp-badge fsp-badge--bright"},[e._v(e._s(e.filesWaiting.length))])]):i("span",[e._v(e._s(e.minFilesMessage))])])])],1)},staticRenderFns:[],components:{ContentHeader:ps,FooterNav:hc,Modal:ms,Sidebar:hs},computed:ss({},Za.mapGetters(["canStartUpload","cropForce","disableThumbnails","disableTransformer","fileCount","filesDone","filesFailed","filesList","filesResizing","filesWaiting","filesNeededCount","minFiles","mobileNavActive","route","routesHistory","uploadStarted"]),{minFilesMessage:function(){return 1===this.filesNeededCount?this.t("Add")+" 1 "+this.t("more file"):this.filesNeededCount>1?this.t("Add")+" "+this.filesNeededCount+" "+this.t("more files"):null},onlyFiles:function(){var e=new RegExp(this.filter,"i");return this.filesList.filter(function(e){return!js(e)}).filter(function(t){return e.test(t.name)})},onlyImages:function(){var e=new RegExp(this.filter,"i");return this.filesList.filter(function(e){return js(e)}).filter(function(e){return!e.transformed}).filter(function(t){return e.test(t.name)})},onlyTransformedImages:function(){var e=new RegExp(this.filter,"i");return this.cropForce?this.filesList.filter(function(e){return js(e)}).filter(function(e){return e.transformed}).filter(function(e){return!e.cropped}).filter(function(t){return e.test(t.name)}):this.filesList.filter(function(e){return js(e)}).filter(function(e){return e.transformed}).filter(function(t){return e.test(t.name)})},onlyCroppedImages:function(){var e=new RegExp(this.filter,"i");return this.cropForce?this.filesList.filter(function(e){return js(e)}).filter(function(e){return e.transformed}).filter(function(e){return e.cropped}).filter(function(t){return e.test(t.name)}):[]},cropForceComplete:function(){return!this.cropForce||!this.onlyImages.length&&!this.onlyTransformedImages.length},headerText:function(){return this.uploadStarted?this.t("Uploaded")+" "+this.filesDone.concat(this.filesFailed).length+" "+this.t("of")+" "+this.fileCount:this.cropForce&&!this.cropForceComplete?this.t("Crop is required on images."):this.t("Selected Files")},placeholderText:function(){return this.t("Filter")}}),data:function(){return{blobURLs:{},filter:""}},methods:ss({},Za.mapActions(["addFile","deselectAllFiles","deselectFolder","goBack","startUploading","uploadFileToTemporaryLocation"]),{isEditable:function(e){return Ws(e)},isResizing:function(e){return e.state===cc.resizing},generateClass:function(e){return js(e)?"fsp-grid__icon-image":Gs(e)?"fsp-grid__icon-audio":"application/pdf"===e.mimetype?"fsp-grid__icon-pdf":"fsp-grid__icon-file"},translatedFileSize:function(e){return"cloud"!==e.sourceKind||e.transformed?Bs(e.size):""},generateThumbnail:function(e){if(this.blobURLs[e.uuid])return this.blobURLs[e.uuid];if(e.transformed){var t=window.URL.createObjectURL(e.transformed);return this.blobURLs[e.uuid]=t,t}var i=window.URL.createObjectURL(e.originalFile);return this.blobURLs[e.uuid]=i,i},revert:function(e){return this.$store.commit("REMOVE_FILE_TRANSFORMATION",e.uuid)},revokeURL:function(e){var t=this.blobURLs[e.uuid];window.URL.revokeObjectURL(t),delete this.blobURLs[e.uuid]},updateFilter:function(e){this.filter=e.target.value},startUploadMaybe:function(){if(this.canStartUpload&&!this.filesResizing.length&&this.cropForceComplete&&this.startUploading(),!this.cropForceComplete){var e=this.onlyImages[0]||this.onlyTransformedImages[0];this.transformImage(e)}},transformImage:function(e){this.$store.commit("CHANGE_ROUTE",["transform",e.uuid])}}),watch:{filesList:{immediate:!0,handler:function(e){0!==e.length||this.uploadStarted||this.$store.commit("GO_BACK_WITH_ROUTE")}}}}},computed:ss({},Za.mapGetters(["fromSources","isBlocked","onClose","pendingReqs","route","uiVisible"]),{localPickingAllowed:function(){return this.fromSources.some(function(e){return"local_file_system"===e.name})}}),methods:ss({},Za.mapActions(["prefetchClouds","prefetch"]),{isRootRoute:function(e){return this.route[0]===e},detectEscPressed:function(e){27===e.keyCode&&(this.$store.dispatch("cancelPick"),this.$root.$destroy())}}),created:function(){window.addEventListener("keyup",this.detectEscPressed),this.prefetch(),this.prefetchClouds()},destroyed:function(){window.removeEventListener("keyup",this.detectEscPressed),this.onClose&&this.onClose()},watch:{route:{immediate:!0,deep:!0,handler:function(e){"done"===e[0]&&this.$root.$destroy()}}}},nl=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},rl=function(e){var t=e.cloud(),i=function(e,t){return ss({source:t,sourceKind:"cloud"},e)},n=_s.filter(function(e){return"cloud"===e.ui}).map(function(e){return e.name}).reduce(function(e,t){return e[t]={status:"initialized"},e},{});return{state:{clouds:ss({},n),cloudFolders:{},selectedCloudPath:null},mutations:{SET_CLOUD_PATH:function(e,t){var i=t.name,n=t.path,r=t.payload,o=r,a=e.clouds[i];a.contents&&a.contents[n]&&(o=a.contents[n].concat(r)),yt.set(a,"contents",ss({},a.contents,as({},n,o))),yt.set(e.clouds[i],"status","ready")},SET_CLOUD_REDIRECT:function(e,t){var i=t.name,n=t.payload.auth.redirect_url;yt.set(e.clouds[i],"redirect",n),yt.set(e.clouds[i],"status","unauthorized")},SET_CLOUD_NEXT:function(e,t){var i=t.name,n=t.path,r=t.next;yt.set(e.clouds[i],"next",ss({},e.clouds[i].next,as({},n,r)))},SET_CLOUD_LOADING:function(e,t){yt.set(e.clouds[t],"status","loading")},SET_CLOUD_ERROR:function(e,t){yt.set(e.clouds[t],"status","errored")},REMOVE_CLOUD_PATHS:function(e,t){e.clouds[t]={status:"initialized"}},REMOVE_ALL_CLOUD_PATHS:function(e){e.clouds=ss({},n)},SET_CLOUD_FOLDERS:function(e,t){t.forEach(function(t){e.cloudFolders[t.path]=ss({},e.cloudFolders[t.path],{name:t.name})})},SET_CLOUD_PATH_SELECTED:function(e,t){e.selectedCloudPath=t},SET_CLOUD_FOLDER_LOADING:function(e,t){var i=t.path,n=t.value;e.cloudFolders=ss({},e.cloudFolders,as({},i,ss({},e.cloudFolders[i],{loading:n})))}},actions:{goToDirectory:function(e,t){var i=e.commit,n=e.dispatch,r=e.getters,o=r.currentCloud.name,a=r.currentCloud.path,s=t.path;n("fetchCloudPath",{name:o,path:s}).then(function(e){if(o===r.currentCloud.name&&void 0!==e){var t=a.concat([s]);i("CHANGE_ROUTE",["source",o,t])}})},logout:function(e,i){var n=e.commit,r=e.dispatch,o=e.getters;i?t.logout(i).then(function(){n("REMOVE_CLOUD_PATHS",i),n("REMOVE_SOURCE_FROM_WAITING",i),i===o.currentCloud.name&&n("CHANGE_ROUTE",["source",i]),n("REMOVE_SOURCE_FROM_ROUTES",i),r("fetchCloudPath",{name:i,path:"/"})}):t.logout().then(function(){n("REMOVE_ALL_CLOUD_PATHS"),n("REMOVE_CLOUDS_FROM_WAITING")})},onFetchSuccess:function(e,t){var n=t.name,r=t.path,o=t.res;return new Promise(function(t,a){var s=o[n];if(s&&s.auth&&s.auth.redirect_url)e.commit("SET_CLOUD_REDIRECT",{name:n,payload:s}),t();else if(s&&s.error){var c=s.error.text||"Error occurred.";a(new Error(c))}else if(s&&s.contents){var l=s.contents.map(function(e){return i(e,n)});e.commit("SET_CLOUD_NEXT",{name:n,path:r,next:s.next});var u=l.filter(function(e){return e.folder});e.commit("SET_CLOUD_FOLDERS",u),e.commit("SET_CLOUD_PATH",{name:n,path:r,payload:l}),t(l)}else a(new Error("Empty response."))})},prefetchClouds:function(e){var i=e.getters.fromSources.filter(function(e){return"cloud"===e.ui}).map(function(e){return e.name}).reduce(function(t,i){return t[i]={path:"/"},"customsource"===i&&(t[i].customSourceContainer=e.getters.customSourceContainer,t[i].customSourcePath=e.getters.customSourcePath),t},{}),n=Object.keys(i);return n.length?(n.forEach(function(t){e.commit("SET_CLOUD_LOADING",t)}),t.list(i).then(function(t){n.forEach(function(i){e.dispatch("onFetchSuccess",{name:i,path:"/",res:t}).catch(function(){e.commit("SET_CLOUD_ERROR",i)})})}).catch(function(){n.forEach(function(t){e.commit("SET_CLOUD_ERROR",t)})})):Promise.resolve()},addCloudFolder:function(e,t){var i=e.state,n=e.commit,r=e.dispatch,o=e.getters,a=t.name,s=t.path,c=t.next;return n("SET_CLOUD_FOLDER_LOADING",{path:s,value:!0}),r("fetchCloudPath",{name:a,path:s,load:!1,next:c}).then(function(e){if(e){n("SET_CLOUD_PATH_SELECTED",s),n("SET_CLOUD_FOLDER_LOADING",{path:s,value:!1}),e.filter(function(e){return!e.folder}).forEach(function(e){return r("addFile",e)}),n("SET_CLOUD_PATH_SELECTED",null);var t=i.clouds[a].next&&i.clouds[a].next[s];t&&o.fileCount!==o.maxFiles&&r("addCloudFolder",{name:a,path:s,next:t})}}).catch(function(e){return n("SET_CLOUD_FOLDER_LOADING",{path:s,value:!1}),r("showNotification",e.message)})},fetchCloudPath:function(e,i){var n=e.state,r=e.commit,o=e.getters,a=e.dispatch,s=i.name,c=i.path,l=void 0===c?"/":c,u=i.load,d=void 0===u||u,f=i.next,p=n.clouds[s];if(!f&&p&&p.contents&&p.contents[l])return Promise.resolve(p.contents[l]);var h=as({},s,{path:l,next:f});return"customsource"===s&&(h.customsource.customSourceContainer=o.customSourceContainer,h.customsource.customSourcePath=o.customSourcePath),d&&r("SET_CLOUD_LOADING",s),t.list(h).then(function(e){return a("onFetchSuccess",{name:s,path:l,res:e})}).catch(function(e){return r("SET_CLOUD_ERROR",s),a("showNotification",e.message)})},goToLastPath:function(e,t){var i=e.getters,n=e.commit;if(i.currentCloud.name!==t){var r=i.routesHistory.filter(function(e){return e[1]===t}).pop();r&&r.length?n("CHANGE_ROUTE",r):n("CHANGE_ROUTE",["source",t])}}},getters:{clouds:function(e){return e.clouds},cloudFolders:function(e){return e.cloudFolders},currentCloud:function(e,t){var i=t.route,n=i[1],r=i[2]||["/"],o=nl(r);return e.clouds[n]?{name:n,path:r,lastPath:o,next:e.clouds[n].next&&e.clouds[n].next[o],redirect:e.clouds[n].redirect,isUnauthorized:"unauthorized"===e.clouds[n].status,isErrored:!e.clouds[n].contents&&"errored"===e.clouds[n].status,isLoading:"loading"===e.clouds[n].status}:{}},currentCloudFiles:function(e,t){var i=t.currentCloud,n=i.name,r=i.lastPath;return e.clouds[n]&&e.clouds[n].contents?e.clouds[n].contents[r]||[]:[]},selectedCloudPath:function(e){return e.selectedCloudPath}}}},ol=function(e){var t=function(e){return ss({source:"imagesearch",sourceKind:"cloud"},e)};return{state:{input:"",isSearching:!1,result:null,error:null},mutations:{UPDATE_INPUT:function(e,t){e.input=t},FETCH_IMAGES_BEGIN:function(e){e.isSearching=!0},FETCH_IMAGES_SUCCESS:function(e,t){e.result=t,e.isSearching=!1},FETCH_IMAGES_ERROR:function(e,t){e.error=t,e.isSearching=!1}},actions:{updateSearchInput:function(e,t){e.commit("UPDATE_INPUT",t)},fetchImages:function(i){if(!i.getters.isSearching){var n=i.getters.imageSearchInput;n&&(i.commit("FETCH_IMAGES_BEGIN"),e.cloud().list({imagesearch:{path:"/"+n}}).then(function(e){var r=e.imagesearch;r||(i.commit("FETCH_IMAGES_ERROR","No response."),i.dispatch("showNotification","An error occurred. Please try again.")),r&&r.contents&&(r.contents=r.contents.map(t),i.commit("FETCH_IMAGES_SUCCESS",r)),r&&r.contents&&0===r.contents.length&&i.dispatch("showNotification","No search results found for "+n),r&&r.error&&(i.commit("FETCH_IMAGES_ERROR",r.error),i.dispatch("showNotification","An error occurred. Please try again."))}).catch(function(e){i.commit("FETCH_IMAGES_ERROR",e),i.dispatch("showNotification",e.message)}))}}},getters:{isSearching:function(e){return e.isSearching},noResultsFound:function(e){return e.result&&0===e.result.contents.length},resultsFound:function(e){return e.result&&e.result.contents.length>0},imageSearchInput:function(e){return e.input},imageSearchResults:function(e){return e.result&&e.result.contents}}}},al={state:{notifications:[]},mutations:{ADD_NOTIFICATION:function(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION:function(e,t){e.notifications=e.notifications.filter(function(e){return e!==t})},REMOVE_ALL_NOTIFICATIONS:function(e){e.notifications.splice(0,e.notifications.length)}},actions:{showNotification:function(e,t,i){var n=ss({message:t},i);e.getters.notifications.map(function(e){return e.message}).indexOf(t)<0&&(e.commit("ADD_NOTIFICATION",n),setTimeout(function(){e.commit("REMOVE_NOTIFICATION",n)},5e3))},removeAllNotifications:function(e){e.commit("REMOVE_ALL_NOTIFICATIONS")}},getters:{notifications:function(e){return e.notifications}}},sl=function(e){return{state:{isFetching:!1},mutations:{FETCH_URL_START:function(e){e.isFetching=!0},FETCH_URL_DONE:function(e){e.isFetching=!1}},actions:{fetchUrl:function(t,i){t.commit("FETCH_URL_START"),e.cloud().metadata(i).then(function(e){e.error?(t.commit("FETCH_URL_DONE"),t.dispatch("showNotification",e.error)):(t.commit("FETCH_URL_DONE"),t.dispatch("addFile",e),t.getters.maxFiles>1&&t.commit("CHANGE_ROUTE",["summary"]))}).catch(function(){t.commit("FETCH_URL_DONE"),t.dispatch("showNotification","Error fetching URL metadata.")})}},getters:{isUrlFetching:function(e){return e.isFetching}}}};yt.use(Za);var cl=function(e){var t=!0;return Object.keys(e).forEach(function(i){e[i]&&(t=!1)}),t},ll=function(e,t,i,n,r){var o=["source",t.fromSources[0].name];return r=ss({apiClient:e,config:t,route:o,routesHistory:[],mobileNavActive:us(navigator.userAgent),selectLabelIsActive:!1,isPrefetching:!0,profile:{blocked:!1,customsource:!1,customsource_name:"Custom Source",intelligent_ingestion:!1,whitelabel:!1}},r),new Za.Store({state:r,modules:{uploadQueue:lc(e,r.uploadQueue),cloud:rl(e),imageSearch:ol(e),urlSource:sl(e),notifications:al},mutations:{CHANGE_ROUTE:function(e,t){us(navigator.userAgent)&&-1!==t.indexOf("local_file_system")&&(e.mobileNavActive=!0),e.routesHistory.push(e.route),e.route=t,e.mobileNavActive=!1},GO_BACK_WITH_ROUTE:function(e){var t=e.routesHistory.pop();t&&(us(navigator.userAgent)&&-1!==t.indexOf("local_file_system")&&(e.mobileNavActive=!0),e.route=t)},REMOVE_SOURCE_FROM_ROUTES:function(e,t){e.routesHistory=e.routesHistory.filter(function(e){return e[1]&&e[1]!==t})},PREFETCH_START:function(e){e.isPrefetching=!0},PREFETCH_SUCCESS:function(e,t){e.profile=t,e.isPrefetching=!1},PREFETCH_ERROR:function(e){e.isPrefetching=!1},UPDATE_MOBILE_NAV_ACTIVE:function(e,t){e.mobileNavActive=t},UPDATE_SELECT_LABEL_ACTIVE:function(e,t){e.selectLabelIsActive=t}},actions:{allUploadsDone:function(e){e.commit("CHANGE_ROUTE",["done"]);var t=zs(e.getters.filesDone),n=zs(e.getters.filesFailed);i({filesUploaded:t,filesFailed:n})},cancelPick:function(e){if(e.getters.rejectOnCancel){var t=zs(e.getters.filesList);n(t)}e.dispatch("cancelAllUploads")},goBack:function(e){e.commit("GO_BACK_WITH_ROUTE")},prefetch:function(t){t.commit("PREFETCH_START"),e.prefetch().then(function(e){t.commit("PREFETCH_SUCCESS",e)}).catch(function(e){t.commit("PREFETCH_ERROR",e)})},updateMobileNavActive:function(e,t){e.commit("UPDATE_MOBILE_NAV_ACTIVE",t)},updateSelectLabelActive:function(e,t){e.commit("UPDATE_SELECT_LABEL_ACTIVE",t)}},getters:{apiClient:function(e){return e.apiClient},uiVisible:function(e,t){return!t.uploadStarted||!e.config.hideWhenUploading},isPrefetching:function(e){return e.isPrefetching},isBlocked:function(e){return e.profile.blocked},hasWhiteLabel:function(e){return e.profile.whitelabel},hasCustomSource:function(e){return e.profile.customsource},hasIntelligent:function(e){return e.profile.intelligent_ingestion},route:function(e){return e.route},routesHistory:function(e){return e.routesHistory},fromSources:function(e){return e.config.fromSources},customSourceContainer:function(e){return e.config.customSourceContainer},customSourcePath:function(e){return e.config.customSourcePath},customSourceName:function(e){return e.profile.customsource_name},accept:function(e){return e.config.accept},preferLinkOverStore:function(e){return e.config.preferLinkOverStore},maxSize:function(e){return e.config.maxSize},minFiles:function(e){return e.config.minFiles},maxFiles:function(e){return e.config.maxFiles},startUploadingWhenMaxFilesReached:function(e){return e.config.startUploadingWhenMaxFilesReached},storeTo:function(e){return e.config.storeTo},uploadInBackground:function(e){return e.config.uploadInBackground},onFileSelected:function(e){return e.config.onFileSelected},onFileUploadStarted:function(e){return e.config.onFileUploadStarted},onFileUploadProgress:function(e){return e.config.onFileUploadProgress},onFileUploadFinished:function(e){return e.config.onFileUploadFinished},onFileUploadFailed:function(e){return e.config.onFileUploadFailed},onUploadStarted:function(e){return e.config.onUploadStarted},rejectOnCancel:function(e){return e.config.rejectOnCancel},mobileNavActive:function(e){return e.mobileNavActive},selectLabelIsActive:function(e){return e.selectLabelIsActive},disableTransformer:function(e){return e.config.disableTransformer||cl(e.config.transformations)},disableThumbnails:function(e){return e.config.disableThumbnails},disableStorageKey:function(e){return e.config.disableStorageKey},lang:function(e){return e.config.lang},onClose:function(e){return e.config.onClose},onOpen:function(e){return e.config.onOpen},videoResolution:function(e){return e.config.videoResolution},imageMin:function(e){return e.config.imageMin},imageMax:function(e){return e.config.imageMax},imageDim:function(e){return e.config.imageDim},transformations:function(e){return e.config.transformations},cropAspectRatio:function(e){return e.config.transformations.crop&&e.config.transformations.crop.aspectRatio||NaN},cropForce:function(e){return e.config.transformations.crop&&e.config.transformations.crop.force}}})},ul=function(e){return"number"==typeof e},dl=function(e){return"object"===(void 0===e?"undefined":os(e))&&null!==e&&!1===Array.isArray(e)},fl=function(e){return e%1==0},pl={fromSources:function(e){return"string"==typeof e&&(e=[e]),e.map(ys)},customSourceContainer:function(e){if("string"!=typeof e)throw new Error('Invalid value for "customSourceContainer" config option');return e},customSourcePath:function(e){if("string"!=typeof e)throw new Error('Invalid value for "customSourcePath" config option');return e},accept:function(e){return"string"==typeof e&&(e=[e]),e.forEach(function(e){if("string"!=typeof e)throw new Error('Invalid value for "accept" config option')}),e},preferLinkOverStore:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "preferLinkOverStore" config option');return e},maxSize:function(e){if("number"!=typeof e||!fl(e)||e<0)throw new Error('Invalid value for "maxSize" config option');return e},minFiles:function(e){if("number"!=typeof e||!fl(e)||e<0)throw new Error('Invalid value for "minFiles" config option');return e},maxFiles:function(e){if("number"!=typeof e||!fl(e)||e<0)throw new Error('Invalid value for "maxFiles" config option');return e},startUploadingWhenMaxFilesReached:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "startUploadingWhenMaxFilesReached" config option');return e},loadCss:function(e){if("boolean"==typeof e&&!1===e||"string"==typeof e)return e;throw new Error('Invalid value for "loadCss" config option')},lang:function(e){if("boolean"==typeof e&&!1===e||"string"==typeof e)return e;throw new Error('Invalid value for "lang" config option')},storeTo:function(e){if(dl(e))return e;throw new Error('Invalid value for "storeTo" config option')},hideWhenUploading:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "hideWhenUploading" config option');return e},uploadInBackground:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "uploadInBackground" config option');return e},disableTransformer:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "disableTransformer" config option');return e},disableThumbnails:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "disableThumbnails" config option');return e},disableStorageKey:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "disableStorageKey" config option');return e},onUploadStarted:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onUploadStarted" config option');return e},onFileSelected:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileSelected" config option');return e},onFileUploadStarted:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadStarted" config option');return e},onFileUploadProgress:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadProgress" config option');return e},onFileUploadFinished:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadFinished" config option');return e},onFileUploadFailed:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onFileUploadFailed" config option');return e},onClose:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onClose" config option');return e},onOpen:function(e){if("function"!=typeof e)throw new Error('Invalid value for "onOpen" config option');return e},videoResolution:function(e){if("string"!=typeof e)throw new Error('Invalid value for "videoResolution" config option');if(-1===["1280x720","640x480","320x240"].indexOf(e))throw new Error('Invalid value for "videoResolution" config option');return e},rejectOnCancel:function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "rejectOnCancel" config option');return e},transformations:function(e){if(dl(e))return e;throw new Error('Invalid value for "transformations" config option')},"transformations.crop":function(e){if(dl(e))return e;if(!0===e)return{};if(!1===e)return!1;throw new Error('Invalid value for "transformations.crop" config option')},"transformations.crop.aspectRatio":function(e){if(ul(e))return e;throw new Error('Invalid value for "transformations.crop.aspectRatio" config option')},"transformations.crop.force":function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "transformations.crop.force" config option');return e},"transformations.circle":function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "transformations.circle" config option');return e},"transformations.rotate":function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "transformations.rotate" config option');return e},imageMin:function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "imageMin" requires array of numbers')}throw new Error('Option "imageMin" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "imageMin" config option')},imageMax:function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "imageMax" requires array of numbers')}throw new Error('Option "imageMax" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "imageMax" config option')},imageDim:function(e){if(Array.isArray(e)){if(2===e.length)return e;throw new Error('Option "imageDim" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "imageDim" config option')},"transformations.crop.circle":function(e){if("boolean"!=typeof e)throw new Error('Invalid value for "transformations.crop.circle" config option');return e},"transformations.minDimensions":function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "transformations.minDimensions" requires array of numbers')}throw new Error('Option "transformations.minDimensions" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "transformations.minDimensions" config option')},"transformations.maxDimensions":function(e){if(Array.isArray(e)){if(2===e.length){if(!e.some(function(e){return"number"!=typeof e}))return e;throw new Error('Option "transformations.maxDimensions" requires array of numbers')}throw new Error('Option "transformations.maxDimensions" requires array with exactly two elements: [width, height]')}throw new Error('Invalid value for "transformations.maxDimensions" config option')},"transformations.filters":function(e){var t=["sepia","monochrome"];if(!Array.isArray(e))throw new Error('Option "transformations.filters" must be an array of strings');return e.forEach(function(e){if(t.indexOf(e)<0)throw new Error(e+' is not a valid option for "transformations.filters"');if("string"!=typeof e)throw new Error('Option "transformations.filters" must be an array of strings')}),e}},hl=function(e,t){var i=ss({},e);if(void 0===i.fromSources&&(i.fromSources=["local_file_system","url","imagesearch","facebook","instagram","googledrive","dropbox"]),void 0===i.preferLinkOverStore&&(i.preferLinkOverStore=!1),void 0===i.minFiles&&(i.minFiles=1),void 0===i.maxFiles&&(i.maxFiles=1),void 0===i.startUploadingWhenMaxFilesReached&&(i.startUploadingWhenMaxFilesReached=!1),void 0===i.loadCss&&(i.loadCss=t.css.main),void 0===i.hideWhenUploading&&(i.hideWhenUploading=!1),void 0===i.lang&&(i.lang="en"),void 0===i.uploadInBackground&&(i.uploadInBackground=!0),void 0===i.disableTransformer&&(i.disableTransformer=!1),void 0===i.transformations&&(i.transformations={crop:{},circle:!0,rotate:!0}),void 0===i.transformations.circle){var n=i.transformations.crop&&i.transformations.crop.circle;void 0!==n&&(i.transformations.circle=n)}if(void 0===i.imageMax){var r=i.transformations.maxDimensions;void 0!==r&&(i.imageMax=r)}if(void 0===i.imageMin){var o=i.transformations.minDimensions;void 0!==o&&(i.imageMin=o)}return i},ml=function e(t,i){var n={};if(Object.keys(t).forEach(function(r){var o=r;i&&(o=i+"."+r);var a=pl[o];if(!a)throw new Error('Unknown config option "'+o+'"');var s=a(t[r]);dl(s)&&-1!==o.indexOf("transformations")?n[r]=e(s,o):n[r]=s}),void 0!==n.minFiles&&void 0!==n.maxFiles&&n.minFiles>n.maxFiles)throw new Error('Config option "minFiles" must be smaller or equal to "maxFiles"');return n};window.Vue=br;var gl=za.context("picker"),vl=function(e,t,i){return new Promise(function(n,r){yt.use(Ra),yt.locales(qs);var o=document.createElement("div");document.body.appendChild(o),t.onOpen&&t.onOpen();var a=new yt({el:o,store:ll(e,t,function(e){n(e)},function(e){r(e)},i),render:function(e){return e(il)},created:function(){this.$translate.setLang(t.lang),document.body.classList.add("fsp-picker-open")},destroyed:function(){a.$el.parentNode.removeChild(a.$el),document.body.classList.remove("fsp-picker-open")}})})},_l=function(e){return!1===e.loadCss?Promise.resolve():Wa.loadCss(e.loadCss)};Wa.registerReadyModule(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gl("Starting picker v0.10.1 with config:",t);var n=ml(hl(t,yr));return _l(n).then(function(){return vl(e,n,i)})})}();
//# sourceMappingURL=picker.js.map
